(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{7406:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[q]}function i(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===G}(e)||Array.isArray(e)||!!e[V]||!!(null===(t=e.constructor)||void 0===t?void 0:t[V])||A(e)||d(e))}function o(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:H)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function s(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:A(e)?2:d(e)?3:0}function c(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function A(e){return x&&e instanceof Map}function d(e){return M&&e instanceof Set}function f(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=j(e);delete t[q];for(var r=H(t),n=0;n<r.length;n++){var a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||a(e)||!i(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=h),Object.freeze(e),t&&o(e,function(e,t){return g(t,!0)},!0)),e}function h(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=Y[e];return t||n(18,e),t}function I(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function C(e){E(e),e.p.forEach(B),e.p=null}function E(e){e===_&&(_=e.l)}function v(e){return _={p:[],l:_,h:e,m:!0,_:0}}function B(e){var t=e[q];0===t.i||1===t.i?t.j():t.g=!0}function S(e,t){t._=t.p.length;var r=t.p[0],a=void 0!==e&&e!==r;return t.h.O||m("ES5").S(t,e,a),a?(r[q].P&&(C(t),n(4)),i(e)&&(e=b(t,e),t.l||T(t,e)),t.u&&m("Patches").M(r[q].t,e,t.u,t.s)):e=b(t,r,[]),C(t),t.u&&t.v(t.u,t.s),e!==K?e:void 0}function b(e,t,r){if(y(t))return t;var n=t[q];if(!n)return o(t,function(a,i){return Q(e,n,t,a,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return T(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=p(n.k):n.o,i=a,s=!1;3===n.i&&(i=new Set(a),a.clear(),s=!0),o(i,function(t,i){return Q(e,n,a,t,i,r,s)}),T(e,a,!1),r&&e.u&&m("Patches").N(n,r,e.u,e.s)}return n.o}function Q(e,t,r,n,o,s,u){if(a(o)){var A=b(e,o,s&&t&&3!==t.i&&!c(t.R,n)?s.concat(n):void 0);if(l(r,n,A),!a(A))return;e.m=!1}else u&&r.add(o);if(i(o)&&!y(o)){if(!e.h.D&&e._<1)return;b(e,o),t&&t.A.l||T(e,o)}}function T(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&g(t,r)}function w(e,t){var r=e[q];return(r?f(r):e)[t]}function N(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function k(e){e.P||(e.P=!0,e.l&&k(e.l))}function D(e){e.o||(e.o=p(e.t))}function R(e,t,r){var n,a,i,o,s,c,l,u=A(t)?m("MapSet").F(t,r):d(t)?m("MapSet").T(t,r):e.O?(i=a={i:(n=Array.isArray(t))?1:0,A:r?r.A:_,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},o=J,n&&(i=[a],o=z),c=(s=Proxy.revocable(i,o)).revoke,l=s.proxy,a.k=l,a.j=c,l):m("ES5").J(t,r);return(r?r.A:_).p.push(u),u}function U(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}r.d(t,{xC:function(){return eT},oM:function(){return eN}});var L,P,_,F="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),x="undefined"!=typeof Map,M="undefined"!=typeof Set,O="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=F?Symbol.for("immer-nothing"):((P={})["immer-nothing"]=!0,P),V=F?Symbol.for("immer-draftable"):"__$immer_draftable",q=F?Symbol.for("immer-state"):"__$immer_state",G=""+Object.prototype.constructor,H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,j=Object.getOwnPropertyDescriptors||function(e){var t={};return H(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Y={},J={get:function(e,t){if(t===q)return e;var r,n,a=f(e);if(!c(a,t))return(n=N(a,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var o=a[t];return e.I||!i(o)?o:o===w(e.t,t)?(D(e),e.o[t]=R(e.A.h,o,e)):o},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,r){var n=N(f(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=w(f(e),t),i=null==a?void 0:a[q];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(u(r,a)&&(void 0!==r||c(e.t,t)))return!0;D(e),k(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==w(e.t,t)||t in e.t?(e.R[t]=!1,D(e),k(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=f(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},z={};o(J,function(e,t){z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),z.deleteProperty=function(e,t){return z.set.call(this,e,t,void 0)},z.set=function(e,t,r){return J.set.call(this,e[0],t,r,e[0])};var W=new(function(){function e(e){var t=this;this.O=O,this.D=!0,this.produce=function(e,r,a){if("function"==typeof e&&"function"!=typeof r){var o,s=r;return r=e,function(e){var n=this;void 0===e&&(e=s);for(var a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(i))})}}if("function"!=typeof r&&n(6),void 0!==a&&"function"!=typeof a&&n(7),i(e)){var c=v(t),l=R(t,e,void 0),u=!0;try{o=r(l),u=!1}finally{u?C(c):E(c)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return I(c,a),S(e,c)},function(e){throw C(c),e}):(I(c,a),S(o,c))}if(!e||"object"!=typeof e){if(void 0===(o=r(e))&&(o=e),o===K&&(o=void 0),t.D&&g(o,!0),a){var A=[],d=[];m("Patches").M(e,o,A,d),a(A,d)}return o}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(a))})};var n,a,i=t.produce(e,r,function(e,t){n=e,a=t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return[e,n,a]}):[i,n,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||n(8),a(e)&&(a(t=e)||n(22,t),e=function e(t){if(!i(t))return t;var r,n=t[q],a=s(t);if(n){if(!n.P&&(n.i<4||!m("ES5").K(n)))return n.t;n.I=!0,r=U(t,a),n.I=!1}else r=U(t,a);return o(r,function(t,a){var i;n&&(2===s(i=n.t)?i.get(t):i[t])===a||l(r,t,e(a))}),3===a?new Set(r):r}(t));var t,r=v(this),c=R(this,e,void 0);return c[q].C=!0,E(r),c},t.finishDraft=function(e,t){var r=(e&&e[q]).A;return I(r,t),S(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!O&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=m("Patches").$;return a(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),X=W.produce;W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseProxies.bind(W),W.applyPatches.bind(W),W.createDraft.bind(W),W.finishDraft.bind(W);var Z=r(4942);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){(0,Z.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function er(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var en="function"==typeof Symbol&&Symbol.observable||"@@observable",ea=function(){return Math.random().toString(36).substring(7).split("").join(".")},ei={INIT:"@@redux/INIT"+ea(),REPLACE:"@@redux/REPLACE"+ea(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ea()}};function eo(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function es(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw Error(er(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map(function(e){return e(a)});return n=eo.apply(void 0,i)(r.dispatch),et(et({},r),{},{dispatch:n})}}}function ec(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}var el=ec();el.withExtraArgument=ec,r(6855);var eu=(L=function(e,t){return(L=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),eA=function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ed=function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},ef=Object.defineProperty,ep=Object.defineProperties,eg=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable,eI=function(e,t,r){return t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},eC=function(e,t){for(var r in t||(t={}))ey.call(t,r)&&eI(e,r,t[r]);if(eh)for(var n=0,a=eh(t);n<a.length;n++){var r=a[n];em.call(t,r)&&eI(e,r,t[r])}return e},eE=function(e,t){return ep(e,eg(t))},ev="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?eo:eo.apply(null,arguments)};function eB(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var a=t.apply(void 0,r);if(!a)throw Error("prepareAction did not return an object");return eC(eC({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var eS=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return eu(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ed([void 0],e[0].concat(this)))):new(t.bind.apply(t,ed([void 0],e.concat(this))))},t}(Array),eb=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return eu(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ed([void 0],e[0].concat(this)))):new(t.bind.apply(t,ed([void 0],e.concat(this))))},t}(Array);function eQ(e){return i(e)?X(e,function(){}):e}function eT(e){var t,r=function(e){var t,r,n,a;return void 0===(t=e)&&(t={}),n=void 0===(r=t.thunk)||r,t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,a=new eS,n&&("boolean"==typeof n?a.push(el):a.push(el.withExtraArgument(n.extraArgument))),a},n=e||{},a=n.reducer,i=void 0===a?void 0:a,o=n.middleware,s=void 0===o?r():o,c=n.devTools,l=void 0===c||c,u=n.preloadedState,A=n.enhancers,d=void 0===A?void 0:A;if("function"==typeof i)t=i;else if(function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}(i))t=function(e){for(var t,r=Object.keys(e),n={},a=0;a<r.length;a++){var i=r[a];"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:ei.INIT}))throw Error(er(12));if(void 0===r(void 0,{type:ei.PROBE_UNKNOWN_ACTION()}))throw Error(er(13))})}(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var a=!1,i={},s=0;s<o.length;s++){var c=o[s],l=n[c],u=e[c],A=l(u,r);if(void 0===A)throw r&&r.type,Error(er(14));i[c]=A,a=a||A!==u}return(a=a||o.length!==Object.keys(e).length)?i:e}}(i);else throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var f=s;"function"==typeof f&&(f=f(r));var p=es.apply(void 0,f),g=eo;l&&(g=ev(eC({trace:!1},"object"==typeof l&&l)));var h=new eb(p),y=h;return Array.isArray(d)?y=ed([p],d):"function"==typeof d&&(y=d(h)),function e(t,r,n){if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(er(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(er(1));return n(e)(t,r)}if("function"!=typeof t)throw Error(er(2));var a,i=t,o=r,s=[],c=s,l=!1;function u(){c===s&&(c=s.slice())}function A(){if(l)throw Error(er(3));return o}function d(e){if("function"!=typeof e)throw Error(er(4));if(l)throw Error(er(5));var t=!0;return u(),c.push(e),function(){if(t){if(l)throw Error(er(6));t=!1,u();var r=c.indexOf(e);c.splice(r,1),s=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(er(7));if(void 0===e.type)throw Error(er(8));if(l)throw Error(er(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=c,r=0;r<t.length;r++)(0,t[r])();return e}return f({type:ei.INIT}),(a={dispatch:f,subscribe:d,getState:A,replaceReducer:function(e){if("function"!=typeof e)throw Error(er(10));i=e,f({type:ei.REPLACE})}})[en]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(er(11));function t(){e.next&&e.next(A())}return t(),{unsubscribe:d(t)}}})[en]=function(){return this},e},a}(t,void 0===u?void 0:u,g.apply(void 0,y))}function ew(e){var t,r={},n=[],a={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(!n)throw Error("`builder.addCase` cannot be called with an empty action type");if(n in r)throw Error("`builder.addCase` cannot be called with two reducers for the same action type");return r[n]=t,a},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[r,n,t]}function eN(e){var t,r=e.name;if(!r)throw Error("`name` is a required option for createSlice");var n="function"==typeof e.initialState?e.initialState:eQ(e.initialState),o=e.reducers||{},s=Object.keys(o),c={},l={},u={};function A(){var t="function"==typeof e.extraReducers?ew(e.extraReducers):[e.extraReducers],r=t[0],o=t[1],s=void 0===o?[]:o,c=t[2],u=void 0===c?void 0:c,A=eC(eC({},void 0===r?{}:r),l);return function(e,t,r,n){void 0===r&&(r=[]);var o,s="function"==typeof t?ew(t):[t,r,void 0],c=s[0],l=s[1],u=s[2];if("function"==typeof e)o=function(){return eQ(e())};else{var A=eQ(e);o=function(){return A}}function d(e,t){void 0===e&&(e=o());var r=ed([c[t.type]],l.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===r.filter(function(e){return!!e}).length&&(r=[u]),r.reduce(function(e,r){if(r){if(a(e)){var n=r(e,t);return void 0===n?e:n}if(i(e))return X(e,function(e){return r(e,t)});var n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return d.getInitialState=o,d}(n,function(e){for(var t in A)e.addCase(t,A[t]);for(var r=0;r<s.length;r++){var n=s[r];e.addMatcher(n.matcher,n.reducer)}u&&e.addDefaultCase(u)})}return s.forEach(function(e){var t,n,a=o[e],i=r+"/"+e;"reducer"in a?(t=a.reducer,n=a.prepare):t=a,c[e]=t,l[i]=t,u[e]=n?eB(i,n):eB(i)}),{name:r,reducer:function(e,r){return t||(t=A()),t(e,r)},actions:u,caseReducers:c,getInitialState:function(){return t||(t=A()),t.getInitialState()}}}var ek=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},eD=["name","message","stack","code"],eR=function(e,t){this.payload=e,this.meta=t},eU=function(e,t){this.payload=e,this.meta=t},eL=function(e){if("object"==typeof e&&null!==e){for(var t={},r=0;r<eD.length;r++){var n=eD[r];"string"==typeof e[n]&&(t[n]=e[n])}return t}return{message:String(e)}};function eP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}!function(){function e(e,t,r){var n=eB(e+"/fulfilled",function(e,t,r,n){return{payload:e,meta:eE(eC({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}}),a=eB(e+"/pending",function(e,t,r){return{payload:void 0,meta:eE(eC({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),i=eB(e+"/rejected",function(e,t,n,a,i){return{payload:a,error:(r&&r.serializeError||eL)(e||"Rejected"),meta:eE(eC({},i||{}),{arg:n,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}}),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign(function(e){return function(s,c,l){var u,A=(null==r?void 0:r.idGenerator)?r.idGenerator(e):ek(),d=new o;function f(e){u=e,d.abort()}var p=function(){var o,p;return o=this,p=function(){var o,p,g,h,y,m;return eA(this,function(I){switch(I.label){case 0:var C;if(I.trys.push([0,4,,5]),!(null!==(C=h=null==(o=null==r?void 0:r.condition)?void 0:o.call(r,e,{getState:c,extra:l}))&&"object"==typeof C&&"function"==typeof C.then))return[3,2];return[4,h];case 1:h=I.sent(),I.label=2;case 2:if(!1===h||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise(function(e,t){return d.signal.addEventListener("abort",function(){return t({name:"AbortError",message:u||"Aborted"})})}),s(a(A,e,null==(p=null==r?void 0:r.getPendingMeta)?void 0:p.call(r,{requestId:A,arg:e},{getState:c,extra:l}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:c,extra:l,requestId:A,signal:d.signal,abort:f,rejectWithValue:function(e,t){return new eR(e,t)},fulfillWithValue:function(e,t){return new eU(e,t)}})).then(function(t){if(t instanceof eR)throw t;return t instanceof eU?n(t.payload,A,e,t.meta):n(t,A,e)})])];case 3:return g=I.sent(),[3,5];case 4:return g=(m=I.sent())instanceof eR?i(null,A,e,m.payload,m.meta):i(m,A,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&i.match(g)&&g.meta.condition||s(g),[2,g]}})},new Promise(function(e,t){var r=function(e){try{a(p.next(e))}catch(e){t(e)}},n=function(e){try{a(p.throw(e))}catch(e){t(e)}},a=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(r,n)};a((p=p.apply(o,null)).next())})}();return Object.assign(p,{abort:f,requestId:A,arg:e,unwrap:function(){return p.then(eP)}})}},{pending:a,rejected:i,fulfilled:n,typePrefix:e})}e.withTypes=function(){return e}}();var e_="listenerMiddleware";eB(e_+"/add"),eB(e_+"/removeAll"),eB(e_+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==r.g?r.g:globalThis),"undefined"!=typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame,function(){function e(e,t){var r=i[e];return r?r.enumerable=t:i[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[q];return J.get(t,e)},set:function(t){var r=this[q];J.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][q];if(!a.P)switch(a.i){case 5:n(a)&&k(a);break;case 4:r(a)&&k(a)}}}function r(e){for(var t=e.t,r=e.k,n=H(r),a=n.length-1;a>=0;a--){var i=n[a];if(i!==q){var o=t[i];if(void 0===o&&!c(t,i))return!0;var s=r[i],l=s&&s[q];if(l?l.t!==o:!u(s,o))return!0}}var A=!!t[q];return n.length!==H(t).length+(A?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var i={};Y.ES5||(Y.ES5={J:function(t,r){var n=Array.isArray(t),a=function(t,r){if(t){for(var n=Array(r.length),a=0;a<r.length;a++)Object.defineProperty(n,""+a,e(a,!0));return n}var i=j(r);delete i[q];for(var o=H(i),s=0;s<o.length;s++){var c=o[s];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,t),i={i:n?5:4,A:r?r.A:_,P:!1,I:!1,R:{},l:r,t:t,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,q,{value:i,writable:!0}),a},S:function(e,r,i){i?a(r)&&r[q].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[q];if(r){var a=r.t,i=r.k,s=r.R,l=r.i;if(4===l)o(i,function(t){t!==q&&(void 0!==a[t]||c(a,t)?s[t]||e(i[t]):(s[t]=!0,k(r)))}),o(a,function(e){void 0!==i[e]||c(i,e)||(s[e]=!1,k(r))});else if(5===l){if(n(r)&&(k(r),s.length=!0),i.length<a.length)for(var u=i.length;u<a.length;u++)s[u]=!1;else for(var A=a.length;A<i.length;A++)s[A]=!0;for(var d=Math.min(i.length,a.length),f=0;f<d;f++)i.hasOwnProperty(f)||(s[f]=!0),void 0===s[f]&&e(i[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}()},94110:function(e,t,r){var n,a,i,o,s,c,l,u,A,d,f,p,g,h=r(93939),y="undefined"!=typeof self&&void 0!==self.Module?self.Module:{},m={};for(n in y)y.hasOwnProperty(n)&&(m[n]=y[n]);var I=[],C=!1,E=!1,v=!1,B=!1;C="object"==typeof window,E="function"==typeof importScripts,v="object"==typeof h&&"object"==typeof h.versions&&"string"==typeof h.versions.node,B=!C&&!v&&!E;var S="";v?(S=E?r(91156).dirname(S)+"/":"//",a=function(e,t){return s||(s=r(8866)),c||(c=r(91156)),e=c.normalize(e),s.readFileSync(e,t?null:"utf8")},o=function(e){var t=a(e,!0);return t.buffer||(t=new Uint8Array(t)),T(t.buffer),t},h.argv.length>1&&h.argv[1].replace(/\\/g,"/"),I=h.argv.slice(2),e.exports=y,h.on("uncaughtException",function(e){if(!(e instanceof H))throw e}),h.on("unhandledRejection",_),y.inspect=function(){return"[Emscripten Module object]"}):B?("undefined"!=typeof read&&(a=function(e){return read(e)}),o=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(T("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?I=scriptArgs:"undefined"!=typeof arguments&&(I=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(C||E)&&(E?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),S=0!==S.indexOf("blob:")?S.substr(0,S.lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},E&&(o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response){t(n.response);return}r()},n.onerror=r,n.send(null)}),y.print||console.log.bind(console);var b=y.printErr||console.warn.bind(console);for(n in m)m.hasOwnProperty(n)&&(y[n]=m[n]);m=null,y.arguments&&(I=y.arguments),y.thisProgram&&y.thisProgram,y.quit&&y.quit,y.wasmBinary&&(l=y.wasmBinary),y.noExitRuntime,"object"!=typeof WebAssembly&&_("no native wasm support detected");var Q=!1;function T(e,t){e||_("Assertion failed: "+t)}var w="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e){A=e,y.HEAP8=new Int8Array(e),y.HEAP16=new Int16Array(e),y.HEAP32=new Int32Array(e),y.HEAPU8=d=new Uint8Array(e),y.HEAPU16=new Uint16Array(e),y.HEAPU32=new Uint32Array(e),y.HEAPF32=new Float32Array(e),y.HEAPF64=new Float64Array(e)}y.INITIAL_MEMORY;var k=[],D=[],R=[],U=0,L=null,P=null;function _(e){throw y.onAbort&&y.onAbort(e),b(e+=""),Q=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function F(e){return e.startsWith("data:application/octet-stream;base64,")}function x(e){return e.startsWith("file://")}y.preloadedImages={},y.preloadedAudios={};var M="argon2.wasm";function O(e){try{if(e==M&&l)return new Uint8Array(l);if(o)return o(e);throw"both async and sync fetching of the wasm failed"}catch(e){_(e)}}function K(e){for(;e.length>0;){var t=e.shift();if("function"==typeof t){t(y);continue}var r=t.func;"number"==typeof r?void 0===t.arg?f.get(r)():f.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}}F(M)||(g=M,M=y.locateFile?y.locateFile(g,S):S+g);var V={a:function(e,t,r){d.copyWithin(e,t,t+r)},b:function(e){var t=d.length;if((e>>>=0)>2147418112)return!1;for(var r=1;r<=4;r*=2){var n,a=t*(1+.2/r);if(a=Math.min(a,e+100663296),function(e){try{return u.grow(e-A.byteLength+65535>>>16),N(u.buffer),1}catch(e){}}(Math.min(2147418112,((n=Math.max(e,a))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1}},q=(function(){var e={a:V};function t(e,t){var r,n=e.exports;y.asm=n,N((u=y.asm.c).buffer),f=y.asm.k,r=y.asm.d,D.unshift(r),function(e){if(U--,y.monitorRunDependencies&&y.monitorRunDependencies(U),0==U&&(null!==L&&(clearInterval(L),L=null),P)){var t=P;P=null,t()}}(0)}function r(e){t(e.instance)}function n(t){return(function(){if(!l&&(C||E)){if("function"==typeof fetch&&!x(M))return fetch(M,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+M+"'";return e.arrayBuffer()}).catch(function(){return O(M)});if(i)return new Promise(function(e,t){i(M,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return O(M)})})().then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){b("failed to asynchronously prepare wasm: "+e),_(e)})}if(U++,y.monitorRunDependencies&&y.monitorRunDependencies(U),y.instantiateWasm)try{return y.instantiateWasm(e,t)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}l||"function"!=typeof WebAssembly.instantiateStreaming||F(M)||x(M)||"function"!=typeof fetch?n(r):fetch(M,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),n(r)})})}(),y.___wasm_call_ctors=function(){return(y.___wasm_call_ctors=y.asm.d).apply(null,arguments)},y._argon2_hash=function(){return(y._argon2_hash=y.asm.e).apply(null,arguments)},y._malloc=function(){return(q=y._malloc=y.asm.f).apply(null,arguments)}),G=(y._free=function(){return(y._free=y.asm.g).apply(null,arguments)},y._argon2_verify=function(){return(y._argon2_verify=y.asm.h).apply(null,arguments)},y._argon2_error_message=function(){return(y._argon2_error_message=y.asm.i).apply(null,arguments)},y._argon2_encodedlen=function(){return(y._argon2_encodedlen=y.asm.j).apply(null,arguments)},y._argon2_hash_ext=function(){return(y._argon2_hash_ext=y.asm.l).apply(null,arguments)},y._argon2_verify_ext=function(){return(y._argon2_verify_ext=y.asm.m).apply(null,arguments)},y.stackAlloc=function(){return(G=y.stackAlloc=y.asm.n).apply(null,arguments)});function H(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function j(e){e=e||I,!(U>0)&&(!function(){if(y.preRun)for("function"==typeof y.preRun&&(y.preRun=[y.preRun]);y.preRun.length;){var e;e=y.preRun.shift(),k.unshift(e)}K(k)}(),U>0||(y.setStatus?(y.setStatus("Running..."),setTimeout(function(){setTimeout(function(){y.setStatus("")},1),t()},1)):t()));function t(){!p&&(p=!0,y.calledRun=!0,Q||(K(D),y.onRuntimeInitialized&&y.onRuntimeInitialized(),function(){if(y.postRun)for("function"==typeof y.postRun&&(y.postRun=[y.postRun]);y.postRun.length;){var e;e=y.postRun.shift(),R.unshift(e)}K(R)}()))}}if(y.allocate=function(e,t){var r;return r=1==t?G(e.length):q(e.length),e.subarray||e.slice?d.set(e,r):d.set(new Uint8Array(e),r),r},y.UTF8ToString=function(e,t){return e?function(e,t,r){for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.subarray&&w)return w.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(!(128&o)){i+=String.fromCharCode(o);continue}var s=63&e[t++];if((224&o)==192){i+=String.fromCharCode((31&o)<<6|s);continue}var c=63&e[t++];if((o=(240&o)==224?(15&o)<<12|s<<6|c:(7&o)<<18|s<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var l=o-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}return i}(d,e,t):""},y.ALLOC_NORMAL=0,P=function e(){p||j(),p||(P=e)},y.run=j,y.preInit)for("function"==typeof y.preInit&&(y.preInit=[y.preInit]);y.preInit.length>0;)y.preInit.pop()();j(),e.exports=y,y.unloadRuntime=function(){"undefined"!=typeof self&&delete self.Module,y=u=f=A=d=void 0,delete e.exports}},50477:function(e,t,r){var n,a,i=r(44970).Buffer;"undefined"!=typeof self&&self,void 0!==(a="function"==typeof(n=function(){let e="undefined"!=typeof self?self:this,t={Argon2d:0,Argon2i:1,Argon2id:2};function n(t){let i;return n._promise?n._promise:n._module?Promise.resolve(n._module):(i=e.process&&e.process.versions&&e.process.versions.node?a().then(e=>new Promise(t=>{e.postRun=()=>t(e)})):(e.loadArgon2WasmBinary?e.loadArgon2WasmBinary():Promise.resolve(r(83e3)).then(e=>(function(e){let t=atob(e),r=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})(e))).then(r=>{var n;return n=t?new WebAssembly.Memory({initial:Math.min(Math.max(Math.ceil(1024*t/65536),256)+256,32767),maximum:32767}):void 0,new Promise(t=>(e.Module={wasmBinary:r,wasmMemory:n,postRun(){t(Module)}},a()))}),n._promise=i,i.then(e=>(n._module=e,delete n._promise,e)))}function a(){return e.loadArgon2WasmModule?e.loadArgon2WasmModule():Promise.resolve(r(94110))}function o(e,t){return e.allocate(t,"i8",e.ALLOC_NORMAL)}function s(e,t){return o(e,new Uint8Array([...t,0]))}function c(e){if("string"!=typeof e)return e;if("function"==typeof TextEncoder)return new TextEncoder().encode(e);if("function"==typeof i)return i.from(e);throw Error("Don't know how to encode UTF8")}return{ArgonType:t,hash:function(e){let r=e.mem||1024;return n(r).then(n=>{let a,i,l;let u=e.time||1,A=e.parallelism||1,d=c(e.pass),f=s(n,d),p=d.length,g=c(e.salt),h=s(n,g),y=g.length,m=e.type||t.Argon2d,I=n.allocate(Array(e.hashLen||24),"i8",n.ALLOC_NORMAL),C=e.secret?o(n,e.secret):0,E=e.secret?e.secret.byteLength:0,v=e.ad?o(n,e.ad):0,B=e.ad?e.ad.byteLength:0,S=e.hashLen||24,b=n._argon2_encodedlen(u,r,A,y,S,m),Q=n.allocate(Array(b+1),"i8",n.ALLOC_NORMAL);try{i=n._argon2_hash_ext(u,r,A,f,p,h,y,I,S,Q,b,m,C,E,v,B,19)}catch(e){a=e}if(0!==i||a){try{a||(a=n.UTF8ToString(n._argon2_error_message(i)))}catch(e){}l={message:a,code:i}}else{let e="",t=new Uint8Array(S);for(let r=0;r<S;r++){let a=n.HEAP8[I+r];t[r]=a,e+=("0"+(255&a).toString(16)).slice(-2)}l={hash:t,hashHex:e,encoded:n.UTF8ToString(Q)}}try{n._free(f),n._free(h),n._free(I),n._free(Q),v&&n._free(v),C&&n._free(C)}catch(e){}if(!a)return l;throw l})},verify:function(e){return n().then(r=>{let n,a,i;let l=c(e.pass),u=s(r,l),A=l.length,d=e.secret?o(r,e.secret):0,f=e.secret?e.secret.byteLength:0,p=e.ad?o(r,e.ad):0,g=e.ad?e.ad.byteLength:0,h=s(r,c(e.encoded)),y=e.type;if(void 0===y){let r=e.encoded.split("$")[1];r&&(y=t[r=r.replace("a","A")]||t.Argon2d)}try{a=r._argon2_verify_ext(h,u,A,d,f,p,g,y)}catch(e){n=e}if(a||n){try{n||(n=r.UTF8ToString(r._argon2_error_message(a)))}catch(e){}i={message:n,code:a}}try{r._free(u),r._free(h)}catch(e){}if(!n)return i;throw i})},unloadRuntime:function(){n._module&&(n._module.unloadRuntime(),delete n._promise,delete n._module)}}})?n.apply(t,[]):n)&&(e.exports=a)},9669:function(e,t,r){e.exports=r(51609)},55448:function(e,t,r){"use strict";var n=r(64867),a=r(36026),i=r(4372),o=r(15327),s=r(94097),c=r(84109),l=r(67985),u=r(77874),A=r(82648),d=r(60644),f=r(90205);e.exports=function(e){return new Promise(function(t,r){var p,g=e.data,h=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(g)&&n.isStandardBrowserEnv()&&delete h["Content-Type"];var I=new XMLHttpRequest;if(e.auth){var C=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(C+":"+E)}var v=s(e.baseURL,e.url);function B(){if(I){var n="getAllResponseHeaders"in I?c(I.getAllResponseHeaders()):null;a(function(e){t(e),m()},function(e){r(e),m()},{data:y&&"text"!==y&&"json"!==y?I.response:I.responseText,status:I.status,statusText:I.statusText,headers:n,config:e,request:I}),I=null}}if(I.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),I.timeout=e.timeout,"onloadend"in I?I.onloadend=B:I.onreadystatechange=function(){I&&4===I.readyState&&(0!==I.status||I.responseURL&&0===I.responseURL.indexOf("file:"))&&setTimeout(B)},I.onabort=function(){I&&(r(new A("Request aborted",A.ECONNABORTED,e,I)),I=null)},I.onerror=function(){r(new A("Network Error",A.ERR_NETWORK,e,I,I)),I=null},I.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new A(t,n.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,e,I)),I=null},n.isStandardBrowserEnv()){var S=(e.withCredentials||l(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(h[e.xsrfHeaderName]=S)}"setRequestHeader"in I&&n.forEach(h,function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete h[t]:I.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),y&&"json"!==y&&(I.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&I.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&I.upload&&I.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){I&&(r(!e||e&&e.type?new d:e),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),g||(g=null);var b=f(v);if(b&&-1===["http","https","file"].indexOf(b)){r(new A("Unsupported protocol "+b+":",A.ERR_BAD_REQUEST,e));return}I.send(g)})}},51609:function(e,t,r){"use strict";var n=r(64867),a=r(91849),i=r(30321),o=r(47185),s=function e(t){var r=new i(t),s=a(i.prototype.request,r);return n.extend(s,i.prototype,r),n.extend(s,r),s.create=function(r){return e(o(t,r))},s}(r(45546));s.Axios=i,s.CanceledError=r(60644),s.CancelToken=r(14972),s.isCancel=r(26502),s.VERSION=r(97288).version,s.toFormData=r(47675),s.AxiosError=r(82648),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(8713),s.isAxiosError=r(16268),e.exports=s,e.exports.default=s},14972:function(e,t,r){"use strict";var n=r(60644);function a(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;this.promise.then(function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}}),this.promise.then=function(e){var t,n=new Promise(function(e){r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},60644:function(e,t,r){"use strict";var n=r(82648);function a(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(64867).inherits(a,n,{__CANCEL__:!0}),e.exports=a},26502:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},30321:function(e,t,r){"use strict";var n=r(64867),a=r(15327),i=r(80782),o=r(13572),s=r(47185),c=r(94097),l=r(54875),u=l.validators;function A(e){this.defaults=e,this.interceptors={request:new i,response:new i}}A.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r,n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});var c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!i){var A=[o,void 0];for(Array.prototype.unshift.apply(A,a),A=A.concat(c),r=Promise.resolve(t);A.length;)r=r.then(A.shift(),A.shift());return r}for(var d=t;a.length;){var f=a.shift(),p=a.shift();try{d=f(d)}catch(e){p(e);break}}try{r=o(d)}catch(e){return Promise.reject(e)}for(;c.length;)r=r.then(c.shift(),c.shift());return r},A.prototype.getUri=function(e){return a(c((e=s(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],function(e){A.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(s(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}A.prototype[e]=t(),A.prototype[e+"Form"]=t(!0)}),e.exports=A},82648:function(e,t,r){"use strict";var n=r(64867);function a(e,t,r,n,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}n.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=a.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){o[e]={value:e}}),Object.defineProperties(a,o),Object.defineProperty(i,"isAxiosError",{value:!0}),a.from=function(e,t,r,o,s,c){var l=Object.create(i);return n.toFlatObject(e,l,function(e){return e!==Error.prototype}),a.call(l,e.message,t,r,o,s),l.name=e.name,c&&Object.assign(l,c),l},e.exports=a},80782:function(e,t,r){"use strict";var n=r(64867);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},94097:function(e,t,r){"use strict";var n=r(91793),a=r(7303);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},13572:function(e,t,r){"use strict";var n=r(64867),a=r(18527),i=r(26502),o=r(45546),s=r(60644);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return c(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!i(t)&&(c(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},47185:function(e,t,r){"use strict";var n=r(64867);e.exports=function(e,t){t=t||{};var r={};function a(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:a(void 0,e[r]):a(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return a(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:a(void 0,e[r]):a(void 0,t[r])}function c(r){return r in t?a(e[r],t[r]):r in e?a(void 0,e[r]):void 0}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=l[e]||i,a=t(e);n.isUndefined(a)&&t!==c||(r[e]=a)}),r}},36026:function(e,t,r){"use strict";var n=r(82648);e.exports=function(e,t,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}},18527:function(e,t,r){"use strict";var n=r(64867),a=r(45546);e.exports=function(e,t,r){var i=this||a;return n.forEach(r,function(r){e=r.call(i,e,t)}),e}},45546:function(e,t,r){"use strict";var n,a=r(85341),i=r(64867),o=r(16016),s=r(82648),c=r(77874),l=r(47675),u={"Content-Type":"application/x-www-form-urlencoded"};function A(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var d={transitional:c,adapter:("undefined"!=typeof XMLHttpRequest?n=r(55448):void 0!==a&&"[object process]"===Object.prototype.toString.call(a)&&(n=r(55448)),n),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return A(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=i.isObject(e),a=t&&t["Content-Type"];if((r=i.isFileList(e))||n&&"multipart/form-data"===a){var s=this.env&&this.env.FormData;return l(r?{"files[]":e}:e,s&&new s)}return n||"application/json"===a?(A(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(91623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){d.headers[e]={}}),i.forEach(["post","put","patch"],function(e){d.headers[e]=i.merge(u)}),e.exports=d},77874:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:function(e){e.exports={version:"0.27.2"}},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},15327:function(e,t,r){"use strict";var n=r(64867);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var i,o=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,r){"use strict";var n=r(64867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(a)&&s.push("path="+a),n.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:function(e,t,r){"use strict";var n=r(64867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},67985:function(e,t,r){"use strict";var n=r(64867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},16016:function(e,t,r){"use strict";var n=r(64867);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},91623:function(e){e.exports=null},84109:function(e,t,r){"use strict";var n=r(64867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,o={};return e&&n.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t&&!(o[t]&&a.indexOf(t)>=0)&&("set-cookie"===t?o[t]=(o[t]?o[t]:[]).concat([r]):o[t]=o[t]?o[t]+", "+r:r)}),o}},90205:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},47675:function(e,t,r){"use strict";var n=r(63315).Buffer,a=r(64867);e.exports=function(e,t){t=t||new FormData;var r=[];function i(e){return null===e?"":a.isDate(e)?e.toISOString():a.isArrayBuffer(e)||a.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):n.from(e):e}return!function e(n,o){if(a.isPlainObject(n)||a.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+o);r.push(n),a.forEach(n,function(r,n){if(!a.isUndefined(r)){var s,c=o?o+"."+n:n;if(r&&!o&&"object"==typeof r){if(a.endsWith(n,"{}"))r=JSON.stringify(r);else if(a.endsWith(n,"[]")&&(s=a.toArray(r))){s.forEach(function(e){a.isUndefined(e)||t.append(c,i(e))});return}}e(r,c)}}),r.pop()}else t.append(o,i(n))}(e),t}},54875:function(e,t,r){"use strict";var n=r(97288).version,a=r(82648),i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var o={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new a(i(n," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var c=e[o],l=void 0===c||s(c,o,e);if(!0!==l)throw new a("option "+o+" must be "+l,a.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new a("Unknown option "+o,a.ERR_BAD_OPTION)}},validators:i}},64867:function(e,t,r){"use strict";var n,a,i=r(91849),o=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=o.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function c(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function u(e){return void 0===e}var A=c("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function f(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=c("Date"),g=c("File"),h=c("Blob"),y=c("FileList");function m(e){return"[object Function]"===o.call(e)}var I=c("URLSearchParams");function C(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),l(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}}var E=(a="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return a&&e instanceof a});e.exports={isArray:l,isArrayBuffer:A,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||m(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&A(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:f,isUndefined:u,isDate:p,isFile:g,isBlob:h,isFunction:m,isStream:function(e){return d(e)&&m(e.pipe)},isURLSearchParams:I,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:C,merge:function e(){var t={};function r(r,n){f(t[n])&&f(r)?t[n]=e(t[n],r):f(r)?t[n]=e({},r):l(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)C(arguments[n],r);return t},extend:function(e,t,r){return C(t,function(t,n){r&&"function"==typeof t?e[n]=i(t,r):e[n]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,a,i,o={};t=t||{};do{for(a=(n=Object.getOwnPropertyNames(e)).length;a-- >0;)o[i=n[a]]||(t[i]=e[i],o[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return -1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var r=Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:E,isFileList:y}},83e3:function(e,t){e.exports="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DwtBixEPC0GeEyEBCyABC48DAQF/IwBBgANrIgQkACAEQQA2AowBIARBjAFqIAEQBwJAIAFBwABNBEAgBEGQAWogARAYQQBIDQEgBEGQAWogBEGMAWpBBBAGQQBIDQEgBEGQAWogAiADEAZBAEgNASAEQZABaiAAIAEQEhoMAQsgBEGQAWpBwAAQGEEASA0AIARBkAFqIARBjAFqQQQQBkEASA0AIARBkAFqIAIgAxAGQQBIDQAgBEGQAWogBEFAa0HAABASQQBIDQAgACAEKQNANwAAIAAgBCkDSDcACCAAIAQpA1g3ABggACAEKQNQNwAQIABBIGohACABQSBrIgJBwQBPBEADQCAEIARBQGtBwAAQBSIBQUBrQcAAIAEQMUEASA0CIAAgASkDQDcAACAAIAEpA0g3AAggACAEKQNYNwAYIAAgBCkDUDcAECAAQSBqIQAgAkEgayICQcAASw0ACwsgBCAEQUBrQcAAEAUiAUFAayACIAEQMUEASA0AIAAgAUFAayACEAUaCyAEQZABakHwARAEIARBgANqJAALAwABC5kCACAARQRAQQAPCwJ/AkAgAAR/IAFB/wBNDQECQEGgHigCACgCAEUEQCABQYB/cUGAvwNGDQMMAQsgAUH/D00EQCAAIAFBP3FBgAFyOgABIAAgAUEGdkHAAXI6AABBAgwECyABQYCwA09BACABQYBAcUGAwANHG0UEQCAAIAFBP3FBgAFyOgACIAAgAUEMdkHgAXI6AAAgACABQQZ2QT9xQYABcjoAAUEDDAQLIAFBgIAEa0H//z9NBEAgACABQT9xQYABcjoAAyAAIAFBEnZB8AFyOgAAIAAgAUEGdkE/cUGAAXI6AAIgACABQQx2QT9xQYABcjoAAUEEDAQLC0HcHkEZNgIAQX8FQQELDAELIAAgAToAAEEBCwtQAQN/AkAgACgCACwAABAPRQRADAELA0AgACgCACICLAAAIQMgACACQQFqNgIAIAEgA2pBMGshASACLAABEA9FDQEgAUEKbCEBDAALAAsgAQu7AgACQCABQRRLDQACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDgoAAQIDBAUGBwgJCgsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFB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AUHjFEEDEBANACABQQNqIANBDGoQFSIBRQ0AIAAgAygCDDYCKCABQecUQQMQEA0AIAFBA2ogA0EMahAVIgFFDQAgACADKAIMIgQ2AjAgACAENgI0IAEtAABBJEcNACADIAc2AgwgACgCECADQQxqIAFBAWoQLCIBRQ0AIAAgAygCDDYCFCABLQAAQSRHDQAgAyAGNgIMIAAoAgAgA0EMaiABQQFqECwiAUUNACAAIAMoAgw2AgQgAEEANgJEIABCADcCPCAAQgA3AhggAEIANwIgIAAQHCICDQBBYEEAIAEtAAAbIQILIANBEGokACACCykBAn8DQCAAIAJBA3QiA2ogASADaikAADcDACACQQFqIgJBgAFHDQALCwwAIABBAEGACBALGgtlAQJ/IAAgAhAeIgIEfyACBUFdQQACfyAAKAIAIQRBACECIAAoAgQiAAR/A0AgAyACIARqLQAAIAEgAmotAABzciEDIAJBAWoiAiAARw0ACyADQQFrQQh2QQFxQQFrBUEACwsbCwtdAQJ/IwBB8AFrIgMkAEF/IQQCQCACRSAARSABRXJyIAFBwABLcg0AIAMgARAYQQBIDQAgAyACQcAAEAZBAEgNACADIAAgARASIQQLIANB8AEQBCADQfABaiQAIAQLCQAgACABNwAACxAAIwAgAGtBcHEiACQAIAALMwEBfyAAKAIUIgMgASACIAAoAhAgA2siASABIAJLGyIBEAUaIAAgACgCFCABajYCFCACC9oBAQR/IwBB0ABrIggkAAJAIABFBEBBYCEADAELIAggABAKIgk2AgwgCCAJNgIcIAggCRAJIgo2AhggCCAJEAkiCzYCCEEAIQkCQAJAIApFIAtFcg0AIAggAjYCFCAIIAE2AhAgCEEIaiAAIAcQLSIADQEgCCgCCCEJIAggCCgCDBAJIgA2AgggAEUNACAIIAY2AiwgCCAFNgIoIAggBDYCJCAIIAM2AiAgCEEIaiAJIAcQMCEADAELQWohAAsgCCgCGBAIIAgoAggQCCAJEAgLIAhB0ABqJAAgAAuQAgEDfyMAQdAAayIRJABBfiETAkAgCEEESQ0AIAgQCSISRQRAQWohEwwBCyARQQA2AkwgEUIANwJEIBEgAjYCPCARIAI2AjggESABNgI0IBEgADYCMCARIA82AiwgESAONgIoIBEgDTYCJCAR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IGxvbmcgb3IgdG9vIHNob3J0AE1pc3NpbmcgYXJndW1lbnRzAFRvbyBtYW55IGxhbmVzAFRvbyBmZXcgbGFuZXMAVG9vIG1hbnkgdGhyZWFkcwBOb3QgZW5vdWdoIHRocmVhZHMATWVtb3J5IGFsbG9jYXRpb24gZXJyb3IATWVtb3J5IGNvc3QgaXMgdG9vIHNtYWxsAFRpbWUgY29zdCBpcyB0b28gc21hbGwAYXJnb24yaQBBcmdvbjJpAFRoZSBwYXNzd29yZCBkb2VzIG5vdCBtYXRjaCB0aGUgc3VwcGxpZWQgaGFzaABPdXRwdXQgcG9pbnRlciBtaXNtYXRjaABPdXRwdXQgaXMgdG9vIGxvbmcAU2FsdCBpcyB0b28gbG9uZwBTZWNyZXQgaXMgdG9vIGxvbmcAUGFzc3dvcmQgaXMgdG9vIGxvbmcAQXNzb2NpYXRlZCBkYXRhIGlzIHRvbyBsb25nAFRocmVhZGluZyBmYWlsdXJlAE1lbW9yeSBjb3N0IGlzIHRvbyBsYXJnZQBUaW1lIGNvc3QgaXMgdG9vIGxhcmdlAFVua25vd24gZXJyb3IgY29kZQBhcmdvbjJpZABBcmdvbjJpZABFbmNvZGluZyBmYWlsZWQARGVjb2RpbmcgZmFpbGVkAGFyZ29uMmQAQXJnb24yZABBcmdvbjJfQ29udGV4dCBjb250ZXh0IGlzIE5VTEwAT3V0cHV0IHBvaW50ZXIgaXMgTlVMTABUaGUgYWxsb2NhdGUgbWVtb3J5IGNhbGxiYWNrIGlzIE5VTEwAVGhlIGZyZWUgbWVtb3J5IGNhbGxiYWNrIGlzIE5VTEwAT0sAJHY9ACx0PQAscD0AJG09AFRoZXJlIGlzIG5vIHN1Y2ggdmVyc2lvbiBvZiBBcmdvbjIAU2FsdCBwb2ludGVyIGlzIE5VTEwsIGJ1dCBzYWx0IGxlbmd0aCBpcyBub3QgMABTZWNyZXQgcG9pbnRlciBpcyBOVUxMLCBidXQgc2VjcmV0IGxlbmd0aCBpcyBub3QgMABQYXNzd29yZCBwb2ludGVyIGlzIE5VTEwsIGJ1dCBwYXNzd29yZCBsZW5ndGggaXMgbm90IDAAQXNzb2NpYXRlZCBkYXRhIHBvaW50ZXIgaXMgTlVMTCwgYnV0IGFkIGxlbmd0aCBpcyBub3QgMAAobnVsbCkAAACbCAAAuwcAAEkJAADACQAAsAkAAPAHAAAfCAAAMAgAAMkIAABvCgAA4AkAABYKAAA7CgAAQwgAACsLAADBCgAAkgoAAPQKAAACCAAAEQgAAFsJAABbCAAAdAkAAHQIAAAFCQAAdAcAAC0JAACeBwAA9AgAAGIHAAAYCQAAiAcAAOEIAABOBwAA/wkAAFwKAAABAEGkGAsBAgBByxgLBf//////AEGQGQtBEQAKABEREQAAAAAFAAAAAAAACQAAAAALAAAAAAAAAAARAA8KERERAwoHAAEACQsLAAAJBgsAAAsABhEAAAAREREAQeEZCyELAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAQZsaCwEMAEGnGgsVDAAAAAAMAAAAAAkMAAAAAAAMAAAMAEHVGgsBDgBB4RoLFQ0AAAAEDQAAAAAJDgAAAAAADgAADgBBjxsLARAAQZsbCx4PAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAQdIbCw4SAAAAEhISAAAAAAAACQBBgxwLAQsAQY8cCxUKAAAAAAoAAAAACQsAAAAAAAsAAAsAQb0cCwEMAEHJHAsnDAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGAEHwHAsBAQBBoB4LAogPAEHYHgsDkBFQ"},2418:function(e,t,r){e=r.nmd(e);var n,a,i=r(97684);/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */void 0!==(a="function"==typeof(n=function(){"use strict";var t,n={},a=null;function o(t){if(e&&e.exports)try{return r(65995).randomBytes(t)}catch(e){}try{var n;return(self.crypto||self.msCrypto).getRandomValues(n=new Uint32Array(t)),Array.prototype.slice.call(n)}catch(e){}if(!a)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return a(t)}try{o(1)}catch(e){}function s(e,t){for(var r=0,n=0,a=0,i=e.length;a<i;++a)e.charCodeAt(a)===t.charCodeAt(a)?++r:++n;return!(r<0)&&0===n}a=null,n.setRandomFallback=function(e){a=e},n.genSaltSync=function(e,t){if("number"!=typeof(e=e||h))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2a$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(d(o(g),g)),r.join("")},n.genSalt=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),void 0===e)e=h;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function a(t){c(function(){try{t(null,n.genSaltSync(e))}catch(e){t(e)}})}if(!r)return new Promise(function(e,t){a(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);a(r)},n.hashSync=function(e,t){if(void 0===t&&(t=h),"number"==typeof t&&(t=n.genSaltSync(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return S(e,t)},n.hash=function(e,t,r,a){function i(r){"string"==typeof e&&"number"==typeof t?n.genSalt(t,function(t,n){S(e,n,r,a)}):"string"==typeof e&&"string"==typeof t?S(e,t,r,a):c(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!r)return new Promise(function(e,t){i(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)},n.compareSync=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&s(n.hashSync(e,t.substr(0,t.length-31)),t)},n.compare=function(e,t,r,a){function i(r){if("string"!=typeof e||"string"!=typeof t){c(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(60!==t.length){c(r.bind(this,null,!1));return}n.hash(e,t.substr(0,29),function(e,n){e?r(e):r(null,s(n,t))},a)}if(!r)return new Promise(function(e,t){i(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)},n.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},n.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var c=void 0!==i&&i&&"function"==typeof i.nextTick?"function"==typeof setImmediate?setImmediate:i.nextTick:setTimeout,l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],A=String.fromCharCode;function d(e,t){var r,n,a=0,i=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;a<t;){if(r=255&e[a++],i.push(l[r>>2&63]),r=(3&r)<<4,a>=t||(r|=(n=255&e[a++])>>4&15,i.push(l[63&r]),r=(15&n)<<2,a>=t)){i.push(l[63&r]);break}r|=(n=255&e[a++])>>6&3,i.push(l[63&r]),i.push(l[63&n])}return i.join("")}function f(e,t){var r,n,a,i,o,s=0,c=e.length,l=0,d=[];if(t<=0)throw Error("Illegal len: "+t);for(;s<c-1&&l<t&&(r=(o=e.charCodeAt(s++))<u.length?u[o]:-1,n=(o=e.charCodeAt(s++))<u.length?u[o]:-1,-1!=r&&-1!=n)&&(i=r<<2>>>0|(48&n)>>4,d.push(A(i)),!(++l>=t||s>=c||-1==(a=(o=e.charCodeAt(s++))<u.length?u[o]:-1)||(i=(15&n)<<4>>>0|(60&a)>>2,d.push(A(i)),++l>=t||s>=c)));)i=(3&a)<<6>>>0|((o=e.charCodeAt(s++))<u.length?u[o]:-1),d.push(A(i)),++l;var f=[];for(s=0;s<l;s++)f.push(d[s].charCodeAt(0));return f}var p=((t={}).MAX_CODEPOINT=1114111,t.encodeUTF8=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},t.decodeUTF8=function(e,t){for(var r,n,a,i,o=function(e){var t=Error((e=e.slice(0,e.indexOf(null))).toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if((128&r)==0)t(r);else if((224&r)==192)null===(n=e())&&o([r,n]),t((31&r)<<6|63&n);else if((240&r)==224)(null===(n=e())||null===(a=e()))&&o([r,n,a]),t((15&r)<<12|(63&n)<<6|63&a);else if((248&r)==240)(null===(n=e())||null===(a=e())||null===(i=e()))&&o([r,n,a,i]),t((7&r)<<18|(63&n)<<12|(63&a)<<6|63&i);else throw RangeError("Illegal starting byte: "+r)},t.UTF16toUTF8=function(e,t){for(var r,n=null;null!==(r=null!==n?n:e());){if(r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}null!==n&&t(n)},t.UTF8toUTF16=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(((r-=65536)>>10)+55296),t(r%1024+56320)),r=null},t.encodeUTF16toUTF8=function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},t.decodeUTF8toUTF16=function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},t.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},t.calculateUTF8=function(e){for(var r,n=0;null!==(r=e());)n+=t.calculateCodePoint(r);return n},t.calculateUTF16asUTF8=function(e){var r=0,n=0;return t.UTF16toUTF8(e,function(e){++r,n+=t.calculateCodePoint(e)}),[r,n]},t);Date.now=Date.now||function(){return+new Date};var g=16,h=10,y=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],I=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function C(e,t,r,n){var a=e[t],i=e[t+1];return a^=r[0],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[1],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[2],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[3],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[4],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[5],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[6],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[7],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[8],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[9],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[10],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[11],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[12],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[13],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[14],i^=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a]^r[15],a^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[16],e[t]=i^r[17],e[t+1]=a,e}function E(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|255&e[t],t=(t+1)%e.length;return{key:n,offp:t}}function v(e,t,r){for(var n,a=0,i=[0,0],o=t.length,s=r.length,c=0;c<o;c++)a=(n=E(e,a)).offp,t[c]=t[c]^n.key;for(c=0;c<o;c+=2)i=C(i,0,t,r),t[c]=i[0],t[c+1]=i[1];for(c=0;c<s;c+=2)i=C(i,0,t,r),r[c]=i[0],r[c+1]=i[1]}function B(e,t,r,n,a){var i,o,s=I.slice(),l=s.length;if(r<4||r>31){if(o=Error("Illegal number of rounds (4-31): "+r),n){c(n.bind(this,o));return}throw o}if(t.length!==g){if(o=Error("Illegal salt length: "+t.length+" != "+g),n){c(n.bind(this,o));return}throw o}r=1<<r>>>0;var u,A,d,f=0;function p(){if(a&&a(f/r),f<r)for(var i=Date.now();f<r&&(f+=1,v(e,u,A),v(t,u,A),!(Date.now()-i>100)););else{for(f=0;f<64;f++)for(d=0;d<l>>1;d++)C(s,d<<1,u,A);var o=[];for(f=0;f<l;f++)o.push((s[f]>>24&255)>>>0),o.push((s[f]>>16&255)>>>0),o.push((s[f]>>8&255)>>>0),o.push((255&s[f])>>>0);return n?void n(null,o):o}n&&c(p)}if(Int32Array?(u=new Int32Array(y),A=new Int32Array(m)):(u=y.slice(),A=m.slice()),function(e,t,r,n){for(var a,i=0,o=[0,0],s=r.length,c=n.length,l=0;l<s;l++)i=(a=E(t,i)).offp,r[l]=r[l]^a.key;for(l=0,i=0;l<s;l+=2)i=(a=E(e,i)).offp,o[0]^=a.key,i=(a=E(e,i)).offp,o[1]^=a.key,o=C(o,0,r,n),r[l]=o[0],r[l+1]=o[1];for(l=0;l<c;l+=2)i=(a=E(e,i)).offp,o[0]^=a.key,i=(a=E(e,i)).offp,o[1]^=a.key,o=C(o,0,r,n),n[l]=o[0],n[l+1]=o[1]}(t,e,u,A),void 0!==n)p();else for(;;)if(void 0!==(i=p()))return i||[]}function S(e,t,r,n){if("string"!=typeof e||"string"!=typeof t){if(s=Error("Invalid string / salt: Not a string"),r){c(r.bind(this,s));return}throw s}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(s=Error("Invalid salt version: "+t.substring(0,2)),r){c(r.bind(this,s));return}throw s}if("$"===t.charAt(2))l="\x00",u=3;else{if("a"!==(l=t.charAt(2))&&"b"!==l&&"y"!==l||"$"!==t.charAt(3)){if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){c(r.bind(this,s));return}throw s}u=4}if(t.charAt(u+2)>"$"){if(s=Error("Missing salt rounds"),r){c(r.bind(this,s));return}throw s}var a,i,o,s,l,u,A=10*parseInt(t.substring(u,u+1),10)+parseInt(t.substring(u+1,u+2),10),h=t.substring(u+3,u+25);e+=l>="a"?"\x00":"";var y=(a=e,i=[],o=0,p.encodeUTF16toUTF8(function(){return o>=a.length?null:a.charCodeAt(o++)},function(e){i.push(e)}),i),m=f(h,g);function C(e){var t=[];return t.push("$2"),l>="a"&&t.push(l),t.push("$"),A<10&&t.push("0"),t.push(A.toString()),t.push("$"),t.push(d(m,m.length)),t.push(d(e,4*I.length-1)),t.join("")}if(void 0===r)return C(B(y,m,A));B(y,m,A,function(e,t){e?r(e,null):r(null,C(t))},n)}return n.encodeBase64=d,n.decodeBase64=f,n})?n.apply(t,[]):n)&&(e.exports=a)},27856:function(e){/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,r){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,r)}function r(e,n,a){return(r=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,r,n){var a=[null];a.push.apply(a,r);var i=new(Function.bind.apply(e,a));return n&&t(i,n.prototype),i}:Reflect.construct).apply(null,arguments)}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i,o=Object.hasOwnProperty,s=Object.setPrototypeOf,c=Object.isFrozen,l=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,A=Object.freeze,d=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,g=p.apply,h=p.construct;g||(g=function(e,t,r){return e.apply(t,r)}),A||(A=function(e){return e}),d||(d=function(e){return e}),h||(h=function(e,t){return r(e,n(t))});var y=w(Array.prototype.forEach),m=w(Array.prototype.pop),I=w(Array.prototype.push),C=w(String.prototype.toLowerCase),E=w(String.prototype.toString),v=w(String.prototype.match),B=w(String.prototype.replace),S=w(String.prototype.indexOf),b=w(String.prototype.trim),Q=w(RegExp.prototype.test),T=(i=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h(i,t)});function w(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return g(e,t,n)}}function N(e,t,r){r=null!==(n=r)&&void 0!==n?n:C,s&&s(e,null);for(var n,a=t.length;a--;){var i=t[a];if("string"==typeof i){var o=r(i);o!==i&&(c(t)||(t[a]=o),i=o)}e[i]=!0}return e}function k(e){var t,r=f(null);for(t in e)!0===g(o,e,[t])&&(r[t]=e[t]);return r}function D(e,t){for(;null!==e;){var r=u(e,t);if(r){if(r.get)return w(r.get);if("function"==typeof r.value)return w(r.value)}e=l(e)}return function(e){return console.warn("fallback value for",e),null}}var R=A(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=A(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=A(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=A(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_=A(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=A(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x=A(["#text"]),M=A(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O=A(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=A(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=A(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=d(/<%[\w\W]*|[\w\W]*%>/gm),H=d(/\${[\w\W]*}/gm),j=d(/^data-[\-\w.\u00B7-\uFFFF]/),Y=d(/^aria-[\-\w]+$/),J=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z=d(/^(?:\w+script|data):/i),W=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=d(/^html$/i),Z=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function t(){var r,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=function(e){return t(e)};if(o.version="2.4.7",o.removed=[],!i||!i.document||9!==i.document.nodeType)return o.isSupported=!1,o;var s=i.document,c=i.document,l=i.DocumentFragment,u=i.HTMLTemplateElement,d=i.Node,f=i.Element,p=i.NodeFilter,g=i.NamedNodeMap,h=void 0===g?i.NamedNodeMap||i.MozNamedAttrMap:g,w=i.HTMLFormElement,ee=i.DOMParser,et=i.trustedTypes,er=f.prototype,en=D(er,"cloneNode"),ea=D(er,"nextSibling"),ei=D(er,"childNodes"),eo=D(er,"parentNode");if("function"==typeof u){var es=c.createElement("template");es.content&&es.content.ownerDocument&&(c=es.content.ownerDocument)}var ec=Z(et,s),el=ec?ec.createHTML(""):"",eu=c,eA=eu.implementation,ed=eu.createNodeIterator,ef=eu.createDocumentFragment,ep=eu.getElementsByTagName,eg=s.importNode,eh={};try{eh=k(c).documentMode?c.documentMode:{}}catch(e){}var ey={};o.isSupported="function"==typeof eo&&eA&&void 0!==eA.createHTMLDocument&&9!==eh;var em=J,eI=null,eC=N({},[].concat(n(R),n(U),n(L),n(_),n(x))),eE=null,ev=N({},[].concat(n(M),n(O),n(K),n(V))),eB=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eS=null,eb=null,eQ=!0,eT=!0,ew=!1,eN=!0,ek=!1,eD=!1,eR=!1,eU=!1,eL=!1,eP=!1,e_=!1,eF=!0,ex=!1,eM=!0,eO=!1,eK={},eV=null,eq=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eG=null,eH=N({},["audio","video","img","source","image","track"]),ej=null,eY=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eJ="http://www.w3.org/1998/Math/MathML",ez="http://www.w3.org/2000/svg",eW="http://www.w3.org/1999/xhtml",eX=eW,eZ=!1,e$=null,e0=N({},[eJ,ez,eW],E),e1=["application/xhtml+xml","text/html"],e2=null,e3=c.createElement("form"),e6=function(e){return e instanceof RegExp||e instanceof Function},e4=function(t){e2&&e2===t||(t&&"object"===e(t)||(t={}),t=k(t),a="application/xhtml+xml"===(r=r=-1===e1.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?E:C,eI="ALLOWED_TAGS"in t?N({},t.ALLOWED_TAGS,a):eC,eE="ALLOWED_ATTR"in t?N({},t.ALLOWED_ATTR,a):ev,e$="ALLOWED_NAMESPACES"in t?N({},t.ALLOWED_NAMESPACES,E):e0,ej="ADD_URI_SAFE_ATTR"in t?N(k(eY),t.ADD_URI_SAFE_ATTR,a):eY,eG="ADD_DATA_URI_TAGS"in t?N(k(eH),t.ADD_DATA_URI_TAGS,a):eH,eV="FORBID_CONTENTS"in t?N({},t.FORBID_CONTENTS,a):eq,eS="FORBID_TAGS"in t?N({},t.FORBID_TAGS,a):{},eb="FORBID_ATTR"in t?N({},t.FORBID_ATTR,a):{},eK="USE_PROFILES"in t&&t.USE_PROFILES,eQ=!1!==t.ALLOW_ARIA_ATTR,eT=!1!==t.ALLOW_DATA_ATTR,ew=t.ALLOW_UNKNOWN_PROTOCOLS||!1,eN=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,ek=t.SAFE_FOR_TEMPLATES||!1,eD=t.WHOLE_DOCUMENT||!1,eL=t.RETURN_DOM||!1,eP=t.RETURN_DOM_FRAGMENT||!1,e_=t.RETURN_TRUSTED_TYPE||!1,eU=t.FORCE_BODY||!1,eF=!1!==t.SANITIZE_DOM,ex=t.SANITIZE_NAMED_PROPS||!1,eM=!1!==t.KEEP_CONTENT,eO=t.IN_PLACE||!1,em=t.ALLOWED_URI_REGEXP||em,eX=t.NAMESPACE||eW,eB=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&e6(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eB.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&e6(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eB.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eB.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ek&&(eT=!1),eP&&(eL=!0),eK&&(eI=N({},n(x)),eE=[],!0===eK.html&&(N(eI,R),N(eE,M)),!0===eK.svg&&(N(eI,U),N(eE,O),N(eE,V)),!0===eK.svgFilters&&(N(eI,L),N(eE,O),N(eE,V)),!0===eK.mathMl&&(N(eI,_),N(eE,K),N(eE,V))),t.ADD_TAGS&&(eI===eC&&(eI=k(eI)),N(eI,t.ADD_TAGS,a)),t.ADD_ATTR&&(eE===ev&&(eE=k(eE)),N(eE,t.ADD_ATTR,a)),t.ADD_URI_SAFE_ATTR&&N(ej,t.ADD_URI_SAFE_ATTR,a),t.FORBID_CONTENTS&&(eV===eq&&(eV=k(eV)),N(eV,t.FORBID_CONTENTS,a)),eM&&(eI["#text"]=!0),eD&&N(eI,["html","head","body"]),eI.table&&(N(eI,["tbody"]),delete eS.tbody),A&&A(t),e2=t)},e5=N({},["mi","mo","mn","ms","mtext"]),e8=N({},["foreignobject","desc","title","annotation-xml"]),e9=N({},["title","style","font","a","script"]),e7=N({},U);N(e7,L),N(e7,P);var te=N({},_);N(te,F);var tt=function(e){var t=eo(e);t&&t.tagName||(t={namespaceURI:eX,tagName:"template"});var n=C(e.tagName),a=C(t.tagName);return!!e$[e.namespaceURI]&&(e.namespaceURI===ez?t.namespaceURI===eW?"svg"===n:t.namespaceURI===eJ?"svg"===n&&("annotation-xml"===a||e5[a]):!!e7[n]:e.namespaceURI===eJ?t.namespaceURI===eW?"math"===n:t.namespaceURI===ez?"math"===n&&e8[a]:!!te[n]:e.namespaceURI===eW?(t.namespaceURI!==ez||!!e8[a])&&(t.namespaceURI!==eJ||!!e5[a])&&!te[n]&&(e9[n]||!e7[n]):"application/xhtml+xml"===r&&!!e$[e.namespaceURI])},tr=function(e){I(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=el}catch(t){e.remove()}}},tn=function(e,t){try{I(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){I(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!eE[e]){if(eL||eP)try{tr(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},ta=function(e){if(eU)e="<remove></remove>"+e;else{var t,n,a=v(e,/^[\r\n\t ]+/);n=a&&a[0]}"application/xhtml+xml"===r&&eX===eW&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ec?ec.createHTML(e):e;if(eX===eW)try{t=new ee().parseFromString(i,r)}catch(e){}if(!t||!t.documentElement){t=eA.createDocument(eX,"template",null);try{t.documentElement.innerHTML=eZ?el:i}catch(e){}}var o=t.body||t.documentElement;return(e&&n&&o.insertBefore(c.createTextNode(n),o.childNodes[0]||null),eX===eW)?ep.call(t,eD?"html":"body")[0]:eD?t.documentElement:o},ti=function(e){return ed.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},to=function(t){return"object"===e(d)?t instanceof d:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},ts=function(e,t,r){ey[e]&&y(ey[e],function(e){e.call(o,t,r,e2)})},tc=function(e){if(ts("beforeSanitizeElements",e,null),e instanceof w&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)||Q(/[\u0080-\uFFFF]/,e.nodeName))return tr(e),!0;var t,r=a(e.nodeName);if(ts("uponSanitizeElement",e,{tagName:r,allowedTags:eI}),e.hasChildNodes()&&!to(e.firstElementChild)&&(!to(e.content)||!to(e.content.firstElementChild))&&Q(/<[/\w]/g,e.innerHTML)&&Q(/<[/\w]/g,e.textContent)||"select"===r&&Q(/<template/i,e.innerHTML))return tr(e),!0;if(!eI[r]||eS[r]){if(!eS[r]&&tu(r)&&(eB.tagNameCheck instanceof RegExp&&Q(eB.tagNameCheck,r)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(r)))return!1;if(eM&&!eV[r]){var n=eo(e)||e.parentNode,i=ei(e)||e.childNodes;if(i&&n)for(var s=i.length,c=s-1;c>=0;--c)n.insertBefore(en(i[c],!0),ea(e))}return tr(e),!0}return e instanceof f&&!tt(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&Q(/<\/no(script|embed|frames)/i,e.innerHTML)?(tr(e),!0):(ek&&3===e.nodeType&&(t=B(t=e.textContent,q," "),t=B(t,G," "),t=B(t,H," "),e.textContent!==t&&(I(o.removed,{element:e.cloneNode()}),e.textContent=t)),ts("afterSanitizeElements",e,null),!1)},tl=function(e,t,r){if(eF&&("id"===t||"name"===t)&&(r in c||r in e3))return!1;if(eT&&!eb[t]&&Q(j,t));else if(eQ&&Q(Y,t));else if(!eE[t]||eb[t]){if(!(tu(e)&&(eB.tagNameCheck instanceof RegExp&&Q(eB.tagNameCheck,e)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(e))&&(eB.attributeNameCheck instanceof RegExp&&Q(eB.attributeNameCheck,t)||eB.attributeNameCheck instanceof Function&&eB.attributeNameCheck(t))||"is"===t&&eB.allowCustomizedBuiltInElements&&(eB.tagNameCheck instanceof RegExp&&Q(eB.tagNameCheck,r)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(r))))return!1}else if(ej[t]);else if(Q(em,B(r,W,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===S(r,"data:")&&eG[e]);else if(ew&&!Q(z,B(r,W,"")));else if(r)return!1;return!0},tu=function(e){return e.indexOf("-")>0},tA=function(t){ts("beforeSanitizeAttributes",t,null);var r,n,i,s,c=t.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eE};for(s=c.length;s--;){var u=(r=c[s]).name,A=r.namespaceURI;if(n="value"===u?r.value:b(r.value),i=a(u),l.attrName=i,l.attrValue=n,l.keepAttr=!0,l.forceKeepAttr=void 0,ts("uponSanitizeAttribute",t,l),n=l.attrValue,!l.forceKeepAttr&&(tn(u,t),l.keepAttr)){if(!eN&&Q(/\/>/i,n)){tn(u,t);continue}ek&&(n=B(n,q," "),n=B(n,G," "),n=B(n,H," "));var d=a(t.nodeName);if(tl(d,i,n)){if(ex&&("id"===i||"name"===i)&&(tn(u,t),n="user-content-"+n),ec&&"object"===e(et)&&"function"==typeof et.getAttributeType){if(A);else switch(et.getAttributeType(d,i)){case"TrustedHTML":n=ec.createHTML(n);break;case"TrustedScriptURL":n=ec.createScriptURL(n)}}try{A?t.setAttributeNS(A,u,n):t.setAttribute(u,n),m(o.removed)}catch(e){}}}}ts("afterSanitizeAttributes",t,null)}},td=function e(t){var r,n=ti(t);for(ts("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)ts("uponSanitizeShadowNode",r,null),tc(r)||(r.content instanceof l&&e(r.content),tA(r));ts("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(t){var r,n,c,u,A,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((eZ=!t)&&(t="<!-->"),"string"!=typeof t&&!to(t)){if("function"==typeof t.toString){if("string"!=typeof(t=t.toString()))throw T("dirty is not a string, aborting")}else throw T("toString is not a function")}if(!o.isSupported){if("object"===e(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof t)return i.toStaticHTML(t);if(to(t))return i.toStaticHTML(t.outerHTML)}return t}if(eR||e4(f),o.removed=[],"string"==typeof t&&(eO=!1),eO){if(t.nodeName){var p=a(t.nodeName);if(!eI[p]||eS[p])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof d)1===(n=(r=ta("<!---->")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===n.nodeName?r=n:"HTML"===n.nodeName?r=n:r.appendChild(n);else{if(!eL&&!ek&&!eD&&-1===t.indexOf("<"))return ec&&e_?ec.createHTML(t):t;if(!(r=ta(t)))return eL?null:e_?el:""}r&&eU&&tr(r.firstChild);for(var g=ti(eO?t:r);c=g.nextNode();)3===c.nodeType&&c===u||tc(c)||(c.content instanceof l&&td(c.content),tA(c),u=c);if(u=null,eO)return t;if(eL){if(eP)for(A=ef.call(r.ownerDocument);r.firstChild;)A.appendChild(r.firstChild);else A=r;return(eE.shadowroot||eE.shadowrootmod)&&(A=eg.call(s,A,!0)),A}var h=eD?r.outerHTML:r.innerHTML;return eD&&eI["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Q(X,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),ek&&(h=B(h,q," "),h=B(h,G," "),h=B(h,H," ")),ec&&e_?ec.createHTML(h):h},o.setConfig=function(e){e4(e),eR=!0},o.clearConfig=function(){e2=null,eR=!1},o.isValidAttribute=function(e,t,r){return e2||e4({}),tl(a(e),a(t),r)},o.addHook=function(e,t){"function"==typeof t&&(ey[e]=ey[e]||[],I(ey[e],t))},o.removeHook=function(e){if(ey[e])return m(ey[e])},o.removeHooks=function(e){ey[e]&&(ey[e]=[])},o.removeAllHooks=function(){ey={}},o}()}()},8679:function(e,t,r){"use strict";var n=r(59864),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?o:s[e.$$typeof]||a}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var a=f(r);a&&a!==p&&e(t,a,n)}var o=u(r);A&&(o=o.concat(A(r)));for(var s=c(t),g=c(r),h=0;h<o.length;++h){var y=o[h];if(!i[y]&&!(n&&n[y])&&!(g&&g[y])&&!(s&&s[y])){var m=d(r,y);try{l(t,y,m)}catch(e){}}}}return t}},23837:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(99018)}])},43385:function(e,t,r){"use strict";r.d(t,{EB:function(){return u},J0:function(){return o},YZ:function(){return i},he:function(){return a},i7:function(){return c},op:function(){return n},sp:function(){return s}});let n={apiCall:1,getInvoice:2,getBraintreeClientToken:4,pay:8,getTransactions:16,GetMFAData:32,VerifyMFASetupToken:64,DeleteMFA:128},a={KeySetup:1,LogIn:2,LogOut:4,Preflight:8,VerifyMFAToken:16,RecoverMFA:32},i={NicknameSignIn:1,AuthenticateManagedMember:2,VerifyMFA:4,VerifyKeyHash:8,Lock:16,SignOut:32},o={ListTeams:1,CreateANewTeam:2,AddAMemberToTeam:4,DeleteATeamMember:8,ListTeamMembers:16,SearchForAMember:32},s={InitWorkspace:1,ListItems:2,SearchItems:4,ListContainers:8,CreateANewItem:16,DropItems:32,GetTrashBox:64,TrashItems:128,EmptyTrashBoxItems:256,RestoreItemsFromTrash:512,ListActivities:1024},c={GetPageItem:1,DecryptPageItem:2,SaveTags:4,SaveTitle:8,SaveContent:16,UploadImages:32,DeleteAnImage:64,UploadAttachments:128,DeleteAnAttachment:256,SaveImageWords:512,SaveComment:1024,LoadComments:2048,GetVersionsHistory:4096,GetItemPath:8192,UploadVideos:16384,DeleteAVideo:32768,SaveVideoWords:65536},l={10:"Please try different nickname and key!",12:"Creating BSafes API error!",102:"Did you enter nickname and key correctly?",104:"Challenge failed!",106:"Challenge API error!",108:"Authenticate API error!",110:"Preflight error!",112:"2FA failed!",114:"2FA API failed"},u=(e,t,r)=>{let n=[];if("Auth"!==e)return null;let i=Object.keys(a);for(let e=0;e<i.length;e++){let o=a[i[e]];if(t&o){let e=l[r[o]];n.push(e)}}return n}},51892:function(e,t,r){"use strict";r.d(t,{AN:function(){return I},Ai:function(){return y},Eo:function(){return d},IS:function(){return c},M2:function(){return E},R$:function(){return p},TM:function(){return f},_t:function(){return g},bZ:function(){return u},dO:function(){return l},kN:function(){return s},ln:function(){return h},to:function(){return m},vp:function(){return A},x6:function(){return C}});var n=r(49486),a=r(94882);let i=r(22079),o=r(27856);async function s(e,t,r,a){return new Promise((i,o)=>{(0,n.$3)({api:"/memberAPI/".concat(e),body:{containerId:t,itemPosition:r},dispatch:a}).then(e=>{(0,n.qu)(!1,e),"ok"===e.status?i(e.itemId):((0,n.qu)(!1,"gotoAnotherItem failed: ",e.error),o(e.error))}).catch(e=>{(0,n.qu)(!1,"gotoAnotherItem failed."),o(e)})})}async function c(e,t,r,a){return new Promise((i,o)=>{(0,n.$3)({api:"/memberAPI/".concat(e),body:{folderId:t,itemPosition:r},dispatch:a}).then(e=>{(0,n.qu)(!1,e),"ok"===e.status?i(e.itemId):((0,n.qu)(!1,"gotoAnotherFolderPage failed: ",e.error),o(e.error))}).catch(e=>{(0,n.qu)(!1,"gotoAnotherFolderPage failed."),o(e)})})}function l(e){let t=e.split(":")[0];return"t"===t||"b"===t||"f"===t||"n"===t||"d"===t}function u(e,t){let r,n,s,c,l,u;e._source?(n=e._id,r=e._source):(n=e.id,r=e);let A=n,d=r.container,f=r.position;if("3"===A.split(":")[2]){if(void 0===r.keyEnvelope)u="Error!";else try{s=(0,a.Ag)(i.util.decode64(r.keyEnvelope),t),r.title?(l=(0,a.Ag)(i.util.decode64(r.title),s),u=i.util.decodeUtf8(l),u=o.sanitize(u)):u=""}catch(e){u="Error!"}}else try{if(r.envelopeIV&&r.ivEnvelope&&r.ivEnvelopeIV)s=(0,a.Ag)(i.util.decode64(r.keyEnvelope),t,i.util.decode64(r.envelopeIV)),c=(0,a.Ag)(i.util.decode64(r.ivEnvelope),t,i.util.decode64(r.ivEnvelopeIV));else{let e=i.util.decode64(r.keyEnvelope);s=(0,a.Ag)(e,t),c=null}r.title?(l=(0,a.Ag)(i.util.decode64(r.title),s,c),u=i.util.decodeUtf8(l),u=o.sanitize(u)):u=""}catch(e){u="Error!"}return{id:A,container:d,position:f,title:u,itemPack:r}}function A(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e._source?(t=e._id,e=e._source):t=e.id;let n=t.split(":")[0],a=e.container,i=null;switch(n){case"p":i=a&&"f"===a.substring(0,1)?"/folder/p/"+t:"/page/"+t;break;case"b":i=r?"/box/"+t:"/box/contents/"+t;break;case"f":i=r?"/folder/"+t:"/folder/contents/"+t;break;case"n":i=e.itemPack&&e.itemPack.lastAccessedPage?"/notebook/p/"+e.itemPack.lastAccessedPage:"/notebook/"+t;break;case"np":i="/notebook/p/"+t;break;case"d":if(r)i="/diary/"+t;else{let e;e=p(),i="/diary/p/"+t.replace("d:","dp:")+":"+e}break;case"dp":i="/diary/p/"+t}return i}function d(e){let t=e.split(":")[0],r=null,n=null;switch(t){case"b":r="/box/"+e,n="/box/contents/"+e;break;case"f":r="/folder/"+e,n="/folder/contents/"+e;break;case"u":r="/safe/"}return{converLink:r,contentsLink:n}}function f(e){let t=null;if(e.startsWith("np")){let r=e.split(":");t="n";for(let e=1;e<r.length-1;e++)t+=":".concat(r[e])}else if(e.startsWith("dp")){let r=e.split(":");t="d";for(let e=1;e<r.length-1;e++)t+=":".concat(r[e])}return t}function p(){let e,t;let r=new Date,n=r.getFullYear();return(e=r.getMonth()+1)<10&&(e="0"+e),(t=r.getDate())<10&&(t="0"+t),n+"-"+e+"-"+t}function g(e,t,r,a){return new Promise((i,o)=>{let s,c;(0,n.$3)({api:"/memberAPI/preS3ChunkUpload",body:{itemId:e,chunkIndex:t.toString(),timeStamp:r},dispatch:a}).then(e=>{(0,n.qu)(!1,e),"ok"===e.status?(c=(s=e.s3Key).split("_chunk_")[0],i({s3Key:s,s3KeyPrefix:c,signedURL:e.signedURL})):((0,n.qu)(!1,"preS3ChunkUpload failed: ",e.error),o(e.error))}).catch(e=>{(0,n.qu)(!1,"preS3ChunkUpload failed: ",e),o(e)})})}function h(e,t,r,a,i){return new Promise((o,s)=>{let c;(0,n.$3)({api:"/memberAPI/preS3ChunkDownload",body:{itemId:e,chunkIndex:t.toString(),s3KeyPrefix:r,numberOfChunksRequired:a},dispatch:i}).then(e=>{(0,n.qu)(!1,e),"ok"===e.status?(a&&(c=parseInt(e.numberOfChunks)),o({signedURL:e.signedURL,numberOfChunks:c})):((0,n.qu)(!1,"preS3ChunkDownload failed: ",e.error),s(e.error))}).catch(e=>{(0,n.qu)(!1,"preS3ChunkDownload failed: ",e),s(e)})})}function y(e,t,r){return new Promise(async(a,i)=>{(0,n.$3)({api:"/memberAPI/preS3Download",body:{itemId:e,s3Key:t},dispatch:r}).then(e=>{(0,n.qu)(!1,e),"ok"===e.status?a(e.signedURL):((0,n.qu)(!1,"preS3Download failed: ",e.error),i(e.error))}).catch(e=>{(0,n.qu)(!1,"preS3Download failed: ",e),i("preS3Download failed!")})})}function m(e){return new Date(e).toString().split("GMT")[0]}function I(e){var t=Date.now(),r=new Date(e).toString().split("GMT")[0],n=t-e;if(n<6e4)var a=Math.round(n/1e3)+" seconds ago";else if(n<36e5)var a=Math.round(n/6e4)+" minutes ago";else if(n<864e5)var a=Math.round(n/36e5)+" hours ago";else if(n<6048e5)var a=Math.round(n/864e5)+" days ago";return void 0!==a&&(r=a),r}function C(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}function E(){return{videoChunkSize:524288,videoThumbnailIndex:999999999}}},94882:function(e,t,r){"use strict";r.d(t,{$f:function(){return C},Ag:function(){return f},Em:function(){return T},MF:function(){return S},NP:function(){return Q},Ol:function(){return b},UJ:function(){return d},X7:function(){return A},Xm:function(){return u},aN:function(){return E},fK:function(){return l},gM:function(){return I},hf:function(){return m},kh:function(){return y},mw:function(){return B},nW:function(){return h},sB:function(){return v},sz:function(){return p},xl:function(){return g},yC:function(){return c}});var n=r(49486);let a=r(22079),i=r(50477),o=r(2418),s="%GCM371%";function c(e,t,r){let n=a.util.createBuffer();n.putBytes(e);let i=a.cipher.createCipher("AES-CBC",t);return i.start({iv:r}),i.update(n),i.finish(),i.output.data}function l(e,t,r){let n=a.util.createBuffer();n.putBytes(e);let i=a.cipher.createDecipher("AES-CBC",t);return i.start({iv:r}),i.update(n),i.finish(),i.output.data}function u(e,t){let r=a.util.createBuffer();r.putBytes(e);let n=a.cipher.createCipher("AES-ECB",t);return n.start({iv:""}),n.update(r),n.finish(),n.output.data}function A(e,t){let r=a.util.createBuffer();r.putBytes(e);let n=a.cipher.createDecipher("AES-ECB",t);return n.start({iv:""}),n.update(r),n.finish(),n.output.data}function d(e,t){return function(e,t){a.util.createBuffer().putBytes(e);let r=a.random.getBytesSync(12),n=a.cipher.createCipher("AES-GCM",t);return n.start({iv:r,tagLength:128}),n.update(a.util.createBuffer(e)),n.finish(),n.output,n.mode.tag,s+r+n.mode.tag.data+n.output.data}(e,t)}function f(e,t,r){if(e.slice(0,8)!==s)return l(e,t,r);{let r,i,o,s,c,l;return(r=a.util.createBuffer()).putBytes(e.slice(36)),i=e.slice(8,20),(o=a.util.createBuffer()).putBytes(e.slice(20,36)),(s=a.cipher.createDecipher("AES-GCM",t)).start({iv:i,tagLength:128,tag:o}),s.update(r),c=s.finish(),l=null,c?l=s.output.data:(0,n.qu)(!1,"corrupted data."),l}}function p(e,t){let r,a=0,i="";for((0,n.qu)(!1,"encryptLargeBinaryString");;){if((r=a+524288)>=e.length){let r=e.slice(a,e.length),o=d(r,t);i+=o,(0,n.qu)(!1,"slice length: ".concat(r.length,", encryptedSlice length: ").concat(o.length,", encryptedString length:").concat(i.length));break}{let o=e.slice(a,r),s=d(o,t);i+=s,a=r,(0,n.qu)(!1,"slice length: ".concat(o.length,", encryptedSlice length: ").concat(s.length,", encryptedString length:").concat(i.length))}}return i}function g(e,t,r){let a;let i=e.slice(0,8),o=!1;(0,n.qu)(!1,"decryptLargeBinaryString"),i===s&&(o=!0);let c=0,l=524304;o&&(l=524324);let u="";for(;;){if((a=c+l)>=e.length){let a=e.slice(c,e.length),i=f(a,t,r);u+=i,(0,n.qu)(!1,"slice length: ".concat(a.length,", decrypted slice length: ").concat(i.length,", decrypted string length:").concat(u.length));break}{let i=e.slice(c,a),o=f(i,t,r);u+=o,c=a,(0,n.qu)(!1,"slice length: ".concat(i.length,", decrypted slice length: ").concat(o.length,", decrypted string length:").concat(u.length))}}return u}function h(e,t){let r=new DataView(e);if(e.byteLength!==t.length)return!1;for(let n=0;n<e.byteLength;n++)if(r.getUint8(n,!1)!==t[n])return!1;return!0}function y(e,t){return new Promise(async r=>{let a=function(e){let t=Math.floor(e/524288),r=e%524288;return r?r+36+524324*t:524324*t}(e.length);(0,n.qu)(!1,"string.length, encryptedDataSize",e.length,a);let i="",o=Math.floor(e.length/524288)+1,s,c=0,l,u,A;for(s=0;s<o;s++)(0,n.qu)(!1,"encryptASlice ".concat(s,": ").concat(Date.now())),await function(r){return new Promise(a=>{let s,f,p,g;u="",r===o-1?((0,n.qu)(!1,"copying sliceStr: ".concat(Date.now())),u=e.slice(c),(0,n.qu)(!1,"encryptBinaryString: ".concat(Date.now())),A=d(u,t),(0,n.qu)(!1,"encryptedSlice.length:",A.length),(0,n.qu)(!1,"copying encryptedSlice: ".concat(Date.now())),i+=A,(0,n.qu)(!1,"copied encryptedSlice done: ".concat(Date.now()))):(l=c+524288,s=Date.now(),(0,n.qu)(!1,"copying sliceStr: ".concat(s)),u=e.slice(c,l),f=Date.now(),(0,n.qu)(!1,"encryptBinaryString: ".concat(f," delta:").concat(f-s," ms")),A=d(u,t),(0,n.qu)(!1,"encryptedSlice.length:",A.length),p=Date.now(),(0,n.qu)(!1,"copying encryptedSlice: ".concat(p," delta:").concat(p-f," ms")),i+=A,g=Date.now(),(0,n.qu)(!1,"copied encryptedSlice done: ".concat(g," delta:").concat(g-p," ms")),c=l),a()})}(s),(0,n.qu)(!1,"encryptASlice ".concat(s," done: ").concat(Date.now())),await (0,n._v)(1);r(i)})}function m(e,t,r){return new Promise(async(a,i)=>{let o,c,l,u="",A="",d="";for(let t=0;t<8;t++)A+=e[t];A===s&&(u="GCMMode");let p=0,g=524304;"GCMMode"===u&&(g=524324);let h=Math.floor(e.length/g)+1;for(let a=0;a<h;a++)await function(a){return new Promise(async i=>{if((0,n.qu)(!1,"decrypting slice:",a),c="",a===h-1){for(let t=p;t<e.length;t++)c+=e[t];(0,n.qu)(!1,"sliceStr length:",c.length),l=f(c,t,r),d+=l,(0,n.qu)(!1,"decryptedSlice length, totalLength:",l.length,d.length)}else{o=p+g;for(var s=p;s<o;s++)c+=e[s];(0,n.qu)(!1,"sliceStr length:",c.length),l=f(c,t,r),d+=l,(0,n.qu)(!1,"decryptedSlice length, totalLength:",l.length,d.length),p=o}i()})}(a),await (0,n._v)(1);a(d)})}function I(e,t,r){for(var n=e.toLowerCase(),i=n.split(/\s*[\s,.;!?]\s*/),o=[],s=0;s<i.length;s++)if(i[s].length){var l=c(a.util.encodeUtf8(i[s]),t,r),u=a.util.encode64(l);o.push(u)}return o}function C(e,t){for(var r=e.toLowerCase(),n=r.split(/\s*[\s,.;!?]\s*/),i=[],o=0;o<n.length;o++)if(n[o].length){var s=u(a.util.encodeUtf8(n[o]),t),c=a.util.encode64(s);i.push(c)}return i}function E(e,t){for(var r=[],n=0;n<e.length;n++)if(e[n].length){var i=d(a.util.encodeUtf8(e[n]),t);r.push(a.util.encode64(i))}return r}function v(e,t,r){for(var n=[],i=0;i<e.length;i++)if(e[i].length){var o=e[i].toLowerCase(),s=c(a.util.encodeUtf8(o),t,r),l=a.util.encode64(s);n.push(l);var u=/\s*[\s,.;!?]\s*/,A=o.split(u);if(A.length>1){for(var d=0;d<A.length;d++)if(A[d].length){var s=c(a.util.encodeUtf8(A[d]),t,r),l=a.util.encode64(s);n.push(l)}}}return n}function B(e,t){for(var r=[],n=0;n<e.length;n++)if(e[n].length){var i=e[n].toLowerCase(),o=u(a.util.encodeUtf8(i),t),s=a.util.encode64(o);r.push(s);var c=/\s*[\s,.;!?]\s*/,l=i.split(c);if(l.length>1){for(var A=0;A<l.length;A++)if(l[A].length){var o=u(a.util.encodeUtf8(l[A]),t),s=a.util.encode64(o);r.push(s)}}}return r}async function S(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={};s.secret={},s.keyPack={schemeVersion:3};let l=Date.now(),u=a.md.sha256.create();u.update(e);let A=a.util.hexToBytes(u.digest().toHex());(u=a.md.sha256.create()).update(A);let f=(A=a.util.hexToBytes(u.digest().toHex())).substring(0,16);(0,n.qu)(!1,"keySalt:",f.length),s.secret.keySalt=f,s.secret.keySalt64=(0,n.s3)(f);let p=A.substring(16,32);try{let e;e=await i.hash({pass:t,salt:f,time:2,mem:102400,hashLen:32,parallelism:2,type:i.ArgonType.Argon2id}),(0,n.qu)(!1,e.hashHex),s.secret.expandedKeyHex=e.hashHex;let u=a.util.hexToBytes(e.hashHex);(0,n.qu)(!1,u),s.secret.expandedKey=u;let A=(0,n.s3)(u);s.secret.expandedKey64=A;let g=c(f,s.secret.expandedKey,";)H{BP_f@)QhrJqy"),h=(0,n.s3)(g).substring(0,20),y=c(p,s.secret.expandedKey,"q_f7^HQy{jdhrJ@)"),m=a.util.encode64(y);m=m.replace(/\+/g,"0"),s.keyPack.idSalt="$2a$10$"+m,e=await new Promise((e,t)=>{o.hash(u,s.keyPack.idSalt,function(r,n){if(r)t(null);else{let t=n.substring(28,n.length);e(t)}})});let I=(0,n.s3)(e);s.keyPack.id=h+I;let C=async()=>new Promise((e,t)=>{let r=a.pki;a.pki.rsa.generateKeyPair({bits:2048,workers:2},function(n,a){if(n)t(null);else{let t=a.publicKey,n=a.privateKey,i=r.publicKeyToPem(t),o=r.privateKeyToPem(n);e({publicKey:i,privateKey:o})}})});if(!r){let e=await C();s.secret.keyPair=e;let t=d(e.privateKey,s.secret.expandedKey),r=a.util.encode64(t);s.keyPack.publicKey=a.util.encode64(s.secret.keyPair.publicKey),s.keyPack.privateKeyEnvelope=r;let n=a.random.getBytesSync(32),i=a.random.getBytesSync(32),o=a.pkcs5.pbkdf2(i,n,1e4,32),c=d(o,u),l=a.util.encode64(c);s.keyPack.searchKeyEnvelope=l;let A=a.random.getBytesSync(16),f=d(A,u),p=a.util.encode64(f);s.keyPack.searchIVEnvelope=p}let E=Date.now();return s.calculationTime=E-l,s}catch(e){return console.error(e),null}}function b(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"v2",i=a.cipher.createCipher("AES-GCM",t);i.start({iv:r,tagLength:128}),i.update(a.util.createBuffer(e.secret.expandedKey)),i.finish();let o=a.util.encode64(i.mode.tag.data+i.output.data);localStorage.setItem("memberId",e.memberId),localStorage.setItem("displayName",e.displayName),localStorage.setItem("encodedGold",o),localStorage.setItem("publicKey",e.keyPack.publicKey),localStorage.setItem("encodedPrivateKeyEnvelope",e.keyPack.privateKeyEnvelope),localStorage.setItem("encodedSearchKeyEnvelope",e.keyPack.searchKeyEnvelope),"v1"===n?(localStorage.setItem("accountVersion","v1"),localStorage.setItem("encodedEnvelopeIV",e.keyPack.envelopeIV),localStorage.setItem("encodedSearchIV",e.keyPack.searchKeyIV)):"v2"===n&&(localStorage.setItem("accountVersion","v2"),localStorage.setItem("encodedSearchIVEnvelope",e.keyPack.searchIVEnvelope))}function Q(e){localStorage.removeItem("memberId"),localStorage.removeItem("displayName"),localStorage.removeItem("encodedGold"),localStorage.removeItem("publicKey"),localStorage.removeItem("encodedPrivateKeyEnvelope"),localStorage.removeItem("encodedSearchKeyEnvelope"),"v1"===e?(localStorage.removeItem("accountVersion","v1"),localStorage.removeItem("encodedEnvelopeIV"),localStorage.removeItem("encodedSearchIV")):"v2"===e&&(localStorage.removeItem("accountVersion","v2"),localStorage.removeItem("encodedSearchIVEnvelope"))}function T(e,t){let r=localStorage.getItem("encodedGold");if(!r)return null;let i={secret:{},keyPack:{}},o=localStorage.getItem("accountVersion");i.accountVersion=o,i.memberId=localStorage.getItem("memberId"),i.displayName=localStorage.getItem("displayName");let s=a.util.decode64(r),c=a.util.createBuffer();c.putBytes(s.slice(16));let l=a.util.createBuffer();l.putBytes(s.slice(0,16));let u=a.cipher.createDecipher("AES-GCM",e);u.start({iv:t,tagLength:128,tag:l}),u.update(c);let A=u.finish(),d=null;A?d=u.output.data:(0,n.qu)(!1,"corrupted data."),i.secret.expandedKey=d,i.keyPack.publicKey=a.util.decode64(localStorage.getItem("publicKey"));let p=localStorage.getItem("encodedPrivateKeyEnvelope"),g=a.util.decode64(p);if("v1"===o){let e=a.util.decode64(localStorage.getItem("encodedEnvelopeIV"));i.secret.privateKey=f(g,i.secret.expandedKey,e)}else"v2"===o&&(i.secret.privateKey=f(g,i.secret.expandedKey));if("v1"===o){let e=a.util.decode64(localStorage.getItem("encodedSearchKeyEnvelope")),t=a.util.decode64(localStorage.getItem("encodedSearchIV"));i.secret.searchKey=f(e,i.secret.expandedKey,t)}else if("v2"===o){let e=localStorage.getItem("encodedSearchKeyEnvelope"),t=a.util.decode64(e);i.secret.searchKey=f(t,i.secret.expandedKey);let r=localStorage.getItem("encodedSearchIVEnvelope"),n=a.util.decode64(r);i.secret.searchIV=f(n,i.secret.expandedKey)}return i}},49486:function(e,t,r){"use strict";r.d(t,{$3:function(){return l},CO:function(){return f},S7:function(){return c},_v:function(){return o},gl:function(){return s},q_:function(){return p},qu:function(){return i},s3:function(){return u},tp:function(){return d},z9:function(){return A}});var n=r(17384);let a=r(22079);function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e&&console.log(t,r)}function o(e){return new Promise(t=>setTimeout(t,e))}function s(){let e=c(),t=e.isChrome||!e.isIPhone&&!e.isIPad&&!e.isAndroid&&(e.isChrome||e.isFirefox);return console.log("usingServiceWorker: ",t),t}function c(){let e=window.navigator.userAgent.toLowerCase();return{userAgent:e,isChrome:-1!==e.indexOf("chrome")||-1!==e.indexOf("crios"),isFirefox:-1!==e.indexOf("firefox")||-1!==e.indexOf("fxios"),isIPhone:-1!==e.indexOf("iphone"),isIPad:-1!==e.indexOf("ipad"),isAndroid:-1!==e.indexOf("android")}}function l(e){let{api:t,body:r,dispatch:a=null}=e,i={"/memberAPI/preS3Upload":!0,"/memberAPI/postS3Upload":!0,"/memberAPI/preS3Download":!0,"/memberAPI/preS3ChunkUpload":!0,"/memberAPI/preS3ChunkDownload":!0};return new Promise((e,o)=>{let s;a&&(i[t]||a((0,n.jT)()),a((0,n.A8)()));let c=window.location.origin;c.includes("openbsafes.com")?s="https://fo4x871jr1.execute-api.us-east-1.amazonaws.com":c.includes("localbsafes.com")?s="http://localhost:3030":c.includes("bsafes.com")?s="https://api.bsafes.com":c.includes("127.0.0.1")?s="http://localhost:3030":c.includes("localhost")&&(s="http://localhost:3030");let l=localStorage.getItem("authToken");l||(l="None");let u="".concat(s).concat(t);fetch(u,{body:JSON.stringify({...r,authToken:l}),headers:{"Content-Type":"application/json"},method:"POST",credentials:"include"}).then(e=>e.json()).then(t=>{e(t.data)}).catch(e=>{console.error(e),o(e)}).finally(()=>{a&&a((0,n.AG)())})})}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return a.util.encode64(e).replace(/\//g,t)}function A(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function d(e){let t,r=e.length,n="";for(t=0;t<r;t++)n+=String.fromCharCode(e[t]);return n}function f(e){let t,r=e.length,n=new Uint8Array(r);for(t=0;t<r;t++)n[t]=e.charCodeAt(t);return n}function p(e){let t=new DataView(e),r="";for(let n=0;n<e.byteLength;n++)r+=String.fromCharCode(t.getUint8(n,!1));return r}},43454:function(e,t,r){"use strict";r.d(t,{M:function(){return i},N:function(){return a}});var n=r(49486);function a(e,t){return new Promise((t,r)=>{let a=new Image;a.onload=async()=>{let e=document.createElement("canvas");a.naturalWidth>a.naturalHeight&&a.naturalWidth>8064?(e.width=8064,e.height=a.naturalHeight/a.naturalWidth*8064):a.naturalHeight>a.naturalWidth&&a.naturalHeight>8064?(e.width=a.naturalWidth/a.naturalHeight*8064,e.height=8064):(e.width=a.naturalWidth,e.height=a.naturalHeight),e.getContext("2d").drawImage(a,0,0,e.width,e.height);let i=e.toDataURL("image/*",1);try{let e=await new Promise((e,t)=>{(0,n.qu)(!1,"dataURLToBlobAndBinaryString");let r=o(i);if(!r){t("dataURLToBinaryString error",null,null);return}(0,n.qu)(!1,"byteString length: ",r.length);let a=new ArrayBuffer(r.length),s=new Uint8Array(a);for(let e=0;e<r.length;e+=1)s[e]=r.charCodeAt(e);(0,n.qu)(!1,"intArray",s.byteLength);let c=new Blob([s],{type:"image/jpeg"});(0,n.qu)(!1,"blob size:",c.size),e({blob:c,byteString:r})});t(e)}catch(e){(0,n.qu)(!1,"dataURLToBlobAndBinaryString error:",e),r(e)}},a.src=e})}function i(e,t,r){return new Promise(async(t,a)=>{let i;let s=document.createElement("canvas"),c=e.naturalWidth,l=e.naturalHeight;s.width=c,s.height=l,s.getContext("2d").drawImage(e,0,0,s.width,s.height),i=c>r||l>r?s.width>s.height?r/s.width:r/s.height:1;try{var u;let e=(await (u=i,new Promise(async(e,t)=>{let r,a;if(!(u>0)){t("scale must be > 0");return}try{u=function(e){if(e>1)throw"s must be <1";for(var t=function(e){var t=[2,12,240,65280,4294901760],r=[1,2,4,8,16],n=0,a=0;for(n=4;n>=0;n--)e&t[n]&&(e>>=r[n],a|=r[n]);return a}(e=0|1/e),r=1<<t,n=4;n&&t;)r|=1<<--t,n--;return 1/(e&r)}(u)}catch(e){(0,n.qu)(!1,"normaliseScale error: ",e),t(e);return}let i=u*u,o=s.width,c=s.height,l=Math.floor(o*u),A=Math.floor(c*u),d=0,f=0,p=0,g=0,h=0,y=0,m=0,I=0,C=0,E=0,v=0,B=0,S=0,b=0,Q=0,T=!1,w=!1,N=s.getContext("2d").getImageData(0,0,o,c).data,k=new Float32Array(3*l*A),D=0,R=0,U=0;a=new Date().getTime();let L=0;setTimeout(function t(){for(console.log("doChunk");f<c;){for(new Date().getTime(),y=3*(C=0|(h=f*u))*l,(w=C!==(0|h+u))&&(b=C+1-h,Q=h+u-C-1),d=0;d<o;d++,p+=4)I=0|(g=d*u),m=y+3*I,(T=I!==(0|g+u))&&(B=I+1-g,S=g+u-I-1),D=N[p],R=N[p+1],U=N[p+2],T||w?T&&!w?(E=B*u,k[m]+=D*E,k[m+1]+=R*E,k[m+2]+=U*E,v=S*u,k[m+3]+=D*v,k[m+4]+=R*v,k[m+5]+=U*v):!T&&w?(E=b*u,k[m]+=D*E,k[m+1]+=R*E,k[m+2]+=U*E,v=Q*u,k[m+3*l]+=D*v,k[m+3*l+1]+=R*v,k[m+3*l+2]+=U*v):(E=B*b,k[m]+=D*E,k[m+1]+=R*E,k[m+2]+=U*E,v=S*b,k[m+3]+=D*v,k[m+4]+=R*v,k[m+5]+=U*v,v=B*Q,k[m+3*l]+=D*v,k[m+3*l+1]+=R*v,k[m+3*l+2]+=U*v,v=S*Q,k[m+3*l+3]+=D*v,k[m+3*l+4]+=R*v,k[m+3*l+5]+=U*v):(k[m]+=D*i,k[m+1]+=R*i,k[m+2]+=U*i);if(new Date().getTime(),f++,(r=new Date().getTime())-a>1e3&&f<c){a=r,L++,setTimeout(t,1);return}}let n=document.createElement("canvas");n.width=l,n.height=A;let s=n.getContext("2d"),P=s.getImageData(0,0,l,A),_=P.data,F=0;for(p=0,m=0;F<l*A;p+=3,m+=4,F++)_[m]=0|k[p],_[m+1]=0|k[p+1],_[m+2]=0|k[p+2],_[m+3]=255;s.putImageData(P,0,0),e(n)},1e3)}))).toDataURL("image/jpeg",1),r=o(e);r?t(r):((0,n.qu)(!1,"dataURLToBinaryString error"),a("dataURLToBinaryString error"))}catch(e){(0,n.qu)(!1,"downScaleCanvas error"),a("downScaleCanvas error")}})}function o(e){let t,r,n;return(t=e.match(/^data:((.*?)(;charset=.*?)?)(;base64)?,/))?(t[2]?t[1]:t[3],r=!!t[4],console.log("dataString",(n=e.slice(t[0].length)).length),r?atob(n):decodeURIComponent(n)):null}},99018:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n,a,i,o,s,c,l=r(85893),u=r(67294),A=r(7406),d=r(9473),f=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},h=function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},m="__NEXT_REDUX_WRAPPER_HYDRATE__",I=function(){return"undefined"==typeof window},C=function(e,t){var r=(void 0===t?{}:t).deserializeState;return r?r(e):e},E=function(e,t){var r=(void 0===t?{}:t).serializeState;return r?r(e):e},v=function(e){var t=e.makeStore,r=e.context,n=function(){return t(r)};if(I()){var a=void 0;return(r.req&&(a=r.req),r.ctx&&r.ctx.req&&(a=r.ctx.req),a)?(a.__nextReduxWrapperStore||(a.__nextReduxWrapperStore=n()),a.__nextReduxWrapperStore):n()}return c||(c=n()),c},B=r(17384),S=r(78602);let b=[{id:"font-awesome.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css",loaded:!1},{id:"froala_editor.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/froala_editor.min.css",loaded:!1},{id:"froala_style.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/froala_style.min.css",loaded:!1},{id:"codemirror.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.css",loaded:!1},{id:"char_counter.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/char_counter.min.css",loaded:!1},{id:"code_view.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/code_view.min.css",loaded:!1},{id:"colors.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/colors.min.css",loaded:!1},{id:"emoticons.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/emoticons.min.css",loaded:!1},{id:"file.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/file.min.css",loaded:!1},{id:"fullscreen.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/fullscreen.min.css",loaded:!1},{id:"image.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/image.min.css",loaded:!1},{id:"image_manager.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/image_manager.min.css",loaded:!1},{id:"line_breaker.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/line_breaker.min.css",loaded:!1},{id:"line_breaker.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/line_breaker.min.css",loaded:!1},{id:"quick_insert.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/quick_insert.min.css",loaded:!1},{id:"table.min.css",src:"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.5/css/plugins/table.min.css",loaded:!1}],Q={stylesheets:b,count:b.length,done:!1},T=(0,A.oM)({name:"stylesheets",initialState:Q,reducers:{loaded:(e,t)=>{b[t.payload].loaded=!0,e.count--,console.log(t.payload+" loaded. current count:"+e.count),0===e.count&&(e.done=!0)}}}),{loaded:w}=T.actions,N=T.reducer;var k=r(40606),D=r(24638),R=r(49411),U=r(75979),L=r(58935);let P=(0,A.xC)({reducer:{[T.name]:N,[S.ZP.name]:S.fD,[k.ZP.name]:k.dX,[D.ZP.name]:D.PT,[R.ZP.name]:R.kA,[U.ZP.name]:U.Vk,[L.ZP.name]:L.iA,[B.ZP.name]:B.vC},devTools:!0,middleware:e=>e({serializableCheck:{ignoredActions:["page/addImages","page/imageUploaded","page/setAbortController"],ignoredActionPaths:["payload.files","payload.img","payload.buffer","payload.xhr","payload.writer"],ignoredPaths:["page.videosUploadQueue","page.videoPanels","page.imageUploadQueue","page.imagePanels","page.attachmentsUploadQueue","page.attachmentPanels","page.abortController","page.xhr","page.writer"]}})}),_=(a=()=>P,void 0===i&&(i={}),o=function(e){var t=e.callback,r=e.context;return g(void 0,void 0,void 0,function(){var e,n,o,s,c;return h(this,function(l){switch(l.label){case 0:if(e=v({context:r,makeStore:a}),i.debug&&console.log("1. getProps created store with state",e.getState()),!(s=n=t&&t(e)))return[3,2];return[4,n(r)];case 1:s=l.sent(),l.label=2;case 2:return o=s||{},i.debug&&console.log("3. getProps after dispatches has store state",e.getState()),c=e.getState(),[2,{initialProps:o,initialState:I()?E(c,i):c}]}})})},{getServerSideProps:function(e){return function(t){return g(void 0,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return[4,s(e)(t)];case 1:return[2,r.sent()]}})})}},getStaticProps:s=function(e){return function(t){return g(void 0,void 0,void 0,function(){var r,n,a;return h(this,function(i){switch(i.label){case 0:return[4,o({callback:e,context:t})];case 1:return n=(r=i.sent()).initialProps,a=r.initialState,[2,p(p({},n),{props:p(p({},n.props),{initialState:a})})]}})})}},getInitialAppProps:function(e){return function(t){return g(void 0,void 0,void 0,function(){var r,n,a;return h(this,function(i){switch(i.label){case 0:return[4,o({callback:e,context:t})];case 1:return n=(r=i.sent()).initialProps,a=r.initialState,[2,p(p({},n),{initialState:a})]}})})}},getInitialPageProps:function(e){return function(t){return g(void 0,void 0,void 0,function(){return h(this,function(r){return"getState"in t?[2,e&&e(t)]:[2,o({callback:e,context:t})]})})}},withRedux:function(e){var t,r="withRedux("+(e.displayName||e.name||"Component")+")",n="getInitialProps"in e;return(t=function(t){function n(e,r){var n=t.call(this,e,r)||this;return n.store=null,n.hydrate(e,r),n}return f(n,t),n.prototype.hydrate=function(e,t){var n,o=e.initialState,s=(e.initialProps,y(e,["initialState","initialProps"])),c=null===(n=null==s?void 0:s.pageProps)||void 0===n?void 0:n.initialState;!this.store&&(this.store=v({makeStore:a,context:t}),i.debug&&console.log("4. WrappedApp created new store with",r,{initialState:o,initialStateFromGSPorGSSR:c})),o&&this.store.dispatch({type:m,payload:C(o,i)}),c&&this.store.dispatch({type:m,payload:C(c,i)})},n.prototype.shouldComponentUpdate=function(e,t,r){var n,a,i,o;return((null===(n=null==e?void 0:e.pageProps)||void 0===n?void 0:n.initialState)!==(null===(i=null===(a=this.props)||void 0===a?void 0:a.pageProps)||void 0===i?void 0:i.initialState)||(null==e?void 0:e.initialState)!==(null===(o=this.props)||void 0===o?void 0:o.initialState))&&this.hydrate(e,r),!0},n.prototype.render=function(){var t,r,n=this.props,a=(n.initialState,n.initialProps),i=y(n,["initialState","initialProps"]),o=i;return a&&a.pageProps&&(o.pageProps=p(p({},a.pageProps),i.pageProps)),(null===(t=null==i?void 0:i.pageProps)||void 0===t?void 0:t.initialState)&&(o=p(p({},i),{pageProps:p({},i.pageProps)}),delete o.pageProps.initialState),(null===(r=null==o?void 0:o.pageProps)||void 0===r?void 0:r.initialProps)&&(o.pageProps=p(p({},o.pageProps),o.pageProps.initialProps),delete o.pageProps.initialProps),u.createElement(d.zt,{store:this.store},u.createElement(e,p({},a,o)))},n}(u.Component)).displayName=r,t.getInitialProps=n?e.getInitialProps:void 0,t}});var F=r(9008),x=r.n(F);r(4298),r(71993),r(65253),r(34463),r(85211),r(73584),r(56436),r(93731),r(51073),r(75341);var M=_.withRedux(function(e){let{Component:t,pageProps:r}=e;return(0,u.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorkerV193.js?v206",{scope:"/"}).then(function(e){console.log("Service worker registration successful with scope: ",e.scope)},function(e){console.log("Service worker registration failed: ",e)})},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x(),{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"viewport",content:"viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"})]}),(0,l.jsx)(t,{...r})]})})},17384:function(e,t,r){"use strict";r.d(t,{A8:function(){return p},AG:function(){return f},DR:function(){return E},OC:function(){return S},OW:function(){return g},Qz:function(){return v},_n:function(){return B},c1:function(){return T},hC:function(){return c},jT:function(){return d},lw:function(){return b},vC:function(){return w},w_:function(){return Q}});var n=r(7406),a=r(49486),i=r(43385);let o={activity:0,activityErrors:0,activityErrorMessages:{},accountState:null,apiCount:0,braintreeClientToken:null,storageUsage:0,totoalStorage50GBRequired:0,nextDueTime:null,monthlyPrice:0,dues:[],planOptions:null,transactions:[],mfa:null},s=(0,n.oM)({name:"account",initialState:o,reducers:{cleanAccountSlice:(e,t)=>{let r=Object.keys(o);for(let t=0;t<r.length;t++){let n=r[t];e[n]=o[n]}},activityStart:(e,t)=>{e.activityErrors&=~t.payload,e.activityErrorMessages[t.payload]="",e.activity|=t.payload},activityDone:(e,t)=>{e.activity&=~t.payload},activityError:(e,t)=>{e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorMessages[t.payload.type]=t.payload.error},showApiActivity:(e,t)=>{e.activity|=i.op.apiCall},hideApiActivity:(e,t)=>{e.activity&=~i.op.apiCall},incrementAPICount:(e,t)=>{e.apiCount++},setAccountState:(e,t)=>{e.accountState=t.payload},clientTokenLoaded:(e,t)=>{e.braintreeClientToken=t.payload.clientToken},invoiceLoaded:(e,t)=>{e.storageUsage=t.payload.storageUsage,e.totoalStorage50GBRequired=t.payload.totoalStorage50GBRequired,e.nextDueTime=t.payload.nextDueTime,e.monthlyPrice=t.payload.monthlyPrice,e.dues=t.payload.dues,e.planOptions=t.payload.planOptions},transactionsLoaded:(e,t)=>{e.transactions=t.payload.hits.map((e,t)=>e._source)},MFALoaded:(e,t)=>{e.mfa=t.payload}}}),{cleanAccountSlice:c,activityStart:l,activityDone:u,activityError:A,showApiActivity:d,hideApiActivity:f,incrementAPICount:p,setAccountState:g,clientTokenLoaded:h,invoiceLoaded:y,transactionsLoaded:m,MFALoaded:I}=s.actions,C=async(e,t,r)=>{e(l(t));try{await r(),e(u(t))}catch(r){e(A({type:t,error:r}))}},E=()=>async(e,t)=>{C(e,i.op.GetMFAData,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/getMFAData"}).then(async n=>{(0,a.qu)(!1,n),"ok"===n.status?(e(I({otpAuthUrl:n.otpAuthUrl,mfaEnabled:n.mfaEnabled})),t()):((0,a.qu)(!1,"getMFADataThunk failed: ",n.error),r(n.error))}).catch(e=>{(0,a.qu)(!1,"getMFADataThunk failed: ",e),r("getMFADataThunk failed!")})}))},v=e=>async(t,r)=>{C(t,i.op.VerifyMFASetupToken,()=>new Promise((r,n)=>{let i=e.token;(0,a.$3)({api:"/memberAPI/verifyMFASetupToken",body:{token:i}}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?(t(I({mfaSetup:!0,recoveryWords:e.recoveryWords,mfaEnabled:!0})),r()):((0,a.qu)(!1,"woo... verifyMFASetupToken failed: ",e.error),n(e.error))}).catch(e=>{(0,a.qu)(!1,"woo... verifyMFASetupToken failed.")})}))},B=e=>async(e,t)=>{C(e,i.op.DeleteMFA,()=>new Promise((t,r)=>{(0,a.$3)({api:"/memberAPI/deleteMFA"}).then(n=>{(0,a.qu)(!1,n),"ok"===n.status?(e(I({mfaEnabled:!1})),t()):((0,a.qu)(!1,"woo... deleteMFA failed: ",n.error),r())}).catch(e=>{(0,a.qu)(!1,"woo... deleteMFA failed.")})}))},S=()=>async(e,t)=>{C(e,i.op.getInvoice,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/getInvoice"}).then(async n=>{(0,a.qu)(!1,n),"ok"===n.status?((0,a.qu)(!1,"getInvoiceThunk ok. "),e(y(n.invoice)),t()):((0,a.qu)(!1,"getInvoiceThunk failed: ",n.error),r("getInvoiceThunk failed."))}).catch(e=>{(0,a.qu)(!1,"getInvoiceThunk failed: ",e),r("getInvoiceThunk failed!")})}))},b=()=>async(e,t)=>{C(e,i.op.getBraintreeClientToken,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/getBraintreeClientToken"}).then(async n=>{(0,a.qu)(!1,n),"ok"===n.status?(e(h({clientToken:n.clientToken})),t()):((0,a.qu)(!1,"getPaymentClientTokenThunk failed: ",n.error),r("getPaymentClientTokenThunk failed."))}).catch(e=>{(0,a.qu)(!1,"getPaymentClientTokenThunk failed: ",e),r("getPaymentClientTokenThunk failed!")})}))},Q=e=>async(t,r)=>{C(t,i.op.pay,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/pay",body:{plan:e.plan,paymentMethodNonce:e.paymentMethodNonce}}).then(async e=>{(0,a.qu)(!1,e),"ok"===e.status?t():((0,a.qu)(!1,"payThunk failed: ",e.error),r("payThunk failed."))}).catch(e=>{(0,a.qu)(!1,"subscribe failed: ",e),r("payThunk failed!")})}))},T=()=>async(e,t)=>{C(e,i.op.getTransactions,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/getTransactions"}).then(async n=>{(0,a.qu)(!1,n),"ok"===n.status?((0,a.qu)(!1,"getTransactionsThunk ok. "),e(m({hits:n.hits.hits})),t()):((0,a.qu)(!1,"getTransactionsThunk failed: ",n.error),r("getTransactionsThunk failed."))}).catch(e=>{(0,a.qu)(!1,"getTransactionsThunk failed: ",e),r("getTransactionsThunk failed!")})}))},w=s.reducer;t.ZP=s},40606:function(e,t,r){"use strict";r.d(t,{Br:function(){return L},By:function(){return E},DS:function(){return Q},HQ:function(){return P},JA:function(){return R},Pl:function(){return S},Rt:function(){return N},dX:function(){return F},eB:function(){return U},eT:function(){return _},hC:function(){return B},hO:function(){return k},k4:function(){return b},kE:function(){return T},t$:function(){return v},zs:function(){return D}});var n=r(7406),a=r(49486),i=r(94882),o=r(43385),s=r(17384),c=r(58935),l=r(24638),u=r(49411),A=r(75979);let d=r(22079),f={activity:0,activityErrors:0,activityErrorCodes:{},error:null,contextId:null,challengeState:!1,preflightReady:!1,localSessionState:null,accountVersion:"",memberId:null,displayName:null,isLoggedIn:!1,expandedKey:null,publicKey:null,privateKey:null,searchKey:null,searchIV:null,froalaLicenseKey:null,v2NextAuthStep:null},p=(0,n.oM)({name:"auth",initialState:f,reducers:{cleanAuthSlice:(e,t)=>{let r=Object.keys(f);for(let t=0;t<r.length;t++){let n=r[t];e[n]=f[n]}},activityStart:(e,t)=>{e.activityErrors&=~t.payload,e.activityErrorCodes[t.payload]="",e.activity|=t.payload},activityDone:(e,t)=>{e.activity&=~t.payload},activityError:(e,t)=>{e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorCodes[t.payload.type]=t.payload.error},setContextId:(e,t)=>{e.contextId=t.payload},setChallengeState:(e,t)=>{e.challengeState=t.payload},setPreflightReady:(e,t)=>{e.preflightReady=t.payload},setLocalSessionState:(e,t)=>{e.localSessionState=t.payload},setDisplayName:(e,t)=>{e.displayName=t.payload},loggedIn:(e,t)=>{let r=(0,i.Em)(t.payload.sessionKey,t.payload.sessionIV);r&&(e.isLoggedIn=!0,e.accountVersion=r.accountVersion,e.memberId=r.memberId,e.displayName=r.displayName,e.expandedKey=r.secret.expandedKey,e.publicKey=r.keyPack.publicKey,e.privateKey=r.secret.privateKey,e.searchKey=r.secret.searchKey,"v2"===e.accountVersion&&(e.searchIV=r.secret.searchIV),e.froalaLicenseKey=t.payload.froalaLicenseKey)},loggedOut:(e,t)=>{e.isLoggedIn=!1,e.expandedKey=null,e.publicKey=null,e.privateKey=null,e.searchKey=null,e.searchIV=null,e.froalaLicenseKey=null},setAccountVersion:(e,t)=>{e.accountVersion=t.payload},setV2NextAuthStep:(e,t)=>{e.v2NextAuthStep=t.payload}}}),{cleanAuthSlice:g,activityStart:h,activityDone:y,activityError:m,setContextId:I,setChallengeState:C,setPreflightReady:E,setLocalSessionState:v,setDisplayName:B,loggedIn:S,loggedOut:b,setAccountVersion:Q,setV2NextAuthStep:T}=p.actions,w=async(e,t,r)=>{e(h(t));try{await r(),e(y(t))}catch(r){e(m({type:t,error:r}))}},N=e=>async(t,r)=>{w(t,o.he.KeySetup,()=>new Promise(async(r,n)=>{let o=await (0,i.MF)(e.nickname,e.keyPassword);o&&((0,a.qu)(!1,"credentials: ",o),(0,a.$3)({api:"/keySetup",body:o.keyPack,dispatch:t}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?(localStorage.setItem("authToken",e.authToken),o.memberId=e.memberId,o.displayName=e.displayName,(0,i.Ol)(o,e.sessionKey,e.sessionIV),localStorage.setItem("authState","Unlocked"),t(Q("v2")),t(S({sessionKey:e.sessionKey,sessionIV:e.sessionIV})),r()):((0,a.qu)(!1,"woo... failed to create an account:",e.error),n("10"))}).catch(e=>{(0,a.qu)(!1,"woo... failed to create an account."),n("12")}))}))},k=e=>async(t,r)=>{w(t,o.he.LogIn,()=>new Promise(async(r,n)=>{let o=await (0,i.MF)(e.nickname,e.keyPassword,!0);o&&((0,a.qu)(!1,"credentials: ",o),(0,a.$3)({api:"/logIn",body:o.keyPack,dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"!==e.status){(0,a.qu)(!1,"woo... failed to login."),n("102");return}t(C(!0)),localStorage.setItem("authToken",e.authToken),o.keyPack.privateKeyEnvelope=e.privateKeyEnvelope,o.keyPack.searchKeyEnvelope=e.searchKeyEnvelope,o.keyPack.searchIVEnvelope=e.searchIVEnvelope,o.keyPack.publicKey=e.publicKey,function(){let s=e.randomMessage;s=d.util.encode64(s);let c=d.util.decode64(e.privateKeyEnvelope);c=(0,i.Ag)(c,o.secret.expandedKey);let l=d.pki.privateKeyFromPem(c),u=d.md.sha1.create();u.update(s,"utf8");let A=l.sign(u);A=d.util.encode64(A),(0,a.$3)({api:"/memberAPI/verifyChallenge",body:{signature:A},dispatch:t}).then(e=>{"ok"==e.status?(o.memberId=e.memberId,o.displayName=e.displayName,t(Q("v2")),e.nextStep?((0,i.Ol)(o,e.sessionKey,e.sessionIV),localStorage.setItem("authState",e.nextStep.step),t(T(e.nextStep))):((0,i.Ol)(o,e.sessionKey,e.sessionIV),(0,a.qu)(!1,"Logged in."),localStorage.setItem("authState","Unlocked"),t(S({sessionKey:e.sessionKey,sessionIV:e.sessionIV})),(0,a.qu)(!1,"loggedIn dispatched.")),r()):((0,a.qu)(!1,"Error: ",e.error),n("104"))}).catch(e=>{(0,a.qu)(!1,"woo... failed to verify challenge."),n("106")}).finally(()=>{t(C(!1)),(0,a.qu)(!1,"setChallengeState(false)")})}()}).catch(e=>{(0,a.qu)(!1,"woo... failed to login."),n("108")}))}))},D=e=>async(t,r)=>{w(t,o.he.VerifyMFAToken,()=>new Promise((r,n)=>{let i=e.token;(0,a.$3)({api:"/memberAPI/verifyMFAToken",body:{token:i}}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?((0,a.qu)(!1,"Logged in."),localStorage.setItem("authState","Unlocked"),r(),t(S({sessionKey:e.sessionKey,sessionIV:e.sessionIV})),(0,a.qu)(!1,"loggedIn dispatched.")):((0,a.qu)(!1,"woo... verifyMFAToken failed: ",e.error),n("112"))}).catch(e=>{(0,a.qu)(!1,"woo... verifyMFAToken failed."),n("114")})}))},R=e=>async(t,r)=>{w(t,o.he.RecoverMFA,()=>new Promise((r,n)=>{let i=e.recoveryWords;(0,a.$3)({api:"/memberAPI/recoverMFA",body:{recoveryWords:i}}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?((0,a.qu)(!1,"Logged in."),localStorage.setItem("authState","Unlocked"),r(),t(S({sessionKey:e.sessionKey,sessionIV:e.sessionIV})),(0,a.qu)(!1,"loggedIn dispatched.")):((0,a.qu)(!1,"woo... recoverMFAThunk failed: ",e.error),n(e.error))}).catch(t=>{(0,a.qu)(!1,"woo... recoverMFAThunk failed."),n(e.error)})}))},U=e=>async(e,t)=>{w(e,o.he.LogOut,()=>new Promise(async(t,r)=>{(0,a.$3)({api:"/memberAPI/logOut",dispatch:e}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?t():((0,a.qu)(!1,"woo... failed to log out: ",e.error),r("Failed to log out."))}).catch(e=>{(0,a.qu)(!1,"woo... failed to log out."),r("Failed to log out.")}),localStorage.clear(),e(b()),e(_())}))},L=e=>async(t,r)=>{w(t,o.he.Preflight,()=>new Promise(async(n,o)=>{if(r().auth.challengeState)return;t((0,c.Ly)(null));let l={api:"/memberAPI/preflight",dispatch:t};e&&e.action&&(l.body={action:e.action}),(0,a.$3)(l).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?(t(Q(e.accountVersion)),e.nextStep?(localStorage.setItem("authState",e.nextStep.step),e.nextStep.keyMeta&&(t(B(e.nextStep.keyMeta.displayName)),t((0,c.ni)(e.nextStep.keyMeta))),e.idleTimeout&&("v1"===e.accountVersion?(0,i.NP)("v1"):(localStorage.clear(),t(b())),t((0,c.Ly)(e.nextStep)))):(t(S({sessionKey:e.sessionKey,sessionIV:e.sessionIV,froalaLicenseKey:e.froalaLicenseKey})),t((0,s.OW)(e.accountState)))):"SessionNotExisted"===e.error&&(localStorage.clear(),t(b)),t(E(!0)),n()}).catch(e=>{(0,a.qu)(!1,"woo... preflight failed."),t(E(!0)),o("110")})}))},P=()=>(e,t)=>{let r=()=>{let e=localStorage.getItem("authToken");localStorage.getItem("encodedGold");let t=localStorage.getItem("authState");return{sessionExists:!!e,authState:t,unlocked:"Unlocked"===t}},n=t().auth.contextId;n||e(I(n=Date.now()));let i="checkSessionStateInterval-".concat(n);if(!localStorage.getItem(i)){let t=setInterval(()=>{e(v(r()))},1e3);localStorage.setItem(i,t),(0,a.qu)(!1,"Creating new timer: ",t)}},_=()=>(e,t)=>{e((0,s.hC)()),e(g()),e((0,l.dk)()),e((0,u.WX)()),e((0,A.uL)()),e((0,c.Zw)())},F=p.reducer;t.ZP=p},24638:function(e,t,r){"use strict";r.d(t,{$6:function(){return er},Ag:function(){return Y},DG:function(){return ee},Ej:function(){return T},Fd:function(){return en},Gh:function(){return w},H5:function(){return b},Nl:function(){return Z},No:function(){return G},PT:function(){return es},Pm:function(){return R},RB:function(){return I},VM:function(){return J},WB:function(){return ei},XZ:function(){return E},Xy:function(){return et},ZB:function(){return ea},aP:function(){return q},bZ:function(){return z},d9:function(){return j},dk:function(){return f},ef:function(){return C},ei:function(){return W},k_:function(){return m},o4:function(){return eo},p8:function(){return U},vB:function(){return v},vp:function(){return V},x$:function(){return P},x_:function(){return k},z_:function(){return N},zs:function(){return X}});var n=r(7406),a=r(49486),i=r(51892),o=r(94882),s=r(43385),c=r(75979);let l=r(22079),u=r(27856),A={activity:0,activityErrors:0,activityErrorMessages:{},listingItems:!1,error:null,container:null,navigationInSameContainer:!1,workspace:null,workspaceName:null,workspaceKey:null,workspaceKeyReady:!1,searchKey:null,searchIV:null,mode:"listAll",itemsPerPage:20,pageNumber:1,total:0,totalNumberOfPages:0,hits:[],items:[],newItem:null,selectedItems:[],containersPerPage:20,containersPageNumber:1,containersTotal:0,containersList:[],startDateValue:new Date().getTime(),diaryContentsPageFirstLoaded:!0,trashBoxId:null,activities:[],movingItemsTask:null,reloadAPage:!1,itemTrashed:!1,listingDone:!1},d=(0,n.oM)({name:"container",initialState:A,reducers:{cleanContainerSlice:(e,t)=>{let r=Object.keys(A);for(let t=0;t<r.length;t++){let n=r[t];e[n]=A[n]}},activityStart:(e,t)=>{e.activityErrors&=~t.payload,e.activityErrorMessages[t.payload]="",e.activity|=t.payload},activityDone:(e,t)=>{e.activity&=~t.payload},activityError:(e,t)=>{e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorMessages[t.payload.type]=t.payload.error},setListingItems:(e,t)=>{e.listingItems=t.payload},clearContainer:(e,t)=>{let r=Object.keys(A);for(let t=0;t<r.length;t++){let n=r[t];e[n]=A[n]}},initContainer:(e,t)=>{e.container=t.payload.container,e.workspace=t.payload.workspaceId,e.workspaceName=t.payload.workspaceName||"Personal",e.workspaceKey=t.payload.workspaceKey,e.searchKey=t.payload.searchKey,e.searchIV=t.payload.searchIV,e.total=0,e.hits=[],e.items=[]},setNavigationInSameContainer:(e,t)=>{e.navigationInSameContainer=t.payload},changeContainerOnly:(e,t)=>{e.container=t.payload.container,e.total=0,e.hits=[],e.items=[]},setWorkspaceKeyReady:(e,t)=>{e.workspaceKeyReady=t.payload},setMode:(e,t)=>{e.mode=t.payload,e.total=0,e.totalNumberOfPages=0,e.pageNumber=1,e.hits=[],e.items=[]},pageLoaded:(e,t)=>{e.total=t.payload.total,e.totalNumberOfPages=Math.ceil(t.payload.total/e.itemsPerPage),e.pageNumber=t.payload.pageNumber,e.hits=t.payload.hits,e.items=[];for(let t=0;t<e.hits.length;t++){let r;let n=e.hits[t];n._source&&"T"===n._source.type||(r=(0,i.bZ)(n,e.workspaceKey),e.items.push(r))}},clearItems:(e,t)=>{e.total=0,e.totalNumberOfPages=0,e.pageNumber=1,e.hits=[],e.items=[]},setNewItem:(e,t)=>{e.newItem=t.payload},clearNewItem:(e,t)=>{e.newItem=null},selectItem:(e,t)=>{e.selectedItems=e.selectedItems.concat([t.payload])},deselectItem:(e,t)=>{e.selectedItems=e.selectedItems.filter(e=>e.id!==t.payload)},clearSelected:e=>{e.selectedItems=[]},containersLoaded:(e,t)=>{e.containersTotal=t.payload.total,e.containersPageNumber=t.payload.pageNumber;let r=t.payload.hits.map(t=>{let{title:r,container:n,id:a}=(0,i.bZ)(t,e.workspaceKey);return{title:r.replace(/<\/?[^>]+(>|$)/g,""),container:n,id:a}}),n=[];for(let t=0;t<r.length;t++){let a=r[t];!function(t){for(let r=0;r<e.selectedItems.length;r++)if(t===e.selectedItems[r].id)return!0;return!1}(a.id)&&n.push(a)}1===t.payload.pageNumber?e.containersList=n:e.containersList=e.containersList.concat(n)},setStartDateValue:(e,t)=>{e.startDateValue=t.payload},setDiaryContentsPageFirstLoaded:(e,t)=>{e.diaryContentsPageFirstLoaded=t.payload},trashBoxIdLoaded:(e,t)=>{e.trashBoxId=t.payload.trashBoxId},clearActivities:(e,t)=>{e.activities=[],e.total=0,e.pageNumber=1},activitiesLoaded:(e,t)=>{var r,n,o;let s=(r=t.payload.activities.hits,n=t=>(0,i.bZ)(t,e.workspaceKey).title,r.reduce((e,t)=>{let r,s,c;let l=(0,i.AN)(t._source.createdTime);t._source.version<0?(s="Trashed item",c=t._source.update):(r="t"===t._id.charAt(0)?"Trash Box":n(t),s=(0,a.z9)(r),c=1===t._source.version?"Creation":"Updated "+t._source.update);let A={id:t._source.id,container:t._source.container,titleText:s,updatedText:c,updatedBy:u.sanitize(t._source.displayName?t._source.displayName:t._source.updatedBy),updatedTime:l,createdTime:t._source.createdTime};return o!==t._source.id?(o=t._source.id,e.push([A])):e[e.length-1].push(A),e},[]));e.total=t.payload.activities.total,e.pageNumber=t.payload.pageNumber,e.activities=e.activities.concat(s)},setMovingItemsTask:(e,t)=>{e.movingItemsTask=t.payload},completedMovingAnItem:(e,t)=>{e.movingItemsTask.completed+=1,e.items=e.items.filter(e=>e.id!==t.payload.id)},insertAnItemBefore:(e,t)=>{let r=t.payload.targetItem,n=[];for(let a=e.items.length-1;a>=0;a--)n.unshift(e.items[a]),e.items[a].id===r&&n.unshift(t.payload.item);e.items=n},insertAnItemAfter:(e,t)=>{let r=t.payload.targetItem,n=[];for(let a=0;a<e.items.length;a++)n.push(e.items[a]),e.items[a].id===r&&n.push(t.payload.item);e.items=n},setReloadAPage:(e,t)=>{e.reloadAPage=!0},clearReoloadAPage:(e,t)=>{e.reloadAPage=!1},setItemTrashed:(e,t)=>{e.itemTrashed=t.payload},setListingDone:(e,t)=>{e.listingDone=t.payload}}}),{cleanContainerSlice:f,activityStart:p,activityDone:g,activityError:h,setListingItems:y,clearContainer:m,setNavigationInSameContainer:I,changeContainerOnly:C,initContainer:E,setWorkspaceKeyReady:v,setMode:B,pageLoaded:S,clearItems:b,setNewItem:Q,clearNewItem:T,selectItem:w,deselectItem:N,clearSelected:k,containersLoaded:D,setStartDateValue:R,setDiaryContentsPageFirstLoaded:U,trashBoxIdLoaded:L,clearActivities:P,activitiesLoaded:_,setMovingItemsTask:F,completedMovingAnItem:x,insertAnItemBefore:M,insertAnItemAfter:O,setReloadAPage:K,clearReoloadAPage:V,setItemTrashed:q,setListingDone:G}=d.actions,H=async(e,t,r)=>{e(p(t));try{await r(),e(g(t))}catch(r){e(h({type:t,error:r}))}};function j(){let e=l.random.getBytesSync(16),t=l.random.getBytesSync(32);return l.pkcs5.pbkdf2(t,e,1e4,32)}let Y=e=>async(t,r)=>{let n=e.titleStr,i=e.currentContainer,c=e.selectedItemType,u=e.addAction,A=e.targetItem,d=e.targetPosition,f=e.workspaceKey,p=e.searchKey,g=e.searchIV;H(t,s.sp.CreateANewItem,()=>new Promise((e,s)=>{let h,y;let m=r().auth,I=l.util.encodeUtf8("<h2>"+n+"</h2>"),C=j(),E=(0,o.UJ)(C,f),v=(0,o.UJ)(I,C);h="v1"===m.accountVersion?(0,o.$f)(n,p):(0,o.gM)(n,p,g),y="addAnItemOnTop"===u?{targetContainer:i,type:c,keyEnvelope:l.util.encode64(E),title:l.util.encode64(v),titleTokens:JSON.stringify(h)}:{targetContainer:i,targetItem:A,targetPosition:d,type:c,keyEnvelope:l.util.encode64(E),title:l.util.encode64(v),titleTokens:JSON.stringify(h)};let B=r().container.workspace;y.space=B,(0,a.$3)({api:"/memberAPI/"+u,body:y,dispatch:t}).then(r=>{(0,a.qu)(!1,r),"ok"===r.status?((0,a.qu)(!1,"".concat(u," succeeded")),t(Q(r.item)),e()):((0,a.qu)(!1,"".concat(u," failed: "),r.error),s("Failed to create a new item."))}).catch(e=>{(0,a.qu)(!1,"".concat(u," failed.")),s("Failed to create a new item.")})}))},J=e=>async(t,r)=>{t(m()),H(t,s.sp.InitWorkspace,()=>new Promise(async(n,i)=>{let s,A,d,f,p,g,h,y,m,I,C,B,S,b,Q,T;s=r().auth;try{if(g="v1"===s.accountVersion?e.teamId+":1:0":e.teamId,A=await (0,c.VF)(e.teamId),r().container.workspaceKeyReady){(0,a.qu)(!1,"Duplicated initWorkspace."),n();return}d=A.teamKeyEnvelope,f=l.pki.privateKeyFromPem(s.privateKey).decrypt(l.util.decode64(d)),p=l.util.decodeUtf8(f),h=A.team._source.name,A.team._source.IV?(y=A.team._source.IV,m=(0,o.Ag)(l.util.decode64(h),p,l.util.decode64(y))):m=(0,o.Ag)(l.util.decode64(h),p),I=l.util.decodeUtf8(m),(I=u.sanitize(I)).length,C=I.length>20?I.substr(0,20):I,B=A.team._source.searchKeyEnvelope,A.team._source.searchKeyIV?(S=A.team._source.searchKeyIV,Q=(0,o.Ag)(l.util.decode64(B),p,l.util.decode64(S))):Q=(0,o.Ag)(l.util.decode64(B),p),A.team._source.searchIVEnvelope&&(b=A.team._source.searchIVEnvelope,T=(0,o.Ag)(l.util.decode64(b),p)),t(E({container:e.container,workspaceId:g,workspaceName:C,workspaceKey:p,searchKey:Q,searchIV:T})),t(v(!0)),n()}catch(e){(0,a.qu)(!1,"initWorkspaceThunk failed: ",e),i("Failed to initialize workspace.")}}))},z=e=>async(t,r)=>{H(t,s.sp.ListItems,()=>new Promise(async(n,i)=>{let o,s,c;if(t(G(!1)),t(y(!0)),t(B("listAll")),!(o=r().container).container){i("container is null!");return}if(o.container.startsWith("n"))s=e.pageNumber,c={container:o.container,size:o.itemsPerPage,from:(s-1)*o.itemsPerPage};else if(o.container.startsWith("d")){let t,r;let n=e.startDate;s=1,t=parseInt(n+"00"),r=parseInt(n+"31"),c={container:o.container,size:31,from:0,selectedDiaryContentStartPosition:t,selectedDiaryContentEndPosition:r}}else o.container.startsWith("f")||o.container.startsWith("b")||o.container.startsWith("t")?(s=e.pageNumber,c={container:o.container,size:o.itemsPerPage,from:(s-1)*o.itemsPerPage}):(s=e.pageNumber,c={container:o.workspace,size:o.itemsPerPage,from:(s-1)*o.itemsPerPage});(0,a.$3)({api:"/memberAPI/listItems",body:c,dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"===e.status){let r=e.hits.total,a=e.hits.hits;t(S({pageNumber:s,total:r,hits:a})),t(G(!0)),n()}else(0,a.qu)(!1,"listItems failed: ",e.error),i("Failed to list items.")}).catch(e=>{(0,a.qu)(!1,"listItems failed: ",e),i("Failed to list items.")}).finally(()=>{t(y(!1))})}))},W=e=>async(t,r)=>{H(t,s.sp.ListContainers,()=>{let n=r().container;return new Promise(async(r,i)=>{let o=e.pageNumber;(0,a.$3)({api:"/memberAPI/listContainers",body:{container:e.container,boxOnly:e.boxOnly,from:(o-1)*n.containersPerPage,size:n.containersPerPage},dispatch:t}).then(e=>{((0,a.qu)(!1,e),"ok"===e.status)?(t(D({total:e.hits.total,pageNumber:o,hits:e.hits.hits})),r()):((0,a.qu)(!1,"list container failed: ",e.error),i("Failed to list containers."))}).catch(e=>{(0,a.qu)(!1,"list container failed: ",e),i("Failed to list containers.")})})})},X=e=>async(t,r)=>{H(t,s.sp.SearchItems,()=>new Promise(async(n,i)=>{let s,c,l,u;let A=e.pageNumber;t(B("search")),s=r().auth,c=r().container,u=JSON.stringify("v1"===s.accountVersion?(0,o.$f)(e.searchValue,c.searchKey):(0,o.gM)(e.searchValue,c.searchKey,c.searchIV)),l={container:"root"===c.container?c.workspace:c.container,searchTokens:u,size:c.itemsPerPage,from:(A-1)*c.itemsPerPage},(0,a.$3)({api:"/memberAPI/search",body:l,dispatch:t}).then(e=>{((0,a.qu)(!1,e),"ok"===e.status)?(t(S({pageNumber:A,total:e.hits.total,hits:e.hits.hits})),n()):((0,a.qu)(!1,"search failed: ",e.error),i("Failed to search items."))}).catch(e=>{(0,a.qu)(!1,"search failed: ",e),i("Failed to search items.")})}))},Z=async(e,t)=>new Promise(async(r,n)=>{(0,a.$3)({api:"/memberAPI/getFirstItemInContainer",body:{container:e},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"===e.status){let t=null;e.hits.hits.length&&(t=e.hits.hits[0]._id),r(t)}else(0,a.qu)(!1,"getFirstItemInContainer failed: ",e.error),n("Failed to get first item.")}).catch(e=>{(0,a.qu)(!1,"getFirstItemInContainer failed: ",e),n("Failed to get first item.")})}),ee=async(e,t)=>new Promise(async(r,n)=>{(0,a.$3)({api:"/memberAPI/getLastItemInContainer",body:{container:e},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"===e.status){let t=null;e.hits.hits.length&&(t=e.hits.hits[0]._id),r(t)}else(0,a.qu)(!1,"getLastItemInContainer failed: ",e.error),n("Failed to get last item.")}).catch(e=>{(0,a.qu)(!1,"getLastItemInContainer failed: ",e),n("Failed to get last item")})}),et=e=>async(t,r)=>{H(t,s.sp.DropItems,()=>new Promise(async(n,o)=>{let s,c,l;let u=e.action,A=e.fromTopControlPanel,d=e.payload,f=d.items,p=f.length,g=d.targetItemIndex,h=r().container.items,y=-1;switch(u){case"dropItemsBefore":s="/memberAPI/dropAnItemBefore",y=0===g?-1:h[g-1].position;break;case"dropItemsAfter":s="/memberAPI/dropAnItemAfter",y=g===h.length-1?-1:h[g+1].position;break;default:s="/memberAPI/dropAnItemInside"}for(t(F({numberOfItems:p,completed:0})),c=0;c<f.length;c++){let e="dropItemsAfter"===u||"dropItemsInside"===u?f.length-c-1:c,r=f[e],n={id:r.id,container:r.container,position:r.position,type:r.itemPack.type};(0,i.dO)(r.id)?(n.totalItemVersions=r.itemPack.totalItemVersions||0,n.totalStorage=r.itemPack.totalStorage||0):(n.version=r.itemPack.version,n.totalItemSize=r.itemPack.totalItemSize);let o={space:d.space,item:JSON.stringify(n),targetContainer:d.targetContainer,targetItem:d.targetItem,targetPosition:d.targetPosition,indexInTask:e,numberOfItems:p,nextItemPosition:y};"dropItemsInside"===u&&(o.sourceContainersPath=d.sourceContainersPath,o.targetContainersPath=d.targetContainersPath);try{if(await function(e,t,r){return new Promise(async(n,i)=>{(0,a.$3)({api:e,body:t,dispatch:r}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?n():((0,a.qu)(!1,"dropAnItem failed: ",e.error),i("Failed to drop an item."))}).catch(e=>{(0,a.qu)(!1,"dropAnItem failed: ",e),i("Failed to drop an item.")})})}(s,o,t),t(N(r.id)),A)t(K());else switch(t(x(r)),u){case"dropItemsBefore":t(M({targetItem:d.targetItem,item:r}));break;case"dropItemsAfter":t(O({targetItem:d.targetItem,item:r}))}}catch(e){(0,a.qu)(!1,"dropItemsThunk failed: ",e);break}}t(F(null)),c===f.length?n():o(l)}))},er=e=>async(t,r)=>{H(t,s.sp.TrashItems,()=>{let r=e.fromTopControlPanel,n=e.payload,{items:o}=n;return new Promise(async(e,s)=>{t(F({numberOfItems:n.items.length,completed:0}));for(let e=o.length-1;e>=0;e--){let s=o[e],c={id:s.id,container:s.container,type:s.itemPack.type,position:s.position};(0,i.dO)(s.id)?(c.totalItemVersions=s.itemPack.totalItemVersions||0,c.totalStorage=s.itemPack.totalStorage||0):(c.version=s.itemPack.version,c.totalItemSize=s.itemPack.totalItemSize);let l={item:JSON.stringify(c),targetSpace:n.targetSpace,originalContainer:n.originalContainer,sourceContainersPath:n.sourceContainersPath};try{await function(e,t,r){return new Promise(async(n,i)=>{(0,a.$3)({api:e,body:t,dispatch:r}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?n():((0,a.qu)(!1,"trashAnItem failed: ",e.error),i("Failed to trash an item."))}).catch(e=>{(0,a.qu)(!1,"trashAnItem failed: ",e),i("Failed to trash an item.")})})}("/memberAPI/trashAnItem",l,t),t(N(s.id)),r?t(q(!0)):t(x(s))}catch(e){(0,a.qu)(!1,"trashItemsThunk failed: ",e);break}}t(F(null)),e()})})},en=e=>async(e,t)=>{H(e,s.sp.GetTrashBox,()=>new Promise(async(r,n)=>{let i=t().container;(0,a.$3)({api:"/memberAPI/getTrashBox",body:{teamSpace:i.workspace},dispatch:e}).then(t=>{if((0,a.qu)(!1,t),"ok"===t.status){let{trashBoxId:n}=t;n&&e(L({trashBoxId:n})),r()}else(0,a.qu)(!1,"getTrashBox failed: ",t.error),n("Failed to get trash box.")}).catch(e=>{(0,a.qu)(!1,"getTrashBox failed: ",e),n("Failed to get trash box.")})}))},ea=e=>async(t,r)=>{H(t,s.sp.EmptyTrashBoxItems,()=>{let r=e.payload,n=r.selectedItems;return new Promise(async(e,o)=>{t(F({numberOfItems:n.length,completed:0}));for(let e=n.length-1;e>=0;e--){let o=n[e],s={id:o.id,container:o.container,position:o.position};(0,i.dO)(o.id)?(s.totalItemVersions=o.itemPack.totalItemVersions||0,s.totalStorage=o.itemPack.totalStorage||0):(s.version=o.itemPack.version,s.totalItemSize=o.itemPack.totalItemSize);let c={item:JSON.stringify(s),teamSpace:r.teamSpace,trashBoxId:r.trashBoxId};try{await function(e,t,r){return new Promise(async(n,i)=>{(0,a.$3)({api:e,body:t,dispatch:r}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?n():((0,a.qu)(!1,"emptyATrashBoxItem failed: ",e.error),i("Failed to empty a trash box item."))}).catch(e=>{(0,a.qu)(!1,"emptyATrashBoxItem failed: ",e),i("Failed to empty a trash box item.")})})}("/memberAPI/emptyATrashBoxItem",c,t),t(N(o.id)),t(x(o))}catch(e){(0,a.qu)(!1,"emptyTrashBoxItemsThunk failed: ",e);break}}t(F(null)),e()})})},ei=e=>async(t,r)=>{H(t,s.sp.RestoreItemsFromTrash,()=>{let r=e.payload,n=r.selectedItems;return new Promise(async(e,o)=>{t(F({numberOfItems:n.length,completed:0}));let s=null;for(let e=n.length-1;e>=0;e--){let o=n[e],c={id:o.id,container:o.container,position:o.position,originalContainer:o.itemPack.originalContainer,originalPosition:o.itemPack.originalPosition};(0,i.dO)(o.id)?(c.totalItemVersions=o.itemPack.totalItemVersions||0,c.totalStorage=o.itemPack.totalStorage||0):(c.version=o.itemPack.version,c.totalItemSize=o.itemPack.totalItemSize);let l={item:JSON.stringify(c),teamSpace:r.teamSpace,trashBoxId:r.trashBoxId};try{await function(e,t,r){return new Promise(async(n,i)=>{(0,a.$3)({api:e,body:t,dispatch:r}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?n():((0,a.qu)(!1,"restoreAnItemFromTrash failed: ",e.error),i("Failed to restore an item from trash."))}).catch(e=>{(0,a.qu)(!1,"restoreAnItemFromTrash failed: ",e),i("Failed to restore an item from trash.")})})}("/memberAPI/restoreAnItemFromTrash",l,t),t(N(o.id)),t(x(o))}catch(e){(0,a.qu)(!1,"restoreItemsFromTrashThunk failed: ",e),s="Failed to restore items from trash";break}}t(F(null)),s?o(s):e()})})},eo=e=>async(t,r)=>{H(t,s.sp.ListActivities,()=>new Promise(async(n,i)=>{let o=r().container,s=e.pageNumber||o.pageNumber+1;(0,a.$3)({api:"/memberAPI/listActivities",body:{space:o.workspace,size:o.itemsPerPage,from:(s-1)*o.itemsPerPage},dispatch:t}).then(e=>{(0,a.qu)(!1,e),"ok"===e.status?(t(_({pageNumber:s,activities:e.hits})),n()):((0,a.qu)(!1,"listActivities failed: ",e.error),i("Failed to list activities."))}).catch(e=>{(0,a.qu)(!1,"listActivities failed: ",e),i("Failed to list activities.")})}))},es=d.reducer;t.ZP=d},49411:function(e,t,r){"use strict";r.d(t,{BT:function(){return x},Ed:function(){return eG},Ey:function(){return V},F1:function(){return ti},Hk:function(){return tu},JG:function(){return Q},KT:function(){return e3},Kh:function(){return ej},MV:function(){return e7},Qs:function(){return e5},Sx:function(){return eX},VZ:function(){return tr},Vf:function(){return eZ},WX:function(){return I},XZ:function(){return J},Y2:function(){return e6},Yj:function(){return M},Z8:function(){return ee},ZC:function(){return eQ},_D:function(){return ew},cD:function(){return b},cJ:function(){return tn},dc:function(){return ep},df:function(){return E},eD:function(){return e4},es:function(){return eP},ex:function(){return tc},f:function(){return tl},f2:function(){return eY},hL:function(){return e2},hX:function(){return ek},ig:function(){return e9},k2:function(){return eu},kA:function(){return tf},kW:function(){return eE},kj:function(){return e1},ml:function(){return k},pV:function(){return ev},qH:function(){return td},rJ:function(){return P},rs:function(){return C},s6:function(){return tA},sF:function(){return N},sg:function(){return ts},t_:function(){return eH}});var n=r(7406),a=r(24638),i=r(49486),o=r(94882),s=r(43385),c=r(51892),l=r(43454),u=r(11208).Buffer;let A=r(22079),d=r(27856),f=r(9669),p={aborted:!1,activity:0,activityErrors:0,activityErrorMessages:{},changingPage:!1,activeRequest:null,error:null,navigationMode:!1,decrypttionRequired:!0,itemCopy:null,itemPath:null,id:null,oldVersion:!1,style:null,space:null,container:null,pageNumber:null,position:null,itemKey:null,itemIV:null,tags:[],title:null,titleText:null,content:null,contentSize:0,contentImagesDownloadQueue:[],contentImagedDownloadIndex:0,contentImagesDisplayIndex:0,contentImagesAllDownloaded:!1,contentVideosDownloadQueue:[],videoPanels:[],videosUploadQueue:[],videosUploadIndex:0,videosDownloadQueue:[],videoChunksMap:{},imagePanels:[],imageUploadQueue:[],imageUploadIndex:0,imageDownloadQueue:[],imageDownloadIndex:0,chunkSize:10485760,attachmentPanels:[],attachmentsUploadQueue:[],attachmentsUploadIndex:0,attachmentsDownloadQueue:[],attachmentsDownloadIndex:0,abortController:null,xhr:null,writer:null,itemVersions:[],totalVersions:0,versionsPerPage:20,versionsPageNumber:0,newCommentEditorMode:"ReadOnly",comments:[],S3SignedUrlForContentUpload:null,draft:null,draftLoaded:!1,originalContent:null},g=(e,t)=>{let r=t.payload.item;e.itemCopy=r,e.id=r.id,e.id.startsWith("np")&&(e.pageNumber=parseInt(e.id.split(":").pop())),e.space=r.space,e.container=r.container,e.position=r.position};function h(e,t){let r=document.createElement("div");r.innerHTML=t,r.querySelectorAll(".bSafesImage").forEach(t=>{let r=t.id,n=r.split("&")[0];e.contentImagesDownloadQueue.push({id:r,s3Key:n})}),r.querySelectorAll(".bSafesDownloadVideo").forEach(t=>{let r=t.id,n=r.split("&");if("chunks"===n[0]){let t=n[3]+"_chunk_"+(0,c.M2)().videoThumbnailIndex;e.contentImagesDownloadQueue.push({id:r,s3Key:t})}})}let y=(e,t)=>{e.id=t.payload.itemId,e.space=t.payload.container.space,e.container=t.payload.container.id,e.title="<h2></h2>"},m=(0,n.oM)({name:"page",initialState:p,reducers:{cleanPageSlice:(e,t)=>{let r=Object.keys(p);for(let t=0;t<r.length;t++){let n=r[t];e[n]=p[n]}},clearPage:(e,t)=>{let r=Object.keys(p);for(let t=0;t<r.length;t++){let n=r[t];"aborted"!==n&&(e[n]=p[n])}},initPage:(e,t)=>{e.aborted=!1},setChangingPage:(e,t)=>{e.changingPage=t.payload},abort:(e,t)=>{e.aborted=!0,(0,i.qu)(!1,"abort: ",e.aborted)},activityStart:(e,t)=>{e.aborted||(e.activityErrors&=~t.payload,e.activityErrorMessages[t.payload]="",e.activity|=t.payload)},activityDone:(e,t)=>{e.aborted||(e.activity&=~t.payload)},activityError:(e,t)=>{e.aborted||(e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorMessages[t.payload.type]=t.payload.error)},setActiveRequest:(e,t)=>{e.activeRequest=t.payload},setNavigationMode:(e,t)=>{e.navigationMode=!0},setPageItemId:(e,t)=>{e.id=t.payload},setPageStyle:(e,t)=>{e.style=t.payload},setPageNumber:(e,t)=>{e.pageNumber=t.payload},dataFetched:(e,t)=>{e.aborted||t.payload.item.id!==e.activeRequest||g(e,t)},setOldVersion:(e,t)=>{e.oldVersion=!0},contentDecrypted:(e,t)=>{e.aborted||t.payload.item.id!==e.activeRequest||(e.content=t.payload.item.content,h(e,e.content))},itemPathLoaded:(e,t)=>{e.itemPath=t.payload},containerDataFetched:(e,t)=>{e.aborted||t.payload.itemId!==e.activeRequest||y(e,t)},setContainerData:(e,t)=>{y(e,t)},decryptPageItem:(e,t)=>{e.aborted||t.payload.itemId!==e.activeRequest||function(e,t){if(!e.decrypttionRequired)return;let r=e.itemCopy;if(void 0===r.keyEnvelope&&((0,i.qu)(!1,"Error: undefined item key"),e.error="Undefined item key"),r.envelopeIV&&r.ivEnvelope&&r.ivEnvelopeIV)e.itemKey=(0,o.Ag)(A.util.decode64(r.keyEnvelope),t,A.util.decode64(r.envelopeIV)),e.itemIV=(0,o.Ag)(A.util.decode64(r.ivEnvelope),t,A.util.decode64(r.ivEnvelopeIV));else{let n=A.util.decode64(r.keyEnvelope);e.itemKey=(0,o.Ag)(n,t),e.itemIV=null}let n=[],a={"contentType#Write":!0};if(r.tags&&r.tags.length>1){let t=r.tags;for(let i=0;i<r.tags.length-1;i++)try{let r=t[i];r=A.util.decode64(r);let s=(0,o.Ag)(r,e.itemKey,e.itemIV),c=A.util.decodeUtf8(s);if(a[c])continue;n.push(c)}catch(t){e.error=t}}if(e.tags=n,r.title)try{let t=(0,o.Ag)(A.util.decode64(r.title),e.itemKey,e.itemIV),n=A.util.decodeUtf8(t);n=d.sanitize(n),e.title=n,e.titleText=$(n).text()}catch(t){e.error=t}else e.title="<h2></h2>",e.titleText="";if(r.content&&!r.content.startsWith("s3Object/"))try{let t=(0,o.Ag)(A.util.decode64(r.content),e.itemKey,e.itemIV),n=A.util.decodeUtf8(t);n=d.sanitize(n),e.content=n,h(e,n)}catch(t){e.error=t}if(r.videos){let t=[];for(let n=0;n<r.videos.length;n++){let a,i,s,l=r.videos[n],u="".concat(l.s3KeyPrefix,"_chunk_").concat((0,c.M2)().videoThumbnailIndex),f="d"+e.imageDownloadQueue.length;e.imageDownloadQueue.push({s3Key:u,forVideo:!0}),l.words&&""!==l.words?(a=A.util.decode64(l.words),i=(0,o.Ag)(a,e.itemKey,e.itemIV),s=A.util.decodeUtf8(i),s=d.sanitize(s)):s="";let p={video:!0,queueId:f,fileType:l.fileType,fileName:decodeURI((0,o.Ag)(A.util.decode64(l.fileName),e.itemKey)),fileSize:l.fileSize,encryptedFileSize:l.encryptedFileSize,status:"WaitingForDownload",numberOfChunks:l.numberOfChunks,s3KeyPrefix:l.s3KeyPrefix,progress:0,words:s,thumbnail:null,placeholder:"https://placehold.co/600x400?text=Video"};t.push(p)}e.videoPanels=t}if(r.images)for(let t=0;t<r.images.length;t++){let n,a,i,s=r.images[t],c="d"+e.imageDownloadQueue.length;e.imageDownloadQueue.push({s3Key:s.s3Key}),s.words&&""!==s.words?(n=A.util.decode64(s.words),a=(0,o.Ag)(n,e.itemKey,e.itemIV),i=A.util.decodeUtf8(a),i=d.sanitize(i)):i="";let l={queueId:c,s3Key:s.s3Key,size:s.size,status:"WaitingForDownload",words:i,progress:0};e.imagePanels.push(l)}if(r.attachments.length>1){let t,n;let a=[];for(let i=1;i<r.attachments.length;i++){let s=r.attachments[i];t=A.util.decode64(s.fileName),n=(0,o.Ag)(t,e.itemKey,e.itemIV);let c={queueId:"a"+i,fileName:A.util.decodeUtf8(n),fileType:s.fileType,fileSize:s.fileSize,status:"Uploaded",numberOfChunks:s.numberOfChunks,s3KeyPrefix:s.s3KeyPrefix,progress:0};a.push(c)}e.attachmentPanels=a.reverse()}}(e,t.payload.workspaceKey)},newItemKey:(e,t)=>{e.itemKey=t.payload.itemKey},newItemCreated:(e,t)=>{let r=Object.keys(t.payload);for(let n=0;n<r.length;n++){let a=r[n];e[a]=t.payload[a]}e.decrypttionRequired=!1},newVersionCreated:(e,t)=>{let r=Object.keys(t.payload);for(let n=0;n<r.length;n++){let a=r[n];e[a]=t.payload[a]}e.decrypttionRequired=!1},clearItemVersions:(e,t)=>{e.itemVersions=[]},itemVersionsFetched:(e,t)=>{e.versionsPageNumber=t.payload.page,e.totalVersions=t.payload.total,e.itemVersions.push(...t.payload.modifiedHits)},downloadingContentImage:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.contentImagesDownloadQueue[e.contentImagedDownloadIndex];r&&(r.status="Downloading",r.progress=t.payload.progress)},contentImageDownloaded:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.contentImagesDownloadQueue[e.contentImagedDownloadIndex];e.contentImagedDownloadIndex+=1,r&&(r.status="Downloaded",r.src=t.payload.link)},contentImageDownloadFailed:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.contentImagesDownloadQueue[e.contentImagedDownloadIndex];e.contentImagedDownloadIndex+=1,r&&(r.status="DownloadFailed",r.src=t.payload.link)},setContentImagesAllDownloaded:(e,t)=>{e.contentImagesAllDownloaded=t.payload},updateContentImagesDisplayIndex:(e,t)=>{e.contentImagesDisplayIndex=t.payload},downloadContentVideo:(e,t)=>{e.aborted||e.contentVideosDownloadQueue.push(t.payload)},downloadingContentVideo:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.contentVideosDownloadQueue[r];n&&(n.status="Downloading",n.progress=t.payload.progress)},contentVideoFromServiceWorker:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.contentVideosDownloadQueue[r];n&&(n.status="DownloadedFromServiceWorker",n.src=t.payload.link)},playingContentVideo:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.contentVideosDownloadQueue[r];n&&(n.status="playingContentVideo")},contentVideoDownloaded:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.contentVideosDownloadQueue[r];n&&(n.status="Downloaded",t.payload.link&&(n.src=t.payload.link))},addUploadVideos:(e,t)=>{if(e.aborted)return;let r=t.payload.files;if(!r.length)return;let n=[];for(let t=0;t<r.length;t++){let a="u"+e.videosUploadQueue.length,i=r[t].size,s=(0,c.M2)().videoChunkSize,l=Math.floor(i/s);i%s&&(l+=1);let u={file:r[t],numberOfChunks:l};e.videosUploadQueue.push(u);let d={video:!0,queueId:a,fileName:A.util.encode64((0,o.UJ)(encodeURI(r[t].name),e.itemKey)),fileSize:r[t].size,fileType:encodeURI(r[t].type),status:"WaitingForUpload",numberOfChunks:u.numberOfChunks,progress:0};n.push(d)}if("top"===t.payload.where)e.videoPanels.unshift(...n);else{let r=parseInt(t.payload.where.split("_").pop());e.videoPanels.splice(r+1,0,...n)}},uploadingVideo:(e,t)=>{if(e.aborted)return;let r=e.videoPanels.find(t=>t.queueId==="u"+e.videosUploadIndex);r.status="Uploading",r.progress=t.payload},videoUploaded:(e,t)=>{if(e.aborted)return;let r=e.videoPanels.find(t=>t.queueId==="u"+e.videosUploadIndex);e.videosUploadIndex+=1,r&&(r.status="Uploaded",r.progress=100,r.fileType=t.payload.fileType,r.fileSize=t.payload.fileSize,r.s3KeyPrefix=t.payload.s3KeyPrefix,r.size=t.payload.size,r.failedChunk=null,r.src=t.payload.link,r.play=!0)},setVideoWordsMode:(e,t)=>{let r=e.videoPanels[t.payload.index];r&&(r.editorMode=t.payload.mode)},downloadVideo:(e,t)=>{e.aborted||e.videosDownloadQueue.push(t.payload)},downloadingVideo:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.videosDownloadQueue[r],a=e.videoPanels.find(e=>e.queueId===n.id);a&&("DownloadedFromServiceWorker"!==a.status&&(a.status="DownloadingVideo"),a.progress=t.payload.progress)},videoFromServiceWorker:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=t.payload.indexInQueue,n=e.videosDownloadQueue[r],a=e.videoPanels.find(e=>e.queueId===n.id);a&&(a.status="DownloadedFromServiceWorker",a.play=!0,a.src=t.payload.link)},updateVideoChunksMap:(e,t)=>{let r=t.payload.chunkId,n=t.payload.map,a=t.payload.downloadingChunk,i=t.payload.lastChunkDownloaded;e.videoChunksMap[r]={map:n,downloadingChunk:a,lastChunkDownloaded:i}},addUploadImages:(e,t)=>{if(e.aborted)return;let r=t.payload.files,n=[];for(let t=0;t<r.length;t++){let a="u"+e.imageUploadQueue.length,i={file:r[t]};e.imageUploadQueue.push(i);let o={queueId:a,status:"WaitingForUpload",progress:0};n.push(o)}if("top"===t.payload.where)e.imagePanels.unshift(...n);else{let r=parseInt(t.payload.where.split("_").pop());e.imagePanels.splice(r+1,0,...n)}},uploadingImage:(e,t)=>{if(e.aborted)return;let r=e.imagePanels.find(t=>t.queueId==="u"+e.imageUploadIndex);r.status="Uploading",r.progress=t.payload},imageUploaded:(e,t)=>{if(e.aborted)return;let r=e.imagePanels.find(t=>t.queueId==="u"+e.imageUploadIndex);e.imageUploadIndex+=1,r&&(r.status="Uploaded",r.progress=100,r.src=t.payload.link,r.width=t.payload.width,r.height=t.payload.height,r.s3Key=t.payload.s3Key,r.size=t.payload.size,r.editorMode="ReadOnly",r.words="")},downloadingImage:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.videoPanels.find(t=>t.queueId==="d"+e.imageDownloadIndex);r||(r=e.imagePanels.find(t=>t.queueId==="d"+e.imageDownloadIndex)),r&&(r.status="Downloading",r.progress=t.payload.progress)},imageDownloaded:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.videoPanels.find(t=>t.queueId==="d"+e.imageDownloadIndex);r||(r=e.imagePanels.find(t=>t.queueId==="d"+e.imageDownloadIndex)),e.imageDownloadIndex+=1,r&&(r.status="Downloaded",r.progress=100,r.video?r.thumbnail=t.payload.link:r.src=t.payload.link,r.width=t.payload.width,r.height=t.payload.height,r.editorMode="ReadOnly")},imageDownloadFailed:(e,t)=>{if(e.aborted||t.payload.itemId!==e.activeRequest)return;let r=e.videoPanels.find(t=>t.queueId==="d"+e.imageDownloadIndex);r||(r=e.imagePanels.find(t=>t.queueId==="d"+e.imageDownloadIndex)),e.imageDownloadIndex+=1,r&&(r.status="DownloadFailed")},setImageWordsMode:(e,t)=>{let r=e.imagePanels[t.payload.index];r&&(r.editorMode=t.payload.mode)},readOnlyImageWords:(e,t)=>{let r=e.imagePanels[t.payload];r&&(r.editorMode="ReadOnly")},writingImageWords:(e,t)=>{let r=e.imagePanels[t.payload];r&&(r.editorMode="Writing")},saveImageWords:(e,t)=>{e.imagePanels[t.payload].editorMode="Saving"},addUploadAttachments:(e,t)=>{if(e.aborted)return;let r=t.payload.files;if(!r.length)return;let n=[];for(let t=0;t<r.length;t++){let a="u"+e.attachmentsUploadQueue.length,i=Math.floor(r[t].size/e.chunkSize);r[t].size%e.chunkSize&&(i+=1);let o={file:r[t],numberOfChunks:i};e.attachmentsUploadQueue.push(o);let s={queueId:a,fileName:r[t].name,fileSize:r[t].size,fileType:r[t].type,status:"WaitingForUpload",numberOfChunks:o.numberOfChunks,progress:0};n.push(s)}e.attachmentPanels=n.concat(e.attachmentPanels)},setAbortController:(e,t)=>{e.abortController=t.payload},uploadingAttachment:(e,t)=>{if(e.aborted)return;let r=e.attachmentPanels.find(t=>t.queueId==="u"+e.attachmentsUploadIndex);r.status="Uploading",r.progress=t.payload},stopUploadingAnAttachment:(e,t)=>{e.abortController&&e.abortController.abort()},attachmentUploaded:(e,t)=>{if(e.aborted)return;let r=e.attachmentPanels.find(t=>t.queueId==="u"+e.attachmentsUploadIndex);e.attachmentsUploadIndex+=1,r&&(r.status="Uploaded",r.progress=100,r.fileType=t.payload.fileType,r.fileSize=t.payload.fileSize,r.s3KeyPrefix=t.payload.s3KeyPrefix,r.size=t.payload.size,r.failedChunk=null)},uploadAChunkFailed:(e,t)=>{let r=e.attachmentsUploadQueue[e.attachmentsUploadIndex];r.failedChunk=t.payload.chunkIndex,r.s3KeyPrefix=t.payload.s3KeyPrefix;let n=e.attachmentPanels.find(t=>t.queueId==="u"+e.attachmentsUploadIndex);n&&(n.status="UploadFailed")},addDownloadAttachment:(e,t)=>{if(e.aborted)return;e.attachmentsDownloadQueue.push(t.payload);let r=e.attachmentPanels.find(e=>e.queueId===t.payload.queueId);r.status="WaitingForDownload",r.progress=0},downloadingAttachment:(e,t)=>{if(e.aborted)return;let r=e.attachmentPanels.find(t=>t.queueId===e.attachmentsDownloadQueue[e.attachmentsDownloadIndex].queueId);r.status="Downloading",r.progress=t.payload.progress},setXHR:(e,t)=>{e.xhr=t.payload.xhr},stopDownloadingAnAttachment:(e,t)=>{e.xhr&&e.xhr.abort()},attachmentDownloaded:(e,t)=>{if(e.aborted)return;let r=t.payload;e.attachmentPanels.find(e=>e.queueId===r.queueId).status="Downloaded",e.attachmentsDownloadIndex+=1},setupWriterFailed:(e,t)=>{let r=e.attachmentsDownloadQueue[e.attachmentsDownloadIndex],n=e.attachmentPanels.find(e=>e.queueId===r.queueId);n&&(n.status="DownloadFailed")},writerClosed:(e,t)=>{e.writer=null},downloadAChunkFailed:(e,t)=>{let r=e.attachmentsDownloadQueue[e.attachmentsDownloadIndex];e.writer=t.payload.writer,r.failedChunk=t.payload.chunkIndex;let n=e.attachmentPanels.find(e=>e.queueId===r.queueId);n&&(n.status="DownloadFailed")},setCommentEditorMode:(e,t)=>{if("comment_New"===t.payload.index)e.newCommentEditorMode=t.payload.mode;else{let r=parseInt(t.payload.index.split("_")[1]);e.comments[r].editorMode=t.payload.mode}},pageCommentsFetched:(e,t)=>{e.aborted||t.payload.itemId!==e.activeRequest||e.comments.push(...t.payload.comments)},newCommentAdded:(e,t)=>{e.comments.unshift(t.payload)},commentUpdated:(e,t)=>{let r=e.comments[t.payload.commentIndex];r.content=t.payload.content,r.lastUpdateTime=t.payload.lastUpdateTime},setS3SignedUrlForContentUpload:(e,t)=>{e.S3SignedUrlForContentUpload=t.payload},setDraft:(e,t)=>{e.draft=t.payload},clearDraft:(e,t)=>{e.draft=null;let r="Draft-"+e.id;localStorage.removeItem(r)},draftLoaded:(e,t)=>{e.originalContent=e.content,e.content=A.util.decodeUtf8(e.draft),e.draftLoaded=!0,e.draft=null;let r="Draft-"+e.id;localStorage.removeItem(r),e.contentImagesDownloadQueue=[],e.contentImagedDownloadIndex=0,e.contentImagesAllDownloaded=!1,e.contentImagesDisplayIndex=0,e.contentVideosDownloadQueue=0,h(e,e.content)},setDraftLoaded:(e,t)=>{e.draftLoaded=t.payload},loadOriginalContent:(e,t)=>{e.content=e.originalContent,e.contentImagesDownloadQueue=[],e.contentImagedDownloadIndex=0,e.contentImagesDisplayIndex=0,e.contentVideosDownloadQueue=0,h(e,e.content)}}}),{cleanPageSlice:I,clearPage:C,initPage:E,activityStart:v,activityDone:B,activityError:S,setChangingPage:b,abort:Q,setActiveRequest:T,setNavigationMode:w,setPageItemId:N,setPageStyle:k,setPageNumber:D,dataFetched:R,setOldVersion:U,contentDecrypted:L,itemPathLoaded:P,decryptPageItem:_,containerDataFetched:F,setContainerData:x,newItemKey:M,newItemCreated:O,newVersionCreated:K,clearItemVersions:V,itemVersionsFetched:q,downloadingContentImage:G,contentImageDownloaded:H,contentImageDownloadFailed:j,setContentImagesAllDownloaded:Y,updateContentImagesDisplayIndex:J,downloadContentVideo:z,downloadingContentVideo:W,contentVideoDownloaded:X,contentVideoFromServiceWorker:Z,playingContentVideo:ee,addUploadImages:et,uploadingImage:er,imageUploaded:en,downloadingImage:ea,imageDownloaded:ei,imageDownloadFailed:eo,addUploadAttachments:es,setAbortController:ec,uploadingAttachment:el,stopUploadingAnAttachment:eu,attachmentUploaded:eA,uploadAChunkFailed:ed,addDownloadAttachment:ef,stopDownloadingAnAttachment:ep,downloadingAttachment:eg,setXHR:eh,attachmentDownloaded:ey,writerClosed:em,setupWriterFailed:eI,downloadAChunkFailed:eC,setImageWordsMode:eE,setCommentEditorMode:ev,pageCommentsFetched:eB,newCommentAdded:eS,commentUpdated:eb,setS3SignedUrlForContentUpload:eQ,setDraft:eT,clearDraft:ew,draftLoaded:eN,setDraftLoaded:ek,loadOriginalContent:eD,addUploadVideos:eR,uploadingVideo:eU,videoUploaded:eL,setVideoWordsMode:eP,downloadVideo:e_,downloadingVideo:eF,videoFromServiceWorker:ex,updateVideoChunksMap:eM,playingVideo:eO}=m.actions,eK=async(e,t,r)=>{e(v(t));try{await r(),e(B(t))}catch(r){if("Aborted"===r){e(B(t));return}e(S({type:t,error:r}))}},eV=function(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1;return new Promise(async(c,l)=>{let u=new XMLHttpRequest;u.open("GET",r,!0),u.responseType="arraybuffer",u.addEventListener("progress",function(r){if(r.lengthComputable){let c=r.loaded/r.total*90+10;c=a+c*o,(0,i.qu)(!1,"Download progress: ","".concat(r.loaded,"/").concat(r.total," ").concat(c," %")),n&&(s>=0?t(n({itemId:e,progress:c,indexInQueue:s})):t(n({itemId:e,progress:c})))}},!1),u.onload=function(e){200===u.status?c(this.response):l()},u.onerror=function(e){l()},u.onabort=e=>{l(e)},u.send(),t(eh({xhr:u}))})},eq=async(e,t,r)=>{let n=r().page;t(Y(!1));let a=r=>new Promise(async(a,s)=>{let l=r.s3Key;try{let r;t(G({itemId:e,progress:5}));let A=await (0,c.Ai)(n.id,l,t);t(G({itemId:e,progress:10}));let d=await eV(e,t,A,G);if((0,i.qu)(!1,"downloadAnContentImage completed. Length: ",d.byteLength),e!==n.activeRequest){(0,i.qu)(!1,"Aborted!"),s("Aborted");return}let f=u.from(d,"binary").toString("binary");(0,i.qu)(!1,"Downloaded string length: ",f.length),r=(0,o.xl)(f,n.itemKey,n.itemIV),(0,i.qu)(!1,"Decrypted image string length: ",r.length);let p=(0,i.CO)(r),g=window.URL.createObjectURL(new Blob([p]),{type:"image/*"});t(H({itemId:e,link:g})),a()}catch(r){(0,i.qu)(!1,"downloadFromS3 error: ",r),t(j({itemId:e,link:null})),s(r)}});for(;n.contentImagedDownloadIndex<n.contentImagesDownloadQueue.length;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}let e=n.contentImagesDownloadQueue[n.contentImagedDownloadIndex];try{await a(e)}catch(e){}n=r().page}t(Y(!0))},eG=e=>async(t,r)=>{eK(t,s.i7.GetPageItem,()=>{e.itemId.startsWith("np")&&t(D(parseInt(e.itemId.split(":").pop())));let n=r=>new Promise(async(n,a)=>{let o,s;(o=r.split(":")).pop(),s=(s=o.join(":")).replace("p:",":"),(0,i.qu)(!1,"/memberAPI/getPageItem: ",s),(0,i.$3)({api:"/memberAPI/getPageItem",body:{itemId:s},dispatch:t}).then(t=>{"ok"===t.status?((0,i.qu)(!1,"getContainerData: ",t),t.item?n(t.item):((0,i.qu)(!1,"woo... failed to get the container data!",e.error),a("Failed to get the container data."))):((0,i.qu)(!1,"woo... failed to get the container data!",e.error),a("Failed to get the container data."))})});return new Promise(async(s,l)=>{var f;let p;t(T(e.itemId)),(0,i.qu)(!1,"/memberAPI/getPageItem: ",e.itemId);let g={itemId:e.itemId};e.version&&(g.oldVersion=e.version,t(U())),(0,i.$3)({api:"/memberAPI/getPageItem",body:g,dispatch:t}).then(async c=>{if((0,i.qu)(!1,c),p=r().page,"ok"===c.status){if(e.itemId!==p.activeRequest){(0,i.qu)(!1,"Aborted"),l("Aborted");return}if(c.item){if(t(R({item:c.item})),c.item.content&&c.item.content.startsWith("s3Object/")){let n=c.item.signedContentUrl,a=await eV(null,t,n,null),l=u.from(a,"binary").toString("binary");(0,i.qu)(!1,"Downloaded string length: ",l.length),await new Promise((e,t)=>{let n=0;if((p=r().page).itemKey){e();return}let a=setInterval(()=>{if(p=r().page,(0,i.qu)(!1,"Waiting for itemKey ..."),p.itemKey){e(),clearInterval(a);return}++n>100&&(t("itemKey error!"),clearInterval(a))},100)});let f=(0,o.Ag)(l,p.itemKey,p.itemIV);(0,i.qu)(!1,"Decrypted string length: ",f.length);let g=d.sanitize(A.util.decodeUtf8(f));t(L({item:{id:e.itemId,content:g}})),p=r().page,eq(e.itemId,t,r),s()}else s()}else{if(e.navigationInSameContainer){(0,i.qu)(!1,"setNavigationMode ..."),t(w(!0)),t((0,a.RB)(!1)),s();return}if(!e.navigationInSameContainer&&(e.itemId.startsWith("np")||e.itemId.startsWith("dp")))try{let a=await n(e.itemId);p=r().page,e.itemId===p.activeRequest?(t(F({itemId:e.itemId,container:a})),s()):l("Aborted")}catch(e){l("Failed to get the container data!")}else l("Failed to get a page item!!!")}let f="Draft-"+e.itemId,g=localStorage.getItem(f);g&&t(eT(g))}else(0,i.qu)(!1,"woo... failed to get a page item!!!",c.error),l("Failed to get a page item.")}).catch(e=>{(0,i.qu)(!1,"woo... failed to get a page item:",e),l("Failed to get a page item.")}),await (f=e.itemId,new Promise(async(e,n)=>{let a;a=f.startsWith("np")||f.startsWith("dp")?(0,c.TM)(f):f,(0,i.$3)({api:"/memberAPI/getItemPath",body:{itemId:a},dispatch:t}).then(a=>{if((0,i.qu)(!1,a),"ok"===a.status){if(f!==r().page.activeRequest){(0,i.qu)(!1,"Aborted");return}(f.startsWith("np")||f.startsWith("dp"))&&a.itemPath.push({_id:f}),t(P(a.itemPath)),e()}else n(error),(0,i.qu)(!1,"woo... failed to get the item path.!",a.status)}).catch(e=>{(0,i.qu)(!1,"woo... failed to get the item path.",e),n(e)})}))})})},eH=e=>async(t,r)=>{let n;n=r().page,eK(t,s.i7.DecryptPageItem,()=>{let a=e.itemId,s=async()=>{n=r().page;let e=e=>new Promise(async(r,s)=>{let l=e.s3Key+(e.forVideo?"":"_gallery");try{let e;t(ea({itemId:a,progress:5}));let A=await (0,c.Ai)(n.id,l,t);t(ea({itemId:a,progress:10}));let d=await eV(a,t,A,ea);if((0,i.qu)(!1,"downloadAnImage completed. Length: ",d.byteLength),a!==n.activeRequest){(0,i.qu)(!1,"Aborted!"),s("Aborted");return}let f=u.from(d,"binary").toString("binary");(0,i.qu)(!1,"Downloaded string length: ",f.length),e=(0,o.xl)(f,n.itemKey,n.itemIV),(0,i.qu)(!1,"Decrypted image string length: ",e.length);let p=(0,i.CO)(e),g=window.URL.createObjectURL(new Blob([p]),{type:"image/*"}),h=new Image;h.src=g,h.onload=()=>{t(ei({itemId:a,link:g,width:h.width,height:h.height})),r()}}catch(e){t(eo({itemId:a})),(0,i.qu)(!1,"downloadFromS3 error: ",e),s("Failed to download an image.")}});for(;n.imageDownloadIndex<n.imageDownloadQueue.length;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}let t=n.imageDownloadQueue[n.imageDownloadIndex];try{await e(t)}catch(e){}n=r().page}};return new Promise(async(i,o)=>{if(a!==n.activeRequest){o("Aborted");return}t(_({itemId:a,workspaceKey:e.workspaceKey})),n=r().page,eq(a,t,r),n.imageDownloadQueue.length&&s(),i()})})},ej=e=>async(t,r)=>{eK(t,s.i7.GetVersionsHistory,()=>new Promise(async(n,a)=>{let o=r().page,s=o.id;(0,i.$3)({api:"/memberAPI/getItemVersionsHistory",body:{itemId:o.id,size:o.versionsPerPage,from:(e.page-1)*o.versionsPerPage},dispatch:t}).then(r=>{if((0,i.qu)(!1,r),"ok"===r.status){if(r.hits){let a=r.hits.hits.map(e=>{let t=(0,c.AN)(e._source.createdTime);return{id:s,version:e._source.version,container:e._source.container,updatedText:1===e._source.version?"Creation":"Updated "+e._source.update,updatedBy:d.sanitize(e._source.displayName?e._source.displayName:e._source.updatedBy),updatedTime:t,updatedTimeStamp:"o"===t.charAt(t.length-1)?(0,c.to)(e._source.createdTime):""}});t(q({page:e.page,total:r.hits.total,modifiedHits:a})),n()}else a("Failed to get the item version history!")}else(0,i.qu)(!1,"woo... failed to get a item version history!",e.error),a("Failed to get the item version history!")}).catch(e=>{(0,i.qu)(!1,"woo... failed to get a item version history.",e),a("Failed to get the item version history!")})}))},eY=e=>async(t,r)=>{let n=e.fromContent,a=r().page,s=a.videosDownloadQueue.length,l=a.contentVideosDownloadQueue.length,A=a.id;0===a.videosDownloadQueue.length&&0===a.contentVideosDownloadQueue.length&&navigator.serviceWorker.addEventListener("message",async e=>{if((0,i.qu)(!1,e.data),"STREAM_NOT_FOUND"===e.data.type){let t,n="/downloadFile/video/"+e.data.id;a=r().page;let i=null;for(t=0;t<a.videosDownloadQueue.length&&(i=a.videosDownloadQueue[t]).src!==n;t++);if(!i)for(t=0;t<a.contentVideosDownloadQueue.length&&(i=a.contentVideosDownloadQueue[t]).src!==n;t++);if(i){let r=e.data.start;await d(i,t,!0,r)}}}),n?t(z(e)):t(e_(e));let d=function(e,r){let d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,i.qu)(!1,"downloadAVideo");let p,g=!1;return new Promise(async(h,y)=>{if(e.numberOfChunks){let p,h,C,E,v,B,S,b;async function m(){(0,i.qu)(!1,"setupWriter");try{return await new Promise(async(e,a)=>{(0,i.qu)(!1,"talkToServiceWorker"),navigator.serviceWorker.getRegistration("/").then(o=>{(0,i.qu)(!1,"registration: ",o),o?(S=new MessageChannel,o.active.postMessage({type:"INIT_VIDEO_PORT",videoChunkSize:(0,c.M2)().videoChunkSize,s3KeyPrefix:p,fileName:C,fileType:E,fileSize:v,browserInfo:(0,i.S7)(),resumeForNewStream:d,start:f},[S.port2]),S.port1.onmessage=async a=>{if((0,i.qu)(!1,a.data),a.data)switch(a.data.type){case"STREAM_OPENED":b="/downloadFile/video/"+a.data.stream.id,(0,i.qu)(!1,"STREAM_OPENED"),a.data.initialChunkIndex>=0&&await I(a.data.initialChunkIndex),0!==a.data.initialChunkIndex&&(n?t(Z({itemId:A,indexInQueue:r,link:b})):t(ex({itemId:A,indexInQueue:r,link:b})),g=!0),e();break;case"NEXT_CHUNK":(0,i.qu)(!1,"NEXT_CHUNK: ",a.data.nextChunkIndex),g||(n?t(Z({itemId:A,indexInQueue:r,link:b})):t(ex({itemId:A,indexInQueue:r,link:b})),g=!0),a.data.nextChunkIndex>=0&&await I(a.data.nextChunkIndex);let o=a.data.chunksMap;o.downloadingChunk=a.data.nextChunkIndex,o.lastChunkDownloaded=-99999===a.data.nextChunkIndex,t(eM(o));break;case"STREAM_CLOSED":S.port1.onmessage=null,S.port1.close(),S.port2.close(),S=null}}):((0,i.qu)(!1,"serviceWorker.getRegistration error"),a("serviceWorker.getRegistration error"))})}),!0}catch(e){return(0,i.qu)(!1,"setupWriter failed: ",e),!1}}function I(e){return(0,i.qu)(!1,"downloadDecryptAndAssemble",e),new Promise(async(r,d)=>{try{let f,g=await (0,c.ln)(a.id,e,p,!1,t);if(f=n?await eV(a.id,t,g.signedURL,W,100*e/B,1/B,l):await eV(a.id,t,g.signedURL,eF,100*e/B,1/B,s),(0,i.qu)(!1,"downloadChunk completed. Length: ",f.byteLength),a.activeRequest!==A){d("Aborted");return}let h=u.from(f,"binary").toString("binary");(0,i.qu)(!1,"Downloaded string length: ",h.length);let y=await (0,o.hf)(h,a.itemKey);(0,i.qu)(!1,"Decrypted chunk string length: ",y.length),await ((0,i.qu)(!1,"writeAChunkToFile"),new Promise(async(t,r)=>{(0,i.qu)(!1,"BINARY: ",Date.now()),S.port1.postMessage({type:"BINARY",chunkIndex:e,chunk:y}),t()})),r()}catch(e){(0,i.qu)(!1,"downloadDecryptAndAssemble failed: ",e),d("downloadDecryptAndAssemble error.")}})}if(n?(h=atob(e.fileName),C=decodeURI(C=(0,o.Ag)(h,a.itemKey,a.itemIV))):C=e.fileName,E=decodeURI(e.fileType),v=e.fileSize,B=e.numberOfChunks,p=e.s3KeyPrefix,!await m()){y("setupWriter failed");return}}else{let n=e.s3Key;try{t(W({itemId:A,progress:5}));let e=await (0,c.Ai)(a.id,n,t);t(W({itemId:A,progress:10}));let s=await eV(A,t,e,W);(0,i.qu)(!1,"downloadAVideo completed. Length: ",s.byteLength);let l=u.from(s,"binary").toString("binary");(0,i.qu)(!1,"Downloaded string length: ",l.length),p=(0,o.xl)(l,a.itemKey,a.itemIV),(0,i.qu)(!1,"Decrypted image string length: ",p.length);let d=(0,i.CO)(p),f=window.URL.createObjectURL(new Blob([d]),{type:"video/*"});t(X({itemId:A,indexInQueue:r,link:f})),h()}catch(e){(0,i.qu)(!1,"downloadFromS3 error: ",e),y("Failed to download and decrypt a video chunk.")}}})};return new Promise(async(t,o)=>{a=r().page,(0,i.qu)(!1,"downloadVideoThunk: videosDownloadQueue index:".concat(s,", length: ").concat(a.videosDownloadQueue.length)),(0,i.qu)(!1,"downloadVideoThunk: contentVideosDownloadQueue index:".concat(l,", length: ").concat(a.contentVideosDownloadQueue.length));try{n?await d(e,l):await d(e,s),t()}catch(e){o("Failed to download a video.")}})};async function eJ(e,t){return new Promise((r,n)=>{e.version=e.version+1,(0,i.qu)(!1,"item copy version: ",e.version),(0,i.$3)({api:"/memberAPI/createNewItemVersion",body:{itemId:e.id,itemVersion:JSON.stringify(e)},dispatch:t}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status?((0,i.qu)(!1,"createNewItemVersion succeeded"),r(e)):((0,i.qu)(!1,"createNewItemVersion failed: ",e.error),n("Failed to create a new item version."))}).catch(e=>{(0,i.qu)(!1,"createNewItemVersion failed."),n("Failed to create a new item version.")})})}function ez(e,t){return new Promise(async(r,n)=>{try{let a=await eJ(e,t);if("ok"===a.status){let t=JSON.parse(a.usage);e.usage=t,r()}else n("Could not create a new item version!")}catch(e){(0,i.qu)(!1,e),n("Could not create a new item version!")}})}function eW(e,t,r,n,a){return new Promise(async(o,s)=>{let c;let l=t().container.workspace;if(n.space=l,"f"===r.container.substring(0,1));else if("n"===r.container.substring(0,1))try{c=await new Promise(async(t,r)=>{(0,i.$3)({api:"/memberAPI/createANotebookPage",body:n,dispatch:e}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status&&e.item?t(e.item):((0,i.qu)(!1,"woo... failed to create a notebook page!",n.error),r("Failed to create a notebook page!"))})}),e(O({...a,itemCopy:c})),o()}catch(e){(0,i.qu)(!1,"createANotebookPage failed: ",e),s("Failed to create a notebook page.")}else if("d"===r.container.substring(0,1))try{c=await new Promise(async(t,r)=>{(0,i.$3)({api:"/memberAPI/createADiaryPage",body:n,dispatch:e}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status&&e.item?t(e.item):((0,i.qu)(!1,"woo... failed to create a diary page!",n.error),r("Failed to create a diary page!"))})}),e(O({...a,itemCopy:c})),o()}catch(e){(0,i.qu)(!1,"createADiaryPage failed: ",e),s("Failed to create a diary page.")}})}let eX=(e,t,r,n)=>async(i,c)=>{eK(i,s.i7.SaveTags,()=>new Promise(async(s,l)=>{let u,d,f,p,g,h,y;u=c().auth,d=c().page;try{if(p="v1"===u.accountVersion?(0,o.mw)(e,r):(0,o.sB)(e,r,n),d.itemCopy){(f=(0,o.aN)(e,d.itemKey)).push("null");let t={...d.itemCopy};t.tags=f,t.tagsTokens=p,t.update="tags",await ez(t,i),i(K({itemCopy:t,tags:e})),s()}else try{g=(0,a.d9)(),h=(0,o.UJ)(g,t),(f=(0,o.aN)(e,g)).push("null"),y={itemId:d.id,keyEnvelope:A.util.encode64(h),tags:JSON.stringify(f),tagsTokens:JSON.stringify(p)},await eW(i,c,d,y,{itemKey:g,tags:e}),s()}catch(e){l("Failed to create a new page with tags.")}}catch(e){l("Failed to save tags.")}}))},eZ=(e,t,r,n)=>async(c,l)=>{eK(c,s.i7.SaveTitle,()=>new Promise(async(s,u)=>{let d,f,p,g,h,y,m,I,C;d=l().auth,f=l().page;try{if(p=(0,i.z9)(e),g=A.util.encodeUtf8(e),y="v1"===d.accountVersion?(0,o.$f)(p,r):(0,o.gM)(p,r,n),f.itemCopy){h=(0,o.UJ)(g,f.itemKey);let t={...f.itemCopy};t.title=A.util.encode64(h),t.titleTokens=y,t.update="title",await ez(t,c),c(K({itemCopy:t,title:e,titleText:p})),s()}else try{m=(0,a.d9)(),I=(0,o.UJ)(m,t),h=(0,o.UJ)(g,m),C={itemId:f.id,keyEnvelope:A.util.encode64(I),title:A.util.encode64(h),titleTokens:JSON.stringify(y)},await eW(c,l,f,C,{itemKey:m,title:e,titleText:p}),s()}catch(e){u("Failed to create a new page with title.")}}catch(e){u("Failed to save title.")}}))};function e$(e){var t=document.createElement("div");t.innerHTML=e,t.querySelectorAll(".bsafesMediaSpinner").forEach(e=>{e.remove()}),t.querySelectorAll(".progress").forEach(e=>{e.remove()}),t.querySelectorAll(".videoControls").forEach(e=>{e.remove()});let r=t.querySelectorAll(".bSafesImage"),n=[],a=0;r.forEach(e=>{let t=e.id.split("&"),r=t[0].split("/").pop(),i=t[1],o=parseInt(t[2]);n.push({s3Key:r,size:o}),a+=o,e.src="https://placehold.co/".concat(i,"?text=Image")}),r.forEach(e=>{e.classList.remove("bSafesDisplayed"),e.classList.remove("bSafesDownloading")});let i=t.querySelectorAll(".bSafesDownloadVideo");return i.forEach(e=>{e.src="https://placehold.co/600x400?text=Video"}),i.forEach(e=>{e.classList.remove("bSafesDisplayed"),e.classList.remove("bSafesDownloading")}),t.querySelectorAll(".fr-video").forEach(e=>{let t=e.getElementsByTagName("video")[0];t.classList.remove("fr-draggable");let r=t.id,n=t.style,a=document.createElement("img");a.classList.add("bSafesDownloadVideo"),e.classList.contains("fr-dvb")&&a.classList.add("fr-dib"),e.classList.contains("fr-dvi")&&a.classList.add("fr-dii"),e.classList.contains("fr-fvl")&&a.classList.add("fr-fil"),e.classList.contains("fr-fvc")&&a.classList.add("fr-fic"),e.classList.contains("fr-fvr")&&a.classList.add("fr-fir"),a.id=r,a.style=n,a.src="https://placehold.co/600x400?text=Video",e.replaceWith(a)}),t.querySelectorAll(".bSafesDownloadVideo").forEach(e=>{let t=e.id.split("&"),r=t[t.length-3].split("/").pop(),i=parseInt(t[t.length-1]);n.push({s3Key:r,size:i}),a+=i}),{content:t.innerHTML,s3ObjectsInContent:n,s3ObjectsSize:a}}let e0=e=>new Promise(async(t,r)=>{(0,i.$3)({api:"/memberAPI/preS3Upload",body:{type:"content"},dispatch:e}).then(e=>{((0,i.qu)(!1,e),"ok"===e.status)?t({s3Key:e.s3Key,signedURL:e.signedURL,expiration:Date.now()+3e6}):((0,i.qu)(!1,"preS3Upload failed: ",e.error),r("preS3Upload error."))}).catch(e=>{(0,i.qu)(!1,"preS3Upload failed: ",e),r("preS3Upload error.")})}),e1=e=>async(e,t)=>new Promise(async(t,r)=>{try{e(eQ(null));let r=await e0(e);e(eQ(r)),t()}catch(e){r()}}),e2=e=>async(t,r)=>new Promise(async(n,a)=>{let i,o;let s=e.content;i=r().page;let c=e$(s);try{o=A.util.encodeUtf8(c.content);let e="Draft-"+i.id;localStorage.setItem(e,o),t(eT(o)),n()}catch(e){alert("error"),a("Failed to save draft.")}}),e3=e=>async(e,t)=>{e(eN())},e6=e=>async(e,t)=>{eq(t().page.id,e,t)},e4=e=>async(e,t)=>{e(eD());let r=t().page;r.contentImagesDownloadQueue.length&&eq(r.id,e,t)},e5=e=>async(t,r)=>{eK(t,s.i7.SaveContent,()=>new Promise(async(n,s)=>{let c,l,d,p,g,h,y,m;let I=e.content,C=e.workspaceKey;c=r().page;let E=e$(I),v=E.s3ObjectsInContent,B=E.s3ObjectsSize;function S(e){return new Promise(async(r,n)=>{try{let n=c.S3SignedUrlForContentUpload;Date.now()>n.expiration&&(n=await e0(t)),y=n.s3Key,m=n.signedURL,t(eQ(null)),await f.put(m,u.from(e,"binary"),{onUploadProgress:async e=>{let t=Math.ceil(100*e.loaded/e.total);(0,i.qu)(!1,"Upload progress: ".concat(e.loaded,"/").concat(e.total," ").concat(t," "))},headers:{"Content-Type":"binary/octet-stream"}}),r()}catch(e){(0,i.qu)(!1,"uploadContentToS3 failed: ",e),n("uploadContentToS3 error.")}})}try{if(l=A.util.encodeUtf8(E.content),c.itemCopy){d=(0,o.UJ)(l,c.itemKey),await S(d);let e={...c.itemCopy};e.content="s3Object/"+A.util.encode64(y),e.contentSize=d.length,e.s3ObjectsInContent=v,e.s3ObjectsSizeInContent=B,e.update="content",await ez(e,t),t(K({itemCopy:e,content:I})),t(ew()),n()}else try{let e=c.itemKey;e||(e=(0,a.d9)()),p=(0,o.UJ)(e,C),d=(0,o.UJ)(l,e),await S(d),g={itemId:c.id,keyEnvelope:A.util.encode64(p),content:"s3Object/"+A.util.encode64(y),contentSize:d.length,s3ObjectsInContent:JSON.stringify(v),s3ObjectsSizeInContent:B},h={itemKey:e,content:I},await eW(t,r,c,g,h),t(ew()),n()}catch(e){s("Failed to create a new page with content.")}}catch(e){alert("error"),s("Failed to save content.")}}))},e8=(e,t,r,n,a)=>{let{file:s,numberOfChunks:l}=n,A=(0,c.M2)().videoChunkSize,d=s.type,p=s.size,g=s.name,h,y=0,m="null",I=!1,C=null,E=null;return new Promise(async(t,n)=>{for(h=0;h<l;h++)try{(0,i.qu)(!1,"sliceEncryptAndUpload chunks: ",h+"/"+l),await function(t,n){return new Promise((a,s)=>{let h,v,B,S,b=0;v=n*A,h=new FileReader;let Q=t.slice(v,v+A);h.onloadend=async function(t){B=h.result,S=await (0,o.kh)(B,r.itemKey),y+=S.length;try{let t,o,s,A;await (A=(s=m.split(":"))[s.length-1],new Promise(async(a,s)=>{try{var h;t=await (0,c._t)(r.id,n,A),b=100/l*n+15/l,(0,i.qu)(!1,"File upload prgoress: ".concat(b)),e(eU(b)),m=t.s3KeyPrefix,o=t.signedURL,(0,i.qu)(!1,"chunk signed url",o),I||(await (h=m,(0,i.qu)(!1,"setupWriter"),new Promise(async(e,t)=>{(0,i.qu)(!1,"talkToServiceWorker"),navigator.serviceWorker.getRegistration("/").then(r=>{(0,i.qu)(!1,"registration: ",r),r?(E=new MessageChannel,r.active.postMessage({type:"INIT_EDITOR_VIDEO_PORT",videoChunkSize:(0,c.M2)().videoChunkSize,s3KeyPrefix:h,fileName:g,fileType:d,fileSize:p,browserInfo:(0,i.S7)()},[E.port2]),E.port1.onmessage=async t=>{if((0,i.qu)(!1,t.data),t.data)switch(t.data.type){case"STREAM_OPENED":C="/downloadFile/video/"+t.data.stream.id,(0,i.qu)(!1,"STREAM_OPENED"),e();break;case"NEXT_CHUNK":break;case"STREAM_CLOSED":E.port1.onmessage=null,E.port1.close(),E.port2.close(),E=null}}):((0,i.qu)(!1,"serviceWorker.getRegistration error"),t("serviceWorker.getRegistration error"))}).catch(e=>{(0,i.qu)(!1,"serviceWorker.getRegistration error: ",e),t(e)})})),I=!0);let s=async(t,r,a)=>{await f.put(r,u.from(t,"binary"),{onUploadProgress:async t=>{let r=15+Math.ceil(85*t.loaded/t.total),o=100/l*n+r/l;o=(Math.round(100*o)/100).toFixed(2),(0,i.qu)(!1,"Chunk upload progress: ".concat(t.loaded,"/").concat(t.total," ").concat(r," ")),(0,i.qu)(!1,"upload prgoress: ".concat(o)),e(a(o))},headers:{"Content-Type":"binary/octet-stream"}})};await s(S,o,eU),await ((0,i.qu)(!1,"writeAChunkToFile"),new Promise(async(e,t)=>{(0,i.qu)(!1,"BINARY: ",Date.now()),E.port1.postMessage({type:"BINARY",chunkIndex:n,chunk:B}),e()})),a()}catch(e){(0,i.qu)(!1,"uploadAChunk failed: ",e),s(e)}})),a()}catch(e){(0,i.qu)(!1,"sliceEncryptAndUpload failed: ",e),s(e)}},h.readAsBinaryString(Q)})}(s,h)}catch(e){if((0,i.qu)(!1,"uploadAVideo failed: ",e),confirm("Network failure, retry?"))h--;else break}if(h===l)return(0,i.qu)(!1,"uploadAVideo done, total chunks: ".concat(l," encryptedFileSize: ").concat(y)),t({fileType:d,fileSize:p,s3KeyPrefix:m,encryptedFileSize:y,link:C});n("Uploadig a video failed!")})},e9=e=>async(t,r)=>{let n,c,l,u;if(n=r().page,c=e.workspaceKey,n.activity&s.i7.UploadVideos){t(eR({files:e.files,where:e.where}));return}eK(t,s.i7.UploadVideos,()=>new Promise(async(s,d)=>{for((n=r().page).itemCopy||t(M({itemKey:(0,a.d9)()})),t(eR({files:e.files,where:e.where})),n=r().page;n.videosUploadQueue.length>n.videosUploadIndex;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}(0,i.qu)(!1,"======================= Uploading file: ","index: ".concat(n.videosUploadIndex," name: ").concat(n.videosUploadQueue[n.videosUploadIndex].file.name)),l=n.videosUploadQueue[n.videosUploadIndex];try{u=await e8(t,r,n,l,c),t(eL(u)),n=r().page,await function(){(0,i.qu)(!1,"doneUploadAVideo ...");let e=[],a=(e,t)=>{if(!e)return null;for(let r=0;r<e.length;r++)if(e[r].s3KeyPrefix===t)return e[r].words;return null};for(let t=0;t<n.videoPanels.length;t++){let r=n.videoPanels[t],i={s3KeyPrefix:r.s3KeyPrefix,fileType:r.fileType,fileName:r.fileName,fileSize:r.fileSize,encryptedFileSize:r.encryptedFileSize,numberOfChunks:r.numberOfChunks};r.queueId.startsWith("d")&&(i.fileName=A.util.encode64((0,o.UJ)(encodeURI(r.fileName),n.itemKey)));let s=null;n.itemCopy&&(s=a(n.itemCopy.videos,i.s3KeyPrefix)),i.words=s,e.push(i)}return new Promise(async(a,i)=>{if(n.itemCopy){let r={...n.itemCopy};try{r.videos=e,r.update="videos",await ez(r,t),t(K({itemCopy:r})),a()}catch(e){i("Failed to add an video.")}}else try{let i=(0,o.UJ)(n.itemKey,c),s={itemId:n.id,keyEnvelope:A.util.encode64(i),videos:JSON.stringify(e)};await eW(t,r,n,s,{}),a()}catch(e){i("Failed to create a new page with attachment.")}})}(u),n=r().page}catch(e){(0,i.qu)(!1,"uploadVideosThunk failed: ",e),d("Failed to upload a Video.");break}}n.videosUploadQueue.length===n.videosUploadIndex&&s()}))},e7=e=>async(t,r)=>{let n=r().page,a=n.id,s=e.s3KeyPrefix,l=e.snapshot,A=s.split(":").pop();try{let e=(await (0,c._t)(a,(0,c.M2)().videoThumbnailIndex,A)).signedURL,t=(0,o.sz)(l,n.itemKey);await f.put(e,u.from(t,"binary"),{onUploadProgress:async e=>{let t=Math.ceil(100*e.loaded/e.total);(0,i.qu)(!1,"Upload progress: ".concat(e.loaded,"/").concat(e.total," ").concat(t," "))},headers:{"Content-Type":"binary/octet-stream"}})}catch(e){console.log("uploadSnapshot failed")}},te=async(e,t,r)=>{let n,a,s;let c=0,A=e=>new Promise(async(r,s)=>{try{let i=await (0,l.M)(n,a,e),s=(0,o.sz)(i,t.itemKey);r(s)}catch(e){(0,i.qu)(!1,"_downScaleImage failed: ",e),s("_downScaleImage error.")}});return new Promise((a,l)=>{let d=new FileReader,p=async()=>{(0,i.qu)(!1,"startUploadingAnImage");let r=null,d=null,p=null,g=(0,o.sz)(s,t.itemKey);try{let t,o,s,l,h;let y=await (h=!1,(0,i.qu)(!1,"uploadImagesToS3"),new Promise(async(a,y)=>{try{await new Promise(async(r,n)=>{(0,i.$3)({api:"/memberAPI/preS3Upload",dispatch:e}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status?(t=e.s3Key,o=e.signedURL,s=e.signedGalleryURL,l=e.signedThumbnailURL,r()):((0,i.qu)(!1,"preS3Upload failed: ",e.error),n("preS3Upload error."))}).catch(e=>{(0,i.qu)(!1,"preS3Upload failed: ",e),n("preS3Upload error.")})}),e(er(5)),c+=g.length;let m=await A(720);c+=m.length,(0,i.qu)(!1,"galleryString length: ",m.length),e(er(20));let I=await A(120);c+=I.length,(0,i.qu)(!1,"thumbnailImgString length: ",I.length),e(er(30));let C=u.from(g,"binary");r=f.put(o,u.from(g,"binary"),{onUploadProgress:async o=>{let A=30+Math.ceil(70*o.loaded/o.total);if(e(er(A)),(0,i.qu)(!1,"Upload progress: ".concat(o.loaded,"/").concat(o.total," ").concat(A," ")),!h){h=!0,d=f.put(s,u.from(m,"binary"),{headers:{"Content-Type":"binary/octet-stream"}}).catch(e=>{y(e)}),p=f.put(l,u.from(I,"binary"),{headers:{"Content-Type":"binary/octet-stream"}}).catch(e=>{y(e)});try{let e=await Promise.all([r,d,p]);(0,i.qu)(!1,"Upload original image result: ",e[0]),(0,i.qu)(!1,"Upload gallery image result: ",e[1]),(0,i.qu)(!1,"Upload thumbnail image result: ",e[2]),a({s3Key:t,size:c,link:n.src,width:n.width,height:n.height,buffer:C})}catch(e){(0,i.qu)(!1,"Uploading an image failed: ",e),y(e)}}},headers:{"Content-Type":"binary/octet-stream"}}).catch(e=>{y(e)})}catch(e){(0,i.qu)(!1,"uploadImagesToS3 error: ",e),y("uploadImagesToS3 error.")}}));a(y)}catch(e){(0,i.qu)(!1,"uploadImagesToS3 error: ",e),l("uploadImagesToS3 error.")}};d.addEventListener("load",async()=>{s=d.result;let e=window.URL.createObjectURL(r);try{(n=new Image).src=e,n.onload=p}catch(e){(0,i.qu)(!1,"rotateImage error:",e),l("rotateImage error.")}}),d.readAsBinaryString(r)})},tt=(e,t)=>{if(!e)return null;for(let r=0;r<e.length;r++)if(e[r].s3Key===t)return e[r].words;return null},tr=e=>async(t,r)=>{let n,c,l,u,d,f;if(n=r().page,c=e.workspaceKey,n.activity&s.i7.UploadImages){t(et({files:e.files,where:e.where}));return}eK(t,s.i7.UploadImages,()=>new Promise(async(s,p)=>{for((n=r().page).itemCopy||t(M({itemKey:l=(0,a.d9)()})),t(et({files:e.files,where:e.where})),n=r().page;n.imageUploadQueue.length>n.imageUploadIndex;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}(0,i.qu)(!1,"======================= Uploading file: ","index: ".concat(n.imageUploadIndex," name: ").concat(n.imageUploadQueue[n.imageUploadIndex].file.name));let e=n.imageUploadQueue[n.imageUploadIndex].file;try{let r=await te(t,n,e);t(en(r))}catch(e){alert("Network failure, retry?")}n=r().page}n=r().page,(0,i.qu)(!1,n.imagePanels);let g=[];for(let e=0;e<n.imagePanels.length;e++){let t={s3Key:n.imagePanels[e].s3Key,size:n.imagePanels[e].size},r=null;n.itemCopy&&(r=tt(n.itemCopy.images,t.s3Key)),t.words=r,g.push(t)}if(n.itemCopy){let e={...n.itemCopy};try{e.images=g,e.update="images",await ez(e,t),t(K({itemCopy:e})),s()}catch(e){p("Failed to save images.")}}else try{u=(0,o.UJ)(n.itemKey,c),d={itemId:n.id,keyEnvelope:A.util.encode64(u),images:JSON.stringify(g)},f={itemKey:l},await eW(t,r,n,d,f),s()}catch(e){p("Failed to create a new page with images.")}}))},tn=e=>async(t,r)=>{eK(t,s.i7.DeleteAnImage,()=>new Promise(async(n,a)=>{let i,o,s,c;o=(c={...(i=r().page).itemCopy}).images.filter(function(t){return e.panel.s3Key!==t.s3Key});try{c.images=o,c.update="images",await ez(c,t),s=i.imagePanels.filter(t=>e.panel.s3Key!==t.s3Key),t(K({itemCopy:c,imagePanels:s})),n()}catch(e){a("Failed to delete images.")}}))},ta=(e,t,r,n,a)=>{let s=r.chunkSize,l=n.numberOfChunks,d=n.file,p=d.size,g=d.type,h=A.util.encodeUtf8(d.name),y=(0,o.UJ)(h,r.itemKey),m,I=0,C="null",E,v;return new Promise(async(h,B)=>{for(n.failedChunk?(E=n.failedChunk,C=n.s3KeyPrefix):E=0,m=E;m<=l;m++)try{(0,i.qu)(!1,"sliceEncryptAndUpload chunks: ",m+"/"+l),v=await function(t,n){return new Promise(async(a,A)=>{let d=0;function p(e){return new Promise(n=>{let a,c,l,u;(0,i.qu)(!1,"encryptAChunk: ".concat(e)),c=e*s,a=new FileReader;let d=t.slice(c,c+s);a.onloadend=async function(t){if(!(l=a.result)){A("It is not a file.");return}u=await (0,o.kh)(l,r.itemKey),I+=u.length,(0,i.qu)(!1,"encryptAChunk done: ".concat(e)),n(u)},a.readAsBinaryString(d)})}function g(t,n){let a,o,s,A,p,g;return(0,i.qu)(!1,"uploadAChunk: ".concat(t)),A=(s=C.split(":"))[s.length-1],new Promise(async(s,h)=>{try{a=await (0,c._t)(r.id,t,A,e),d=100/l*t+15/l,(0,i.qu)(!1,"File upload prgoress: ".concat(d)),e(el(d)),a.s3Key,C=a.s3KeyPrefix,o=a.signedURL,(0,i.qu)(!1,"chunk signed url",o),p=new AbortController,e(ec(p));let h={onUploadProgress:async r=>{g&&(clearTimeout(g),g=0);let n=15+Math.ceil(85*r.loaded/r.total);d=100/l*t+n/l,(0,i.qu)(!1,"Chunk upload progress: ".concat(r.loaded,"/").concat(r.total," ").concat(n," ")),(0,i.qu)(!1,"File upload prgoress: ".concat(d)),e(el(d))},headers:{"Content-Type":"binary/octet-stream"},timeout:0,signal:p.signal};await f.put(o,u.from(n,"binary"),h),g&&clearTimeout(g),e(ec(null)),(0,i.qu)(!1,"uploadAChunk done: ".concat(t)),s()}catch(e){(0,i.qu)(!1,"uploadAChunk failed: ",e),h("uploadAChunk error.")}})}0===n?a(await p(n)):n===l?(await g(n-1,v),a()):Promise.all([g(n-1,v),p(n)]).then(e=>{a(e[1])}).catch(e=>{A("uploadAChunk error.")})})}(d,m)}catch(e){if((0,i.qu)(!1,"uploadAnAttachment failed: ",e),confirm("Network failure, retry?"))m--;else break}if(m===l+1){(0,i.qu)(!1,"uploadAnAttachment done, total chunks: {numberOfChunks} encryptedFileSize: {encryptedFileSize}");try{let n,i;await (i=[],new Promise(async(s,c)=>{if(r.itemCopy){let t={...r.itemCopy};for(n=0;n<t.attachments.length;n++)i.push(t.attachments[n]);let a={fileName:A.util.encode64(y),fileType:g,fileSize:p,s3KeyPrefix:C,size:I,numberOfChunks:l};i.push(a);try{t.attachments=i,t.update="attachments",await ez(t,e),e(K({itemCopy:t})),s()}catch(e){c("Failed to add an attachment.")}}else try{let n=(0,o.UJ)(r.itemKey,a),i={itemId:r.id,keyEnvelope:A.util.encode64(n),s3KeyPrefix:C,fileName:A.util.encode64(y),fileType:g,fileSize:p,size:I,numberOfChunks:l};await eW(e,t,r,i,{}),s()}catch(e){c("Failed to create a new page with attachment.")}})),h({fileType:g,fileSize:p,s3KeyPrefix:C,size:I})}catch(e){(0,i.qu)(!1,"uploadAnAttachment failed: ",e),B("doneUploadAnAttachment error.")}}else B("Uploading an attachment failed.")})},ti=e=>async(t,r)=>{let n,o,c,l;if(n=r().page,o=e.workspaceKey,n.activity&s.i7.UploadAttachments){t(es({files:e.files}));return}eK(t,s.i7.UploadAttachments,()=>new Promise(async(s,u)=>{for((n=r().page).itemCopy||t(M({itemKey:(0,a.d9)()})),t(es({files:e.files})),n=r().page;n.attachmentsUploadQueue.length>n.attachmentsUploadIndex;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}(0,i.qu)(!1,"======================= Uploading file: ","index: ".concat(n.attachmentsUploadIndex," name: ").concat(n.attachmentsUploadQueue[n.attachmentsUploadIndex].file.name)),c=n.attachmentsUploadQueue[n.attachmentsUploadIndex];try{l=await ta(t,r,n,c,o),t(eA(l)),n=r().page}catch(e){if((0,i.qu)(!1,"uploadAttachmentsThunk failed: ",e),!confirm("Network failure, retry?")){u("Failed to upload attachments.");break}}}n.attachmentsUploadQueue.length===n.attachmentsUploadIndex&&s()}))},to=(e,t,r,n)=>new Promise(async(a,s)=>{let l,A,d,f,p,g=!1,h,y,m,I,C=(0,i.gl)(),E=r.s3KeyPrefix;async function v(){if(!C)return A=new Uint8Array(r.fileSize),d=0,!0;try{return await new Promise(async(t,n)=>{navigator.serviceWorker.getRegistration("/downloadFile/").then(a=>{a?(l=new MessageChannel,a.active.postMessage({type:"INIT_PORT",fileName:r.fileName,fileSize:r.fileSize,browserInfo:(0,i.S7)()},[l.port2]),l.port1.onmessage=r=>{if((0,i.qu)(!1,r.data),r.data)switch(r.data.type){case"STREAM_OPENED":let n=document.createElement("iframe");n.hidden=!0,n.src="/downloadFile/"+r.data.stream.id,document.body.appendChild(n),(0,i.qu)(!1,"STREAM_OPENED"),t();break;case"STREAM_CLOSED":l.port1.onmessage=null,l.port1.close(),l.port2.close(),l=null,e(em())}}):((0,i.qu)(!1,"s"),n("serviceWorker.getRegistration error"))})}).catch(e=>{(0,i.qu)(!1,"serviceWorker.getRegistration error: ",e),s("serviceWorker.getRegistration error.")}),!0}catch(e){return(0,i.qu)(!1,"setupWriter failed: ",e),!1}}if((p=r.numberOfChunks)||(p=1,g=!0),r.failedChunk)I=r.failedChunk,C?l=t.writer:(A=t.writer.fileInUint8Array,d=t.writer.fileInUint8ArrayIndex);else if(I=0,!await v()){e(eI()),s("Failed to setup the writer.");return}for(f=I;f<p;f++)try{await function(r){return new Promise(async(a,s)=>{try{h=await (0,c.ln)(t.id,r,E,g,e),g&&(p=h.numberOfChunks,g=!1);let f=await eV(t.id,e,h.signedURL,eg,100*r/p,1/p);if((0,i.qu)(!1,"downloadChunk completed. Length: ",f.byteLength),t.activeRequest!==n){s("Aborted");return}m=u.from(f,"binary").toString("binary"),(0,i.qu)(!1,"Downloaded string length: ",m.length),y=await (0,o.hf)(m,t.itemKey,t.itemIV),(0,i.qu)(!1,"Decrypted chunk string length: ",y.length),await new Promise(async(e,t)=>{if(C)l.port1.postMessage({type:"BINARY",chunk:y}),e();else{for(let e=0;e<y.length;e++)if(d+e<A.length)A[d+e]=y.charCodeAt(e);else{t("writeAChunkToFile error: fileInUint8Array overflow");return}d+=y.length,e()}}),a()}catch(t){(0,i.qu)(!1,"downloadDecryptAndAssemble failed: ",t),C?e(eC({chunkIndex:r,writer:l})):e(eC({chunkIndex:r,writer:{fileInUint8Array:A,fileInUint8ArrayIndex:d}})),s("Failed to write a chunk to file.")}})}(f)}catch(e){(0,i.qu)(!1,"downloadAnAttachment failed: ",e),s("downloadDecryptAndAssemble error.");break}if(f===p){if((0,i.qu)(!1,"downloadAnAttachment done, total chunks: ".concat(p)),!C){let e=new Blob([A],{type:r.fileType}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=r.fileName,t.click()}C?l.port1.postMessage({type:"END_OF_FILE"}):e(em()),a()}}),ts=e=>async(t,r)=>{let n,a,o;if(o=(n=r().page).id,n.attachmentsDownloadQueue.length>n.attachmentsDownloadIndex){t(ef({...e.panel}));return}for(e.panel&&t(ef({...e.panel})),n=r().page;n.attachmentsDownloadQueue.length>n.attachmentsDownloadIndex;){if(n.aborted){(0,i.qu)(!1,"abort: ",n.aborted);break}(0,i.qu)(!1,"======================= Downloading file: ","index: ".concat(n.attachmentsDownloadIndex," name: ").concat(n.attachmentsDownloadQueue[n.attachmentsDownloadIndex].fileName)),a=n.attachmentsDownloadQueue[n.attachmentsDownloadIndex];try{await to(t,n,a,o),t(ey(a)),n=r().page}catch(e){(0,i.qu)(!1,"downloadAnAttachmentThunk failed: ",e);break}}},tc=e=>async(t,r)=>{eK(t,s.i7.DeleteAnAttachment,()=>new Promise(async(n,a)=>{let i,o,s,c;o=(c={...(i=r().page).itemCopy}).attachments.filter(function(t){return e.panel.s3KeyPrefix!==t.s3KeyPrefix});try{c.attachments=o,c.update="attachments",await ez(c,t),s=i.attachmentPanels.filter(t=>e.panel.s3KeyPrefix!==t.s3KeyPrefix),t(K({itemCopy:c,attachmentPanels:s})),n()}catch(e){a("Failed to delete an attachment.")}}))},tl=e=>async(t,r)=>{eK(t,s.i7.SaveVideoWords,()=>new Promise(async(n,a)=>{let i,s,c,l,u;console.log("saveVideoWordsThunk");let d=e.content,f=e.index;i=r().page;try{if(s=A.util.encodeUtf8(d),c=(0,o.UJ)(s,i.itemKey),i.itemCopy){(l=JSON.parse(JSON.stringify(i.itemCopy))).videos[f].words=A.util.encode64(c),l.update="video words",u=JSON.parse(JSON.stringify(i.videoPanels));for(let e=0;e<u.length;e++)u[e].thumbnail=i.videoPanels[e].thumbnail,u[e].src=i.videoPanels[e].src,u[e].play=i.videoPanels[e].play;u[f].words=d,await ez(l,t),t(K({itemCopy:l,videoPanels:u})),n()}}catch(e){console.error(e),a("Failed to save video words.")}}))},tu=e=>async(t,r)=>{eK(t,s.i7.SaveImageWords,()=>new Promise(async(n,a)=>{let i,s,c,l,u;let d=e.content,f=e.index;i=r().page;try{if(s=A.util.encodeUtf8(d),c=(0,o.UJ)(s,i.itemKey),i.itemCopy){(l=JSON.parse(JSON.stringify(i.itemCopy))).images[f].words=A.util.encode64(c),l.update="image words",u=JSON.parse(JSON.stringify(i.imagePanels));for(let e=0;e<u.length;e++)u[e].img=i.imagePanels[e].img;u[f].words=d,await ez(l,t),t(K({itemCopy:l,imagePanels:u})),n()}}catch(e){a("Failed to save image words.")}}))},tA=e=>async(t,r)=>{eK(t,s.i7.LoadComments,()=>{let n,a,s,c,l,u,f,p;return new Promise(async(g,h)=>{n=r().page,(0,i.$3)({api:"/memberAPI/getPageComments",body:{itemId:e.itemId,size:10,from:0},dispatch:t}).then(y=>{if((0,i.qu)(!1,y),n=r().page,e.itemId!==n.activeRequest){(0,i.qu)(!1,"Aborted"),h("Aborted");return}"ok"===y.status?y.hits?(s=y.hits.hits,a=r().auth.displayName,c=s.map(e=>{let{_source:t,_id:r}=e;try{return u=t.content,l="",u&&(f=A.util.decode64(u),p=(0,o.Ag)(f,n.itemKey,n.itemIV),l=A.util.decodeUtf8(p),l=d.sanitize(l)),{id:r,commentId:t.commendId,creationTime:t.creationTime,lastUpdateTime:t.lastUpdateTime,writerName:t.writerName===a?"You":t.writerName,content:l,editorMode:"ReadOnly"}}catch(e){return console.trace(e),{}}}),t(eB({itemId:e.itemId,comments:c})),g()):h("Failed to get a page comments!"):((0,i.qu)(!1,"woo... failed to get a page comments!",e.error),h("Failed to get a page comments!"))}).catch(e=>{(0,i.qu)(!1,"woo... failed to get a page comments.",e),h("Failed to get a page comments!")})})})},td=e=>async(t,r)=>{eK(t,s.i7.SaveComment,()=>new Promise(async(n,a)=>{let s,c,l,u,d,f,p;s=r().page;try{s.itemCopy&&(c=e$(e.content).content,l=A.util.encodeUtf8(c),u=A.util.encode64((0,o.UJ)(l,s.itemKey)),d=s.id,"comment_New"===e.index?(0,i.$3)({api:"/memberAPI/saveNewPageComment",body:{itemId:d,content:u},dispatch:t}).then(function(e){if("ok"===e.status){let r={id:e.id,commentId:e.commentId,creationTime:e.creationTime,lastUpdateTime:e.lastUpdateTime,writerName:"You",content:c};t(eS(r)),n()}else a("Failed to add new comment.")}):(f=parseInt(e.index.split("_")[1]),p=s.comments[f].commentId,(0,i.$3)({api:"/memberAPI/updatePageComment",body:{itemId:d,commentId:p,content:u},dispatch:t}).then(function(e){"ok"===e.status?(t(eb({commentIndex:f,content:c,lastUpdateTime:e.lastUpdateTime})),n()):a("Failed to update a comment.")})))}catch(e){a("Failed to save a comment.")}}))},tf=m.reducer;t.ZP=m},78602:function(e,t,r){"use strict";r.d(t,{CL:function(){return c},fD:function(){return l}});var n=r(7406),a=r(49486);let i=[],o={scripts:i.length>0?[i[0]]:[],index:0,done:!0},s=(0,n.oM)({name:"scripts",initialState:o,reducers:{loaded:(e,t)=>{e.scripts[t.payload].loaded=!0,t.payload===i.length-1?e.done=!0:(e.index++,e.scripts.push(i[e.index]),(0,a.qu)(!1,t.payload+" loaded. current count:"+e.index))}}}),{loaded:c}=s.actions,l=s.reducer;t.ZP=s},75979:function(e,t,r){"use strict";r.d(t,{BA:function(){return N},J7:function(){return U},Lr:function(){return L},NH:function(){return P},VF:function(){return k},Vk:function(){return _},i4:function(){return R},lR:function(){return D},r6:function(){return E},uL:function(){return u},xy:function(){return v}});var n=r(7406),a=r(94882),i=r(49486),o=r(43385);let s=r(22079),c={activity:0,activityErrors:0,activityErrorMessages:{},activityResult:null,error:null,teams:[],teamName:"Personal",teamData:null,pageNumber:1,itemsPerPage:20,total:0,memberSearchValue:"",memberSearchResult:null,teamMembers:[],teamMembersTotal:0},l=(0,n.oM)({name:"team",initialState:c,reducers:{cleanTeamSlice:(e,t)=>{let r=Object.keys(c);for(let t=0;t<r.length;t++){let n=r[t];e[n]=c[n]}},activityStart:(e,t)=>{e.activityErrors&=~t.payload,e.activityErrorMessages[t.payload]="",e.activity|=t.payload},activityDone:(e,t)=>{e.activity&=~t.payload},activityError:(e,t)=>{e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorMessages[t.payload.type]=t.payload.error},setActivityResult:(e,t)=>{e.activityResult=t.payload},teamsLoaded:(e,t)=>{e.teams=t.payload.hits,e.total=t.payload.total,e.pageNumber=t.payload.pageNumber},newTeamAddedOnTop:(e,t)=>{e.teams.unshift(t.payload)},newTeamAddedBefore:(e,t)=>{e.teams.splice(t.payload.targetIndex,0,t.payload.team)},newTeamAddedAfter:(e,t)=>{e.teams.splice(t.payload.targetIndex+1,0,t.payload.team)},setTeamName:(e,t)=>{e.teamName=t.payload.teamName},setTeamData:(e,t)=>{e.teamData=t.payload.teamData},clearMemberSearchResult:(e,t)=>{e.memberSearchResult=null},setMemberSearchValue:(e,t)=>{e.memberSearchValue=t.payload},setMemberSearchResult:(e,t)=>{e.memberSearchResult=t.payload},setTeamMembers:(e,t)=>{let r=t.payload;e.teamMembersTotal=r.total,e.teamMembers=r.hits.map(e=>e._source)},newTeamMemberAdded:(e,t)=>{let r=t.payload;e.teamMembers=[r].concat(e.teamMembers)},teamMemberDeleted:(e,t)=>{let r=t.payload,n=e.teamMembers.filter(e=>e.memberId!==r.memberId);e.teamMembers=n},clearTeamMembers:(e,t)=>{e.teamMembers=[]}}}),{cleanTeamSlice:u,activityStart:A,activityDone:d,activityError:f,setActivityResult:p,teamsLoaded:g,newTeamAddedOnTop:h,newTeamAddedBefore:y,newTeamAddedAfter:m,setTeamName:I,setTeamData:C,clearMemberSearchResult:E,setMemberSearchValue:v,setMemberSearchResult:B,setTeamMembers:S,newTeamMemberAdded:b,teamMemberDeleted:Q,clearTeamMembers:T}=l.actions,w=async(e,t,r)=>{e(A(t)),e(p(null));try{await r(),e(d(t))}catch(r){e(f({type:t,error:r}))}},N=e=>async(t,r)=>{w(t,o.J0.ListTeams,()=>new Promise(async(n,o)=>{let c,l,u,A=[],d,f,p,h,y,m,I;l=r().team,u=r().auth,A=[],I=e.pageNumber,(0,i.$3)({api:"/memberAPI/listTeams",body:{from:(I-1)*l.itemsPerPage,size:l.itemsPerPage}}).then(async e=>{if((0,i.qu)(!1,e),"ok"===e.status){for(c=0,p=s.pki.privateKeyFromPem(u.privateKey);c<e.hits.hits.length;c++){if((f=e.hits.hits[c])._source.encryptedTeamName){if(f._source.cachedTeamName&&"NULL"!==f._source.cachedTeamName)h="v2"===u.accountVersion&&3===f._source.keyVersion?(0,a.fK)(s.util.decode64(f._source.cachedTeamName),u.searchKey,u.searchIV):(0,a.X7)(s.util.decode64(f._source.cachedTeamName),u.searchKey),d={title:y="<h2>"+s.util.decodeUtf8(h)+"</h2>",id:f._source.teamId,position:f._source.position};else{h=p.decrypt(s.util.decode64(f._source.encryptedTeamName)),y="<h2>"+s.util.decodeUtf8(h)+"</h2>";try{"v1"===u.accountVersion?m=(0,a.Xm)(h,u.searchKey):"v2"===u.accountVersion&&(m=(0,a.yC)(h,u.searchKey,u.searchIV)),await function(e,t){return new Promise(async(r,n)=>{(0,i.$3)({api:"/memberAPI/cacheTeamNameForTeamMember",body:{teamId:e,cachedTeamName:s.util.encode64(t)}}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status?r():((0,i.qu)(!1,"cacheTeamNameForTeamMember failed: ",e.error),n("cacheTeamNameForTeamMember error."))}).catch(e=>{(0,i.qu)(!1,"cacheTeamNameForTeamMember failed: ",e),n("cacheTeamNameForTeamMember error.")})})}(f._source.teamId,m)}catch(e){(0,i.qu)("cacheTeamName error")}d={title:y,id:f._source.teamId,position:f._source.position}}}else d={title:"Error",id:f._source.teamId,position:f._source.position};A.push(d)}t(g({pageNumber:I,total:e.hits.total,hits:A})),n()}else(0,i.qu)(!1,"listTeams error.",e.error),o("Failed to list teams.")}).catch(e=>{(0,i.qu)(!1,"listTeams failed: ",e),o("Failed to list teams.")})}))},k=e=>((0,i.qu)(!1,"getTeamData()"),new Promise(async(t,r)=>{(0,i.$3)({api:"/memberAPI/getTeamData",body:{teamId:e}}).then(e=>{(0,i.qu)(!1,e),"ok"===e.status?t(e.team):((0,i.qu)(!1,"getTeamData failed: ",e.error),r("Failed to get team data."))}).catch(e=>{(0,i.qu)(!1,"getTeamData failed: ",e),r("getTeamData error.")})})),D=e=>async(t,r)=>{w(t,o.J0.CreateANewTeam,()=>new Promise(async(n,o)=>{let c=r().auth,l=e.title,u=e.publicKeyPem,A=e.addAction,d=e.targetIndex,f=e.targetTeam,p=e.targetPosition,g=function(){let e=s.random.getBytesSync(16),t=s.random.getBytesSync(32);return s.pkcs5.pbkdf2(t,e,1e4,32)}(),I=s.util.encodeUtf8(l),C=(0,a.UJ)(I,g),E=s.pki.publicKeyFromPem(u),v=s.util.encodeUtf8(g),B=E.encrypt(v),S=E.encrypt(I),b=s.random.getBytesSync(16),Q=s.random.getBytesSync(32),T=s.pkcs5.pbkdf2(Q,b,1e4,32),w=(0,a.UJ)(T,g),N={name:s.util.encode64(C),teamKeyEnvelope:s.util.encode64(B),searchKeyEnvelope:s.util.encode64(w),encryptedTeamNameByMemberPublic:s.util.encode64(S),addAction:A};if("v1"!==c.accountVersion){let e=s.random.getBytesSync(16),t=(0,a.UJ)(e,g);N.searchIVEnvelope=s.util.encode64(t)}"addATeamOnTop"!==A&&(N.targetTeam=f,N.targetPosition=p),(0,i.qu)(!1,N),(0,i.$3)({api:"/memberAPI/createANewTeam",body:N}).then(e=>{if((0,i.qu)(!1,e),"ok"===e.status){if(e.team){let r={title:l,id:e.team.id,position:e.team.position};switch(A){case"addATeamOnTop":t(h(r));break;case"addATeamBefore":t(y({team:r,targetIndex:d}));break;case"addATeamAfter":t(m({team:r,targetIndex:d}))}n(e.team)}else(0,i.qu)(!1,"woo... failed to create a team!",e.error),o("Failed to create a new team.")}else(0,i.qu)(!1,"woo... failed to create a team!",e.error),o("Failed to create a team.")})}))},R=e=>async(t,r)=>{w(t,o.J0.SearchForAMember,()=>new Promise(async(r,n)=>{(0,i.$3)({api:"/memberAPI/findMemberById",body:{id:e.id}}).then(e=>{"ok"===e.status?(t(B(e.member)),r()):(t(B({})),n("Failed to find a member by ID."))}).catch(e=>{(0,i.qu)(!1,"findMemberById failed: ",e),n("Failed to find a member by ID.")})}))},U=e=>async(t,r)=>{(0,i.qu)(!1,"listTeamMembersThunk"),w(t,o.J0.ListTeamMembers,()=>new Promise(async(n,a)=>{let o=e.teamId,s=r().team;(0,i.$3)({api:"/memberAPI/listTeamMembers",body:{teamId:o,size:s.itemsPerPage,from:(e.pageNumber-1)*s.itemsPerPage}}).then(e=>{"ok"===e.status?(t(S(e.hits)),n()):a("Failed to list team members.")}).catch(e=>{(0,i.qu)(!1,"listTeamMembers failed: ",e),a("Failed to list team members.")})}))},L=e=>async(t,r)=>{w(t,o.J0.AddAMemberToTeam,()=>new Promise(async(n,a)=>{let o,c,l,u,A,d,f,g,h,y;let m=e.member,I=m.id,C=r().container;if(!C.workspaceKeyReady){a("Workspace key not ready!");return}o=s.pki,c=C.workspace,l=C.workspaceKey,u=C.workspaceName,A=o.publicKeyFromPem(s.util.decode64(m.publicKey)),d=s.util.encodeUtf8(l),g=A.encrypt(d),g=s.util.encode64(g),f=s.util.encodeUtf8(u),h=A.encrypt(f),y={teamId:c,memberId:I,encryptedTeamName:h=s.util.encode64(h),teamKeyEnvelope:g},(0,i.$3)({api:"/memberAPI/addATeamMember",body:y}).then(e=>{"ok"===e.status?(t(p("Added")),t(v("")),t(b(y)),n()):(t(p(e.error)),t(v("")),a("Failed to add a team member."))}).catch(e=>{(0,i.qu)(!1,"addAMemberToTeamThunk failed: ",e),a("Failed to add a team member.")})}))},P=e=>async(t,r)=>{w(t,o.J0.DeleteATeamMember,()=>new Promise(async(r,n)=>{let a=e.member,o=a.teamId,s=a.memberId;(0,i.$3)({api:"/memberAPI/deleteATeamMember",body:{teamId:o,memberId:s}}).then(e=>{"ok"===e.status?(t(Q(a)),r()):n("Failed to delete a team member.")}).catch(e=>{(0,i.qu)(!1,"deleteATeamMemberThunk failed: ",e),n("Failed to delete a team member.")})}))},_=l.reducer;t.ZP=l},58935:function(e,t,r){"use strict";r.d(t,{CH:function(){return B},Cz:function(){return I},L_:function(){return b},Ly:function(){return y},Sf:function(){return S},VI:function(){return v},Zw:function(){return d},iA:function(){return E},nh:function(){return Q},ni:function(){return m},vK:function(){return T}});var n=r(7406),a=r(49486),i=r(94882),o=r(43385),s=r(40606);let c=r(22079),l=r(50477),u={activity:0,activityErrors:0,activityErrorMessages:{},nickname:"",masterId:"",displayMasterId:"",nextAuthStep:null,keyMeta:null},A=(0,n.oM)({name:"v1Account",initialState:u,reducers:{cleanV1AccountSlice:(e,t)=>{let r=Object.keys(u);for(let t=0;t<r.length;t++){let n=r[t];e[n]=u[n]}},activityStart:(e,t)=>{e.activityErrors&=~t.payload,e.activityErrorMessages[t.payload]="",e.activity|=t.payload},activityDone:(e,t)=>{e.activity&=~t.payload},activityError:(e,t)=>{e.activity&=~t.payload.type,e.activityErrors|=t.payload.type,e.activityErrorMessages[t.payload.type]=t.payload.error},nicknameResolved:(e,t)=>{e.nickname=t.payload.nickname,e.masterId=t.payload.masterId,e.displayMasterId=t.payload.displayMasterId},setNextAuthStep:(e,t)=>{e.nextAuthStep=t.payload},setKeyMeta:(e,t)=>{e.keyMeta=t.payload},signedOut:(e,t)=>{let r=Object.keys(u);for(let t=0;t<r.length;t++){let n=r[t];e[n]=u[n]}}}}),{cleanV1AccountSlice:d,activityStart:f,activityDone:p,activityError:g,nicknameResolved:h,setNextAuthStep:y,setKeyMeta:m,signedOut:I}=A.actions,C=async(e,t,r)=>{e(f(t));try{await r(),e(p(t))}catch(r){e(g({type:t,error:r}))}},E=A.reducer,v=e=>async(t,r)=>{C(t,o.YZ.NicknameSignIn,()=>new Promise(async(r,n)=>{let i=e.nickname;(0,a.$3)({api:"/nicknameSignIn",body:{nickname:i},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"!==e.status){(0,a.qu)(!1,"woo... failed to resolve nickname."),n("NicknameSignInError");return}let o=e.masterId,s=e.displayMasterId;(0,a.qu)(!1,"nickname resolved."),t(h({nickname:i,masterId:o,displayMasterId:s})),r()}).catch(e=>{(0,a.qu)(!1,"nicknameSignIn failed: ",e),n("Failed to sign in with nickname.")})}))},B=e=>async(t,r)=>{C(t,o.YZ.AuthenticateManagedMember,()=>new Promise(async(r,n)=>{let i=e.masterId,o=e.memberName,c=e.password;(0,a.$3)({api:"/authenticateManagedMember",body:{masterId:i,username:"m:"+i+":"+o,password:c},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"!==e.status){(0,a.qu)(!1,"Failed to authenticate."),n("Failed to authenticate.");return}localStorage.setItem("authToken",e.authToken),t((0,s.DS)("v1")),e.nextStep.keyMeta&&(t((0,s.hC)(e.nextStep.keyMeta.displayName)),t(m(e.nextStep.keyMeta))),localStorage.setItem("authState",e.nextStep.step),t(y(e.nextStep)),r()}).catch(e=>{(0,a.qu)(!1,"AuthenticateManagedMember failed: ",e),n("Failed to authenticate.")})}))},S=e=>async(t,r)=>{C(t,o.YZ.VerifyMFA,()=>new Promise(async(r,n)=>{let i=e.MFAToken;(0,a.$3)({api:"/verifyMFAToken",body:{token:i},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"!==e.status){(0,a.qu)(!1,"woo... failed to verify MFA."),n("Failed to verify MFA.");return}localStorage.setItem("MFAPassed","true"),e.nextStep.keyMeta&&(t((0,s.hC)(e.nextStep.keyMeta.displayName)),t(m(e.nextStep.keyMeta))),localStorage.setItem("authState",e.nextStep.step),t(y(e.nextStep)),r()}).catch(e=>{(0,a.qu)(!1,"verifyMFAToken failed: ",e),n("Failed to verify MFA.")})}))},b=e=>async(t,r)=>{C(t,o.YZ.VerifyKeyHash,()=>new Promise(async(n,o)=>{let u;let A={secret:{},keyPack:{}},d=e.key,f=r().v1Account,p=c.util.decode64(f.keyMeta.keySalt);if("0"===f.keyMeta.schemeVersion)u=c.pkcs5.pbkdf2(d,p,1e4,32);else{let e=(await l.hash({pass:d,salt:p,time:2,mem:102400,hashLen:32,parallelism:2,type:l.ArgonType.Argon2id})).hashHex;u=c.util.hexToBytes(e)}A.secret.expandedKey=u;let g=c.md.sha256.create();g.update(u);let h=g.digest().toHex();(0,a.$3)({api:"/memberAPI/verifyV1KeyHash",body:{keyHash:h},dispatch:t}).then(e=>{if((0,a.qu)(!1,e),"ok"!==e.status){(0,a.qu)(!1,"woo... failed to verify keyHash."),o("Failed to verify key hash.");return}!function(){let r=e.randomMessage;r=c.util.encode64(r),A.keyPack.publicKey=c.util.encode64(e.publicKey),A.keyPack.privateKeyEnvelope=e.privateKeyEnvelope,A.keyPack.envelopeIV=e.envelopeIV,A.keyPack.searchKeyEnvelope=e.searchKeyEnvelope,A.keyPack.searchKeyIV=e.searchKeyIV;let l=c.util.decode64(e.envelopeIV),d=c.util.decode64(e.privateKeyEnvelope);d=(0,i.Ag)(d,u,l);let f=c.pki.privateKeyFromPem(d),p=c.md.sha1.create();p.update(r,"utf8");let g=f.sign(p);g=c.util.encode64(g),(0,a.$3)({api:"/memberAPI/verifyV1Challenge",body:{signature:g},dispatch:t}).then(e=>{"ok"==e.status?(A.memberId=e.memberId,A.displayName=e.displayName,(0,a.qu)(!1,"challenge passed"),localStorage.setItem("authState","Unlocked"),(0,i.Ol)(A,e.sessionKey,e.sessionIV,"v1"),t(y(null)),t((0,s.Pl)({sessionKey:e.sessionKey,sessionIV:e.sessionIV})),n()):((0,a.qu)(!1,"woo... failed to verify challenge: ",e.error),o("Challenge failed."))}).catch(e=>{(0,a.qu)(!1,"woo... failed to verify challenge."),o("Challenge failed.")})}()}).catch(e=>{(0,a.qu)(!1,"verifyKeyHash failed: ",e),o("Failed to verify key hash.")})}))},Q=e=>async(e,t)=>{C(e,o.YZ.Lock,()=>new Promise(async(t,r)=>{(0,i.NP)("v1"),e((0,s.k4)()),localStorage.setItem("authState",null),e((0,s.eT)()),(0,a.$3)({api:"/memberAPI/lock",dispatch:e}).then(n=>{if("ok"!==n.status){(0,a.qu)(!1,"woo... failed to lock."),r("Failed to lock.");return}localStorage.setItem("authState",n.nextStep.step),e(y(n.nextStep)),t()}).catch(e=>{(0,a.qu)(!1,"lock failed: ",e),r("Failed to lock.")})}))},T=e=>async(e,t)=>{C(e,o.YZ.SignOut,()=>new Promise(async(t,r)=>{e(I()),e((0,s.k4)()),(0,a.$3)({api:"/memberAPI/signOut",dispatch:e}).then(n=>{if("ok"!==n.status){(0,a.qu)(!1,"woo... failed to signout."),r("Failed to sign out.");return}e(y(null)),t()}).catch(e=>{(0,a.qu)(!1,"lock failed: ",e),r("Failed to sign out.")}),localStorage.clear(),e((0,s.eT)())}))};t.ZP=A},93731:function(){},85211:function(){},56436:function(){},73584:function(){},51073:function(){},75341:function(){},34463:function(){},65253:function(){},71993:function(){},9008:function(e,t,r){e.exports=r(14764)},4298:function(e,t,r){e.exports=r(23773)},8925:function(e,t,r){var n,a,i,o,s,c=r(3832);function l(e,t){c.cipher.registerAlgorithm(e,function(){return new c.aes.Algorithm(e,t)})}r(85649),r(61967),r(97116),e.exports=c.aes=c.aes||{},c.aes.startEncrypting=function(e,t,r,n){var a=p({key:e,output:r,decrypt:!1,mode:n});return a.start(t),a},c.aes.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},c.aes.startDecrypting=function(e,t,r,n){var a=p({key:e,output:r,decrypt:!0,mode:n});return a.start(t),a},c.aes.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},c.aes.Algorithm=function(e,t){u||A();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return f(r._w,e,t,!1)},decrypt:function(e,t){return f(r._w,e,t,!0)}}}),r._init=!1},c.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"==typeof r&&(16===r.length||24===r.length||32===r.length))r=c.util.createBuffer(r);else if(c.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=c.util.createBuffer();for(var n=0;n<t.length;++n)r.putByte(t[n])}if(!c.util.isArray(r)){t=r,r=[];var a=t.length();if(16===a||24===a||32===a){a>>>=2;for(var n=0;n<a;++n)r.push(t.getInt32())}}if(!c.util.isArray(r)||!(4===r.length||6===r.length||8===r.length))throw Error("Invalid key parameter.");var i=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=d(r,e.decrypt&&!i),this._init=!0}},c.aes._expandKey=function(e,t){return u||A(),d(e,t)},c.aes._updateBlock=f,l("AES-ECB",c.cipher.modes.ecb),l("AES-CBC",c.cipher.modes.cbc),l("AES-CFB",c.cipher.modes.cfb),l("AES-OFB",c.cipher.modes.ofb),l("AES-CTR",c.cipher.modes.ctr),l("AES-GCM",c.cipher.modes.gcm);var u=!1;function A(){u=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;n=Array(256),a=Array(256),o=[,,,,],s=[,,,,];for(var t=0;t<4;++t)o[t]=Array(256),s[t]=Array(256);for(var r,c,l,A,d,f,p,g=0,h=0,t=0;t<256;++t){A=(A=h^h<<1^h<<2^h<<3^h<<4)>>8^255&A^99,n[g]=A,a[A]=g,d=e[A],r=e[g],c=e[r],l=e[c],f=d<<24^A<<16^A<<8^(A^d),p=(r^c^l)<<24^(g^l)<<16^(g^c^l)<<8^(g^r^l);for(var y=0;y<4;++y)o[y][g]=f,s[y][A]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===g?g=h=1:(g=r^e[e[e[r^l]]],h^=e[e[h]])}}function d(e,t){for(var r,a=e.slice(0),o=1,c=a.length,l=4*(c+6+1),u=c;u<l;++u)r=a[u-1],u%c==0?(r=n[r>>>16&255]<<24^n[r>>>8&255]<<16^n[255&r]<<8^n[r>>>24]^i[o]<<24,o++):c>6&&u%c==4&&(r=n[r>>>24]<<24^n[r>>>16&255]<<16^n[r>>>8&255]<<8^n[255&r]),a[u]=a[u-c]^r;if(t){var A,d=s[0],f=s[1],p=s[2],g=s[3],h=a.slice(0);l=a.length;for(var u=0,y=l-4;u<l;u+=4,y-=4)if(0===u||u===l-4)h[u]=a[y],h[u+1]=a[y+3],h[u+2]=a[y+2],h[u+3]=a[y+1];else for(var m=0;m<4;++m)A=a[y+m],h[u+(3&-m)]=d[n[A>>>24]]^f[n[A>>>16&255]]^p[n[A>>>8&255]]^g[n[255&A]];a=h}return a}function f(e,t,r,i){var c,l,u,A,d,f,p,g,h,y,m,I,C=e.length/4-1;i?(c=s[0],l=s[1],u=s[2],A=s[3],d=a):(c=o[0],l=o[1],u=o[2],A=o[3],d=n),f=t[0]^e[0],p=t[i?3:1]^e[1],g=t[2]^e[2],h=t[i?1:3]^e[3];for(var E=3,v=1;v<C;++v)y=c[f>>>24]^l[p>>>16&255]^u[g>>>8&255]^A[255&h]^e[++E],m=c[p>>>24]^l[g>>>16&255]^u[h>>>8&255]^A[255&f]^e[++E],I=c[g>>>24]^l[h>>>16&255]^u[f>>>8&255]^A[255&p]^e[++E],h=c[h>>>24]^l[f>>>16&255]^u[p>>>8&255]^A[255&g]^e[++E],f=y,p=m,g=I;r[0]=d[f>>>24]<<24^d[p>>>16&255]<<16^d[g>>>8&255]<<8^d[255&h]^e[++E],r[i?3:1]=d[p>>>24]<<24^d[g>>>16&255]<<16^d[h>>>8&255]<<8^d[255&f]^e[++E],r[2]=d[g>>>24]<<24^d[h>>>16&255]<<16^d[f>>>8&255]<<8^d[255&p]^e[++E],r[i?1:3]=d[h>>>24]<<24^d[f>>>16&255]<<16^d[p>>>8&255]<<8^d[255&g]^e[++E]}function p(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),n=(t=e.decrypt?c.cipher.createDecipher(r,e.key):c.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var a=null;r instanceof c.util.ByteBuffer&&(a=r,r={}),(r=r||{}).output=a,r.iv=e,n.call(t,r)},t}},26164:function(e,t,r){var n=r(3832);r(8925),r(84311);var a=e.exports=n.tls;function i(e,t,r){var i=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",i?r.keys.server_write_key:r.keys.client_write_key),iv:i?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",i?r.keys.client_write_key:r.keys.server_write_key),iv:i?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=l,e.write.cipherFunction=o,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=a.hmac_sha1}function o(e,t){var r,i=!1,o=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(o),t.updateSequenceNumber(),r=e.version.minor===a.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var c=t.cipherState.cipher;return c.start({iv:r}),e.version.minor>=a.Versions.TLS_1_1.minor&&c.output.putBytes(r),c.update(e.fragment),c.finish(s)&&(e.fragment=c.output,e.length=e.fragment.length(),i=!0),i}function s(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function c(e,t,r){var n=!0;if(r){for(var a=t.length(),i=t.last(),o=a-1-i;o<a-1;++o)n=n&&t.at(o)==i;n&&t.truncate(i+1)}return n}function l(e,t){var r,i,o,s,l,u=!1;l=e.version.minor===a.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var A=t.cipherState.cipher;A.start({iv:l}),A.update(e.fragment),u=A.finish(c);var d=t.macLength,f=n.random.getBytesSync(d),p=A.output.length();p>=d?(e.fragment=A.output.getBytes(p-d),f=A.output.getBytes(d)):e.fragment=A.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var g=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=t.macKey,i=f,o=g,(s=n.hmac.create()).start("SHA1",r),s.update(i),i=s.digest().getBytes(),s.start(null,null),s.update(o),u=i===(o=s.digest().getBytes())&&u}a.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,e.cipher_type=a.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=a.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i},a.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,e.cipher_type=a.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=a.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i}},59205:function(e,t,r){var n=r(3832);r(3068);var a=n.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},3068:function(e,t,r){var n=r(3832);r(97116),r(66270);var a=e.exports=n.asn1=n.asn1||{};function i(e,t,r){if(r>t){var n=Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,r,i,o){if(n.util.isArray(i)){for(var s=[],c=0;c<i.length;++c)void 0!==i[c]&&s.push(i[c]);i=s}var l={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(i),value:i};return o&&"bitStringContents"in o&&(l.bitStringContents=o.bitStringContents,l.original=a.copy(l)),l},a.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var i=0;i<e.length;++i)r.push(a.copy(e[i],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:a.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},a.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t)||e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!a.equals(e[i],t[i]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var o=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&a.equals(e.value,t.value);return r&&r.includeBitStringContents&&(o=o&&e.bitStringContents===t.bitStringContents),o},a.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var o=function(e,t){var r,n=e.getByte();if(t--,128!==n){if(128&n){var a=127&n;i(e,t,a),r=e.getInt(a<<3)}else r=n;if(r<0)throw Error("Negative length: "+r);return r}};a.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.length(),s=function e(t,r,n,s){i(t,r,2);var c,l,u,A=t.getByte();r--;var d=192&A,f=31&A;c=t.length();var p=o(t,r);if(r-=c-t.length(),void 0!==p&&p>r){if(s.strict){var g=Error("Too few bytes to read ASN.1 value.");throw g.available=t.length(),g.remaining=r,g.requested=p,g}p=r}var h=(32&A)==32;if(h){if(l=[],void 0===p)for(;;){if(i(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}c=t.length(),l.push(e(t,r,n+1,s)),r-=c-t.length()}else for(;p>0;)c=t.length(),l.push(e(t,p,n+1,s)),r-=c-t.length(),p-=c-t.length()}if(void 0===l&&d===a.Class.UNIVERSAL&&f===a.Type.BITSTRING&&(u=t.bytes(p)),void 0===l&&s.decodeBitStrings&&d===a.Class.UNIVERSAL&&f===a.Type.BITSTRING&&p>1){var y=t.read,m=r,I=0;if(f===a.Type.BITSTRING&&(i(t,r,1),I=t.getByte(),r--),0===I)try{c=t.length();var C=e(t,r,n+1,{strict:!0,decodeBitStrings:!0}),E=c-t.length();r-=E,f==a.Type.BITSTRING&&E++;var v=C.tagClass;E===p&&(v===a.Class.UNIVERSAL||v===a.Class.CONTEXT_SPECIFIC)&&(l=[C])}catch(e){}void 0===l&&(t.read=y,r=m)}if(void 0===l){if(void 0===p){if(s.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");p=r}if(f===a.Type.BMPSTRING)for(l="";p>0;p-=2)i(t,r,2),l+=String.fromCharCode(t.getInt16()),r-=2;else l=t.getBytes(p),r-=p}var B=void 0===u?null:{bitStringContents:u};return a.create(d,f,h,l,B)}(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var c=Error("Unparsed DER bytes remain after ASN.1 parsing.");throw c.byteCount=r,c.remaining=e.length(),c}return s},a.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer(),o=!1;if("bitStringContents"in e&&(o=!0,e.original&&(o=a.equals(e,e.original))),o)i.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:i.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&i.putBuffer(a.toDer(e.value[s]))}else if(e.type===a.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else e.type===a.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&(128&e.value.charCodeAt(1))==0||255===e.value.charCodeAt(0)&&(128&e.value.charCodeAt(1))==128)?i.putBytes(e.value.substr(1)):i.putBytes(e.value);if(t.putByte(r),127>=i.length())t.putByte(127&i.length());else{var c=i.length(),l="";do l+=String.fromCharCode(255&c),c>>>=8;while(c>0);t.putByte(128|l.length);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(i),t},a.oidToDer=function(e){var t,r,a,i,o=e.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var c=2;c<o.length;++c){t=!0,r=[],a=parseInt(o[c],10);do i=127&a,a>>>=7,t||(i|=128),r.push(i),t=!1;while(a>0);for(var l=r.length-1;l>=0;--l)s.putByte(r[l])}return s},a.derToOid=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t,r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var a=0;e.length()>0;)r=e.getByte(),a<<=7,128&r?a+=127&r:(t+="."+(a+r),a=0);return t},a.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var c=e.charAt(10),l=10;"+"!==c&&"-"!==c&&(s=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,n,a),t.setUTCHours(i,o,s,0),l&&("+"===(c=e.charAt(l))||"-"===c)){var u=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);u*=6e4,"+"===c?t.setTime(+t-u):t.setTime(+t+u)}return t},a.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),c=0,l=0,u=!1;"Z"===e.charAt(e.length-1)&&(u=!0);var A=e.length-5,d=e.charAt(A);return("+"===d||"-"===d)&&(l=(60*parseInt(e.substr(A+1,2),10)+parseInt(e.substr(A+4,2),10))*6e4,"+"===d&&(l*=-1),u=!0),"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),u?(t.setUTCFullYear(r,n,a),t.setUTCHours(i,o,s,c),t.setTime(+t+l)):(t.setFullYear(r,n,a),t.setHours(i,o,s,c)),t},a.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},a.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},a.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=Error("Integer too large; max is 32-bits.");throw r.integer=e,r},a.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},a.validate=function(e,t,r,i){var o=!1;if((e.tagClass===t.tagClass||void 0===t.tagClass)&&(e.type===t.type||void 0===t.type)){if(e.constructed===t.constructed||void 0===t.constructed){if(o=!0,t.value&&n.util.isArray(t.value))for(var s=0,c=0;o&&c<t.value.length;++c)o=t.value[c].optional||!1,e.value[s]&&((o=a.validate(e.value[s],t.value[c],r,i))?++s:t.value[c].optional&&(o=!0)),!o&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(o&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"')}else i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return o};var s=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,r){var i="";r=r||2,(t=t||0)>0&&(i+="\n");for(var o="",c=0;c<t*r;++c)o+=" ";switch(i+=o+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:i+="Universal:";break;case a.Class.APPLICATION:i+="Application:";break;case a.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case a.Class.PRIVATE:i+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(i+=e.type,e.type){case a.Type.NONE:i+=" (None)";break;case a.Type.BOOLEAN:i+=" (Boolean)";break;case a.Type.INTEGER:i+=" (Integer)";break;case a.Type.BITSTRING:i+=" (Bit string)";break;case a.Type.OCTETSTRING:i+=" (Octet string)";break;case a.Type.NULL:i+=" (Null)";break;case a.Type.OID:i+=" (Object Identifier)";break;case a.Type.ODESC:i+=" (Object Descriptor)";break;case a.Type.EXTERNAL:i+=" (External or Instance of)";break;case a.Type.REAL:i+=" (Real)";break;case a.Type.ENUMERATED:i+=" (Enumerated)";break;case a.Type.EMBEDDED:i+=" (Embedded PDV)";break;case a.Type.UTF8:i+=" (UTF8)";break;case a.Type.ROID:i+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:i+=" (Sequence)";break;case a.Type.SET:i+=" (Set)";break;case a.Type.PRINTABLESTRING:i+=" (Printable String)";break;case a.Type.IA5String:i+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:i+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case a.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n"+(o+"Constructed: ")+e.constructed+"\n",e.composed){for(var l=0,u="",c=0;c<e.value.length;++c)void 0!==e.value[c]&&(l+=1,u+=a.prettyPrint(e.value[c],t+1,r),c+1<e.value.length&&(u+=","));i+=o+"Sub values: "+l+u}else{if(i+=o+"Value: ",e.type===a.Type.OID){var A=a.derToOid(e.value);i+=A,n.pki&&n.pki.oids&&A in n.pki.oids&&(i+=" ("+n.pki.oids[A]+") ")}if(e.type===a.Type.INTEGER)try{i+=a.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else if(e.type===a.Type.BITSTRING){if(e.value.length>1?i+="0x"+n.util.bytesToHex(e.value.slice(1)):i+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?i+=" (1 unused bit shown)":d>1&&(i+=" ("+d+" unused bits shown)")}}else if(e.type===a.Type.OCTETSTRING)s.test(e.value)||(i+="("+e.value+") "),i+="0x"+n.util.bytesToHex(e.value);else if(e.type===a.Type.UTF8)try{i+=n.util.decodeUtf8(e.value)}catch(t){if("URI malformed"===t.message)i+="0x"+n.util.bytesToHex(e.value)+" (malformed UTF8)";else throw t}else e.type===a.Type.PRINTABLESTRING||e.type===a.Type.IA5String?i+=e.value:s.test(e.value)?i+="0x"+n.util.bytesToHex(e.value):0===e.value.length?i+="[null]":i+=e.value}return i}},78807:function(e,t,r){var n=r(62678).Buffer,a={};e.exports=a;var i={};a.encode=function(e,t,r){if("string"!=typeof t)throw TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var a=0,i=t.length,o=t.charAt(0),s=[0];for(a=0;a<e.length;++a){for(var c=0,l=e[a];c<s.length;++c)l+=s[c]<<8,s[c]=l%i,l=l/i|0;for(;l>0;)s.push(l%i),l=l/i|0}for(a=0;0===e[a]&&a<e.length-1;++a)n+=o;for(a=s.length-1;a>=0;--a)n+=t[s[a]]}else n=function(e,t){var r=0,n=t.length,a=t.charAt(0),i=[0];for(r=0;r<e.length();++r){for(var o=0,s=e.at(r);o<i.length;++o)s+=i[o]<<8,i[o]=s%n,s=s/n|0;for(;s>0;)i.push(s%n),s=s/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=a;for(r=i.length-1;r>=0;--r)c+=t[i[r]];return c}(e,t);if(r){var u=RegExp(".{1,"+r+"}","g");n=n.match(u).join("\r\n")}return n},a.decode=function(e,t){if("string"!=typeof e)throw TypeError('"input" must be a string.');if("string"!=typeof t)throw TypeError('"alphabet" must be a string.');var r=i[t];if(!r){r=i[t]=[];for(var a=0;a<t.length;++a)r[t.charCodeAt(a)]=a}e=e.replace(/\s/g,"");for(var o=t.length,s=t.charAt(0),c=[0],a=0;a<e.length;a++){var l=r[e.charCodeAt(a)];if(void 0===l)return;for(var u=0,A=l;u<c.length;++u)A+=c[u]*o,c[u]=255&A,A>>=8;for(;A>0;)c.push(255&A),A>>=8}for(var d=0;e[d]===s&&d<e.length-1;++d)c.push(0);return void 0!==n?n.from(c.reverse()):new Uint8Array(c.reverse())}},85649:function(e,t,r){var n=r(3832);r(97116),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var a=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};a.prototype.start=function(e){var t={};for(var r in e=e||{})t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},a.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},a.prototype.finish=function(e){e&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!!(this._decrypt||!this.mode.pad||this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),(!this._decrypt||!this.mode.unpad||!!this.mode.unpad(this.output,t))&&(!this.mode.afterFinish||!!this.mode.afterFinish(this.output,t)))}},61967:function(e,t,r){var n=r(3832);r(97116),n.cipher=n.cipher||{};var a=e.exports=n.cipher.modes=n.cipher.modes||{};function i(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var a=0;a<r.length;++a)e.putByte(r[a])}if(e.length()<t)throw Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){for(var i=[],o=t/4,a=0;a<o;++a)i.push(e.getInt32());e=i}return e}function o(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}a.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},a.ecb.prototype.start=function(e){},a.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},a.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},a.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},a.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},a.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},a.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=i(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.")},a.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},a.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},a.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},a.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},a.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialBlock=Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},a.cfb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32()^this._outBlock[a],t.putInt32(this._inBlock[a]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32()^this._outBlock[a],this._partialOutput.putInt32(this._partialBlock[a]);if(i>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0},a.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32(),t.putInt32(this._inBlock[a]^this._outBlock[a]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[a]^this._outBlock[a]);if(i>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0},a.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},a.ofb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]),this._inBlock[a]=this._outBlock[a];return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(i>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._outBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0},a.ofb.prototype.decrypt=a.ofb.prototype.encrypt,a.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},a.ctr.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(i>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},a.ctr.prototype.decrypt=a.ctr.prototype.encrypt,a.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},a.gcm.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");this._hashBlock=Array(this._ints),this.tag=null,this._hashSubkey=Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=r.length();if(12===a)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*a)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=s(8*t.length());var i=t.length()%this.blockSize;for(i&&t.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},a.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^=e.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(i<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var a=0;a<this._ints;++a)this._outBlock[a]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},a.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^this._hashBlock[a]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},a.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var a=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,a);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},a.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),a=0;a<128;++a)e[a/32|0]&1<<31-a%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},a.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},a.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>(7-r%8)*4&15,a=this._m[r][n];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t},a.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},a.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,a=16*r,i=Array(a),o=0;o<a;++o){var s=[0,0,0,0],c=o/n|0,l=(n-1-o%n)*t;s[c]=1<<t-1<<l,i[o]=this.generateSubHashTable(this.multiply(s,e),t)}return i},a.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,a=Array(r);a[n]=e.slice(0);for(var i=n>>>1;i>0;)this.pow(a[2*i],a[i]=[]),i>>=1;for(i=2;i<n;){for(var o=1;o<i;++o){var s=a[i],c=a[o];a[i+o]=[s[0]^c[0],s[1]^c[1],s[2]^c[2],s[3]^c[3]]}i*=2}for(a[0]=[0,0,0,0],i=n+1;i<r;++i){var l=a[i^n];a[i]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return a}},33480:function(e,t,r){var n=r(3832);function a(e,t){n.cipher.registerAlgorithm(e,function(){return new n.des.Algorithm(e,t)})}r(85649),r(61967),r(97116),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var a=p({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return a.start(t),a},n.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var a=p({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return a.start(t),a},n.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return f(r._keys,e,t,!1)},decrypt:function(e,t){return f(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],a=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],A=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],h=e.length()>8?3:1,y=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],I=0,C=0;C<h;C++){var E=e.getInt32(),v=e.getInt32();t=(E>>>4^v)&252645135,v^=t,E^=t<<4,t=(v>>>-16^E)&65535,E^=t,v^=t<<-16,t=(E>>>2^v)&858993459,v^=t,E^=t<<2,t=(v>>>-16^E)&65535,E^=t,v^=t<<-16,t=(E>>>1^v)&1431655765,v^=t,E^=t<<1,t=(v>>>8^E)&16711935,E^=t,v^=t<<8,t=(E>>>1^v)&1431655765,v^=t,E^=t<<1,t=E<<8|v>>>20&240,E=v<<24|v<<8&16711680|v>>>8&65280|v>>>24&240,v=t;for(var B=0;B<m.length;++B){m[B]?(E=E<<2|E>>>26,v=v<<2|v>>>26):(E=E<<1|E>>>27,v=v<<1|v>>>27),v&=-15;var S=r[(E&=-15)>>>28]|n[E>>>24&15]|a[E>>>20&15]|i[E>>>16&15]|o[E>>>12&15]|s[E>>>8&15]|c[E>>>4&15],b=l[v>>>28]|u[v>>>24&15]|A[v>>>20&15]|d[v>>>16&15]|f[v>>>12&15]|p[v>>>8&15]|g[v>>>4&15];t=(b>>>16^S)&65535,y[I++]=S^t,y[I++]=b^t<<16}}return y}(t),this._init=!0}},a("DES-ECB",n.cipher.modes.ecb),a("DES-CBC",n.cipher.modes.cbc),a("DES-CFB",n.cipher.modes.cfb),a("DES-OFB",n.cipher.modes.ofb),a("DES-CTR",n.cipher.modes.ctr),a("3DES-ECB",n.cipher.modes.ecb),a("3DES-CBC",n.cipher.modes.cbc),a("3DES-CFB",n.cipher.modes.cfb),a("3DES-OFB",n.cipher.modes.ofb),a("3DES-CTR",n.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],A=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e,t,r,n){var a,f,p=32===e.length?3:9;a=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],h=t[1];f=(g>>>4^h)&252645135,h^=f,g^=f<<4,f=(g>>>16^h)&65535,h^=f,g^=f<<16,f=(h>>>2^g)&858993459,g^=f,h^=f<<2,f=(h>>>8^g)&16711935,g^=f,h^=f<<8,f=(g>>>1^h)&1431655765,h^=f,g^=f<<1,g=g<<1|g>>>31,h=h<<1|h>>>31;for(var y=0;y<p;y+=3){for(var m=a[y+1],I=a[y+2],C=a[y];C!=m;C+=I){var E=h^e[C],v=(h>>>4|h<<28)^e[C+1];f=g,g=h,h=f^(o[E>>>24&63]|c[E>>>16&63]|u[E>>>8&63]|d[63&E]|i[v>>>24&63]|s[v>>>16&63]|l[v>>>8&63]|A[63&v])}f=g,g=h,h=f}f=((g=g>>>1|g<<31)>>>1^(h=h>>>1|h<<31))&1431655765,h^=f,g^=f<<1,f=(h>>>8^g)&16711935,g^=f,h^=f<<8,f=(h>>>2^g)&858993459,g^=f,h^=f<<2,f=(g>>>16^h)&65535,h^=f,g^=f<<16,f=(g>>>4^h)&252645135,h^=f,g^=f<<4,r[0]=g,r[1]=h}function p(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),a=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof n.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,a.call(t,r)},t}},80069:function(e,t,r){var n=r(62678).Buffer,a=r(3832);r(15764),r(49563),r(63219),r(97116);var i=r(59205),o=i.publicKeyValidator,s=i.privateKeyValidator;if(void 0===c)var c=a.jsbn.BigInteger;var l=a.util.ByteBuffer,u=void 0===n?Uint8Array:n;a.pki=a.pki||{},e.exports=a.pki.ed25519=a.ed25519=a.ed25519||{};var A=a.ed25519;function d(e){var t=e.message;if(t instanceof Uint8Array||t instanceof u)return t;var r=e.encoding;if(void 0===t){if(e.md)t=e.md.digest().getBytes(),r="binary";else throw TypeError('"options.message" or "options.md" not specified.')}if("string"==typeof t&&!r)throw TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if(void 0!==n)return n.from(t,r);t=new l(t,r)}else if(!(t instanceof l))throw TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var a=new u(t.length()),i=0;i<a.length;++i)a[i]=t.at(i);return a}A.constants={},A.constants.PUBLIC_KEY_BYTE_LENGTH=32,A.constants.PRIVATE_KEY_BYTE_LENGTH=64,A.constants.SEED_BYTE_LENGTH=32,A.constants.SIGN_BYTE_LENGTH=64,A.constants.HASH_BYTE_LENGTH=64,A.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=a.random.getBytesSync(A.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==A.constants.SEED_BYTE_LENGTH)throw TypeError('"seed" must be '+A.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=d({message:t,encoding:"binary"});for(var r=new u(A.constants.PUBLIC_KEY_BYTE_LENGTH),n=new u(A.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return function(e,t){var r,n=[_(),_(),_(),_()],a=E(t,32);for(a[0]&=248,a[31]&=127,a[31]|=64,R(n,a),Q(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,n),{publicKey:r,privateKey:n}},A.privateKeyFromAsn1=function(e){var t={},r=[];if(!a.asn1.validate(e,s,t,r)){var n=Error("Invalid Key.");throw n.errors=r,n}var i=a.asn1.derToOid(t.privateKeyOid),o=a.oids.EdDSA25519;if(i!==o)throw Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var c=t.privateKey;return{privateKeyBytes:d({message:a.asn1.fromDer(c).value,encoding:"binary"})}},A.publicKeyFromAsn1=function(e){var t={},r=[];if(!a.asn1.validate(e,o,t,r)){var n=Error("Invalid Key.");throw n.errors=r,n}var i=a.asn1.derToOid(t.publicKeyOid),s=a.oids.EdDSA25519;if(i!==s)throw Error('Invalid OID "'+i+'"; OID must be "'+s+'".');var c=t.ed25519PublicKey;if(c.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return d({message:c,encoding:"binary"})},A.publicKeyFromPrivateKey=function(e){var t=d({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw TypeError('"options.privateKey" must have a byte length of '+A.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new u(A.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},A.sign=function(e){var t=d(e=e||{}),r=d({message:e.privateKey,encoding:"binary"});if(r.length===A.constants.SEED_BYTE_LENGTH)r=A.generateKeyPair({seed:r}).privateKey;else if(r.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw TypeError('"options.privateKey" must have a byte length of '+A.constants.SEED_BYTE_LENGTH+" or "+A.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new u(A.constants.SIGN_BYTE_LENGTH+t.length);(function(e,t,r,n){var a,i,o=new Float64Array(64),s=[_(),_(),_(),_()],c=E(n,32);for(c[0]&=248,c[31]&=127,c[31]|=64,a=0;a<r;++a)e[64+a]=t[a];for(a=0;a<32;++a)e[32+a]=c[32+a];var l=E(e.subarray(32),r+32);for(B(l),R(s,l),Q(e,s),a=32;a<64;++a)e[a]=n[a];var u=E(e,r+64);for(B(u),a=32;a<64;++a)o[a]=0;for(a=0;a<32;++a)o[a]=l[a];for(a=0;a<32;++a)for(i=0;i<32;i++)o[a+i]+=u[a]*c[i];v(e.subarray(32),o)})(n,t,t.length,r);for(var a=new u(A.constants.SIGN_BYTE_LENGTH),i=0;i<a.length;++i)a[i]=n[i];return a},A.verify=function(e){var t,r=d(e=e||{});if(void 0===e.signature)throw TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=d({message:e.signature,encoding:"binary"});if(n.length!==A.constants.SIGN_BYTE_LENGTH)throw TypeError('"options.signature" must have a byte length of '+A.constants.SIGN_BYTE_LENGTH);var a=d({message:e.publicKey,encoding:"binary"});if(a.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw TypeError('"options.publicKey" must have a byte length of '+A.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new u(A.constants.SIGN_BYTE_LENGTH+r.length),o=new u(A.constants.SIGN_BYTE_LENGTH+r.length);for(t=0;t<A.constants.SIGN_BYTE_LENGTH;++t)i[t]=n[t];for(t=0;t<r.length;++t)i[t+A.constants.SIGN_BYTE_LENGTH]=r[t];return function(e,t,r,n){var a,i,o,s,c,l,A,d,h,y,m,I,v,b,T,L=new u(32),P=[_(),_(),_(),_()],O=[_(),_(),_(),_()];if(r<64||(d=_(),h=_(),y=_(),m=_(),I=_(),v=_(),b=_(),(U(O[2],p),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(O[1],n),M(y,a=O[1],a),M(m,y,g),x(y,y,O[2]),F(m,O[2],m),M(I,i=m,i),M(v,o=I,o),M(b,v,I),M(d,b,y),M(d,d,m),function(e,t){var r,n,a=_();for(n=0;n<16;++n)a[n]=t[n];for(n=250;n>=0;--n){M(a,r=a,r),1!==n&&M(a,a,t)}for(n=0;n<16;++n)e[n]=a[n]}(d,d),M(d,d,y),M(d,d,m),M(d,d,m),M(O[0],d,m),M(h,s=O[0],s),M(h,h,m),w(h,y)&&M(O[0],O[0],C),M(h,c=O[0],c),M(h,h,m),w(h,y))?-1:(k(O[0])===n[31]>>7&&x(O[0],f,O[0]),M(O[3],O[0],O[1]),0)))return -1;for(T=0;T<r;++T)e[T]=t[T];for(T=0;T<32;++T)e[T+32]=n[T];var K=E(e,r);if(B(K),D(P,O,K),R(O,t.subarray(32)),S(P,O),Q(L,P),r-=64,l=0,A=0,N(t,0,L,0,32)){for(T=0;T<r;++T)e[T]=0;return -1}for(T=0;T<r;++T)e[T]=t[T+64];return r}(o,i,i.length,a)>=0};var f=_(),p=_([1]),g=_([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=_([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=_([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=_([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),C=_([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(e,t){var r=a.md.sha512.create(),i=new l(e);r.update(i.getBytes(t),"binary");var o=r.digest().getBytes();if(void 0!==n)return n.from(o,"binary");for(var s=new u(A.constants.HASH_BYTE_LENGTH),c=0;c<64;++c)s[c]=o.charCodeAt(c);return s}function v(e,t){var r,n,a,i;for(n=63;n>=32;--n){for(r=0,a=n-32,i=n-12;a<i;++a)t[a]+=r-16*t[n]*I[a-(n-32)],r=t[a]+128>>8,t[a]-=256*r;t[a]+=r,t[n]=0}for(a=0,r=0;a<32;++a)t[a]+=r-(t[31]>>4)*I[a],r=t[a]>>8,t[a]&=255;for(a=0;a<32;++a)t[a]-=r*I[a];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function B(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;v(e,t)}function S(e,t){var r=_(),n=_(),a=_(),i=_(),o=_(),s=_(),c=_(),l=_(),u=_();x(r,e[1],e[0]),x(u,t[1],t[0]),M(r,r,u),F(n,e[0],e[1]),F(u,t[0],t[1]),M(n,n,u),M(a,e[3],t[3]),M(a,a,h),M(i,e[2],t[2]),F(i,i,i),x(o,n,r),x(s,i,a),F(c,i,a),F(l,n,r),M(e[0],o,s),M(e[1],l,c),M(e[2],c,s),M(e[3],o,l)}function b(e,t,r){for(var n=0;n<4;++n)P(e[n],t[n],r)}function Q(e,t){var r=_(),n=_(),a=_();(function(e,t){var r,n,a=_();for(n=0;n<16;++n)a[n]=t[n];for(n=253;n>=0;--n){M(a,r=a,r),2!==n&&4!==n&&M(a,a,t)}for(n=0;n<16;++n)e[n]=a[n]})(a,t[2]),M(r,t[0],a),M(n,t[1],a),T(e,n),e[31]^=k(r)<<7}function T(e,t){var r,n,a,i=_(),o=_();for(r=0;r<16;++r)o[r]=t[r];for(L(o),L(o),L(o),n=0;n<2;++n){for(r=1,i[0]=o[0]-65517;r<15;++r)i[r]=o[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),a=i[15]>>16&1,i[14]&=65535,P(o,i,1-a)}for(r=0;r<16;r++)e[2*r]=255&o[r],e[2*r+1]=o[r]>>8}function w(e,t){var r=new u(32),n=new u(32);return T(r,e),T(n,t),N(r,0,n,0,32)}function N(e,t,r,n,a){var i,o=0;for(i=0;i<a;++i)o|=e[t+i]^r[n+i];return(1&o-1>>>8)-1}function k(e){var t=new u(32);return T(t,e),1&t[0]}function D(e,t,r){var n,a;for(U(e[0],f),U(e[1],p),U(e[2],p),U(e[3],f),a=255;a>=0;--a)b(e,t,n=r[a/8|0]>>(7&a)&1),S(t,e),S(e,e),b(e,t,n)}function R(e,t){var r=[_(),_(),_(),_()];U(r[0],y),U(r[1],m),U(r[2],p),M(r[3],y,m),D(e,r,t)}function U(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function L(e){var t,r,n=1;for(t=0;t<16;++t)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,a=~(r-1),i=0;i<16;++i)n=a&(e[i]^t[i]),e[i]^=n,t[i]^=n}function _(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function F(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function x(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function M(e,t,r){var n,a,i=0,o=0,s=0,c=0,l=0,u=0,A=0,d=0,f=0,p=0,g=0,h=0,y=0,m=0,I=0,C=0,E=0,v=0,B=0,S=0,b=0,Q=0,T=0,w=0,N=0,k=0,D=0,R=0,U=0,L=0,P=0,_=r[0],F=r[1],x=r[2],M=r[3],O=r[4],K=r[5],V=r[6],q=r[7],G=r[8],H=r[9],j=r[10],Y=r[11],J=r[12],z=r[13],W=r[14],X=r[15];i+=(n=t[0])*_,o+=n*F,s+=n*x,c+=n*M,l+=n*O,u+=n*K,A+=n*V,d+=n*q,f+=n*G,p+=n*H,g+=n*j,h+=n*Y,y+=n*J,m+=n*z,I+=n*W,C+=n*X,o+=(n=t[1])*_,s+=n*F,c+=n*x,l+=n*M,u+=n*O,A+=n*K,d+=n*V,f+=n*q,p+=n*G,g+=n*H,h+=n*j,y+=n*Y,m+=n*J,I+=n*z,C+=n*W,E+=n*X,s+=(n=t[2])*_,c+=n*F,l+=n*x,u+=n*M,A+=n*O,d+=n*K,f+=n*V,p+=n*q,g+=n*G,h+=n*H,y+=n*j,m+=n*Y,I+=n*J,C+=n*z,E+=n*W,v+=n*X,c+=(n=t[3])*_,l+=n*F,u+=n*x,A+=n*M,d+=n*O,f+=n*K,p+=n*V,g+=n*q,h+=n*G,y+=n*H,m+=n*j,I+=n*Y,C+=n*J,E+=n*z,v+=n*W,B+=n*X,l+=(n=t[4])*_,u+=n*F,A+=n*x,d+=n*M,f+=n*O,p+=n*K,g+=n*V,h+=n*q,y+=n*G,m+=n*H,I+=n*j,C+=n*Y,E+=n*J,v+=n*z,B+=n*W,S+=n*X,u+=(n=t[5])*_,A+=n*F,d+=n*x,f+=n*M,p+=n*O,g+=n*K,h+=n*V,y+=n*q,m+=n*G,I+=n*H,C+=n*j,E+=n*Y,v+=n*J,B+=n*z,S+=n*W,b+=n*X,A+=(n=t[6])*_,d+=n*F,f+=n*x,p+=n*M,g+=n*O,h+=n*K,y+=n*V,m+=n*q,I+=n*G,C+=n*H,E+=n*j,v+=n*Y,B+=n*J,S+=n*z,b+=n*W,Q+=n*X,d+=(n=t[7])*_,f+=n*F,p+=n*x,g+=n*M,h+=n*O,y+=n*K,m+=n*V,I+=n*q,C+=n*G,E+=n*H,v+=n*j,B+=n*Y,S+=n*J,b+=n*z,Q+=n*W,T+=n*X,f+=(n=t[8])*_,p+=n*F,g+=n*x,h+=n*M,y+=n*O,m+=n*K,I+=n*V,C+=n*q,E+=n*G,v+=n*H,B+=n*j,S+=n*Y,b+=n*J,Q+=n*z,T+=n*W,w+=n*X,p+=(n=t[9])*_,g+=n*F,h+=n*x,y+=n*M,m+=n*O,I+=n*K,C+=n*V,E+=n*q,v+=n*G,B+=n*H,S+=n*j,b+=n*Y,Q+=n*J,T+=n*z,w+=n*W,N+=n*X,g+=(n=t[10])*_,h+=n*F,y+=n*x,m+=n*M,I+=n*O,C+=n*K,E+=n*V,v+=n*q,B+=n*G,S+=n*H,b+=n*j,Q+=n*Y,T+=n*J,w+=n*z,N+=n*W,k+=n*X,h+=(n=t[11])*_,y+=n*F,m+=n*x,I+=n*M,C+=n*O,E+=n*K,v+=n*V,B+=n*q,S+=n*G,b+=n*H,Q+=n*j,T+=n*Y,w+=n*J,N+=n*z,k+=n*W,D+=n*X,y+=(n=t[12])*_,m+=n*F,I+=n*x,C+=n*M,E+=n*O,v+=n*K,B+=n*V,S+=n*q,b+=n*G,Q+=n*H,T+=n*j,w+=n*Y,N+=n*J,k+=n*z,D+=n*W,R+=n*X,m+=(n=t[13])*_,I+=n*F,C+=n*x,E+=n*M,v+=n*O,B+=n*K,S+=n*V,b+=n*q,Q+=n*G,T+=n*H,w+=n*j,N+=n*Y,k+=n*J,D+=n*z,R+=n*W,U+=n*X,I+=(n=t[14])*_,C+=n*F,E+=n*x,v+=n*M,B+=n*O,S+=n*K,b+=n*V,Q+=n*q,T+=n*G,w+=n*H,N+=n*j,k+=n*Y,D+=n*J,R+=n*z,U+=n*W,L+=n*X,C+=(n=t[15])*_,E+=n*F,v+=n*x,B+=n*M,S+=n*O,b+=n*K,Q+=n*V,T+=n*q,w+=n*G,N+=n*H,k+=n*j,D+=n*Y,R+=n*J,U+=n*z,L+=n*W,P+=n*X,i+=38*E,o+=38*v,s+=38*B,c+=38*S,l+=38*b,u+=38*Q,A+=38*T,d+=38*w,f+=38*N,p+=38*k,g+=38*D,h+=38*R,y+=38*U,m+=38*L,I+=38*P,a=Math.floor((n=i+(a=1)+65535)/65536),i=n-65536*a,a=Math.floor((n=o+a+65535)/65536),o=n-65536*a,a=Math.floor((n=s+a+65535)/65536),s=n-65536*a,a=Math.floor((n=c+a+65535)/65536),c=n-65536*a,a=Math.floor((n=l+a+65535)/65536),l=n-65536*a,a=Math.floor((n=u+a+65535)/65536),u=n-65536*a,a=Math.floor((n=A+a+65535)/65536),A=n-65536*a,a=Math.floor((n=d+a+65535)/65536),d=n-65536*a,a=Math.floor((n=f+a+65535)/65536),f=n-65536*a,a=Math.floor((n=p+a+65535)/65536),p=n-65536*a,a=Math.floor((n=g+a+65535)/65536),g=n-65536*a,a=Math.floor((n=h+a+65535)/65536),h=n-65536*a,a=Math.floor((n=y+a+65535)/65536),y=n-65536*a,a=Math.floor((n=m+a+65535)/65536),m=n-65536*a,a=Math.floor((n=I+a+65535)/65536),I=n-65536*a,a=Math.floor((n=C+a+65535)/65536),C=n-65536*a,i+=a-1+37*(a-1),a=Math.floor((n=i+(a=1)+65535)/65536),i=n-65536*a,a=Math.floor((n=o+a+65535)/65536),o=n-65536*a,a=Math.floor((n=s+a+65535)/65536),s=n-65536*a,a=Math.floor((n=c+a+65535)/65536),c=n-65536*a,a=Math.floor((n=l+a+65535)/65536),l=n-65536*a,a=Math.floor((n=u+a+65535)/65536),u=n-65536*a,a=Math.floor((n=A+a+65535)/65536),A=n-65536*a,a=Math.floor((n=d+a+65535)/65536),d=n-65536*a,a=Math.floor((n=f+a+65535)/65536),f=n-65536*a,a=Math.floor((n=p+a+65535)/65536),p=n-65536*a,a=Math.floor((n=g+a+65535)/65536),g=n-65536*a,a=Math.floor((n=h+a+65535)/65536),h=n-65536*a,a=Math.floor((n=y+a+65535)/65536),y=n-65536*a,a=Math.floor((n=m+a+65535)/65536),m=n-65536*a,a=Math.floor((n=I+a+65535)/65536),I=n-65536*a,a=Math.floor((n=C+a+65535)/65536),C=n-65536*a,i+=a-1+37*(a-1),e[0]=i,e[1]=o,e[2]=s,e[3]=c,e[4]=l,e[5]=u,e[6]=A,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=h,e[12]=y,e[13]=m,e[14]=I,e[15]=C}},3832:function(e){e.exports={options:{usePureJavaScript:!1}}},36607:function(e,t,r){var n=r(3832);r(28991),r(97116),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,a=null,i={};return i.start=function(i,o){if(null!==i){if("string"==typeof i){if((i=i.toLowerCase())in n.md.algorithms)t=n.md.algorithms[i].create();else throw Error('Unknown hash algorithm "'+i+'"')}else t=i}if(null===o)o=e;else{if("string"==typeof o)o=n.util.createBuffer(o);else if(n.util.isArray(o)){var s=o;o=n.util.createBuffer();for(var c=0;c<s.length;++c)o.putByte(s[c])}var l=o.length();l>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=n.util.createBuffer(),a=n.util.createBuffer(),l=o.length();for(var c=0;c<l;++c){var s=o.at(c);r.putByte(54^s),a.putByte(92^s)}if(l<t.blockLength)for(var s=t.blockLength-l,c=0;c<s;++c)r.putByte(54),a.putByte(92);e=o,r=r.bytes(),a=a.bytes()}t.start(),t.update(r)},i.update=function(e){t.update(e)},i.getMac=function(){var e=t.digest().bytes();return t.start(),t.update(a),t.update(e),t.digest()},i.digest=i.getMac,i}},22079:function(e,t,r){e.exports=r(3832),r(8925),r(26164),r(3068),r(85649),r(33480),r(80069),r(36607),r(96366),r(84145),r(43389),r(83453),r(98960),r(26953),r(18936),r(55147),r(79437),r(4742),r(29654),r(74933),r(96007),r(49563),r(69372),r(77173),r(84311),r(97116)},15764:function(e,t,r){var n,a,i,o=r(3832);function s(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function c(){return new s(null)}function l(e,t,r,n,a,i){for(var o=16383&t,s=t>>14;--i>=0;){var c=16383&this.data[e],l=this.data[e++]>>14,u=s*c+l*o;a=((c=o*c+((16383&u)<<14)+r.data[n]+a)>>28)+(u>>14)+s*l,r.data[n++]=268435455&c}return a}e.exports=o.jsbn=o.jsbn||{},o.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=l,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,r,n,a,i){for(var o=32767&t,s=t>>15;--i>=0;){var c=32767&this.data[e],l=this.data[e++]>>15,u=s*c+l*o;a=((c=o*c+((32767&u)<<15)+r.data[n]+(1073741823&a))>>>30)+(u>>>15)+s*l+(a>>>30),r.data[n++]=1073741823&c}return a},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,r,n,a,i){for(;--i>=0;){var o=t*this.data[e++]+r.data[n]+a;a=Math.floor(o/67108864),r.data[n++]=67108863&o}return a},n=26):(s.prototype.am=l,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n,s.prototype.FV=4503599627370496,s.prototype.F1=52-n,s.prototype.F2=2*n-52;var u=[];for(i=0,a=48;i<=9;++i)u[a++]=i;for(i=10,a=97;i<36;++i)u[a++]=i;for(i=10,a=65;i<36;++i)u[a++]=i;function A(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=u[e.charCodeAt(t)];return null==r?-1:r}function f(e){var t=c();return t.fromInt(e),t}function p(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function h(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function m(e,t){return e|t}function I(e,t){return e^t}function C(e,t){return e&~t}function E(){}function v(e){return e}function B(e){this.r2=c(),this.q3=c(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},h.prototype.convert=function(e){var t=c();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},h.prototype.revert=function(e){var t=c();return e.copyTo(t),this.reduce(t),t},h.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},h.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else if(4==t)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var r,n=e.length,a=!1,i=0;--n>=0;){var o=8==r?255&e[n]:d(e,n);if(o<0){"-"==e.charAt(n)&&(a=!0);continue}a=!1,0==i?this.data[this.t++]=o:i+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this.data[this.t++]=o>>this.DB-i):this.data[this.t-1]|=o<<i,(i+=r)>=this.DB&&(i-=this.DB)}8==r&&(128&e[0])!=0&&(this.s=-1,i>0&&(this.data[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),a&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,a=this.DB-n,i=(1<<a)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+o+1]=this.data[r]>>a|s,s=(this.data[r]&i)<<n;for(r=o-1;r>=0;--r)t.data[r]=0;t.data[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&i)<<a,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()},s.prototype.subTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},s.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),a=r.t;for(t.t=a+n.t;--a>=0;)t.data[a]=0;for(a=0;a<n.t;++a)t.data[a+r.t]=r.am(0,n.data[a],t,a,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var a=this.abs();if(a.t<n.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=c());var i=c(),o=this.s,l=e.s,u=this.DB-p(n.data[n.t-1]);u>0?(n.lShiftTo(u,i),a.lShiftTo(u,r)):(n.copyTo(i),a.copyTo(r));var A=i.t,d=i.data[A-1];if(0!=d){var f=d*(1<<this.F1)+(A>1?i.data[A-2]>>this.F2:0),g=this.FV/f,h=(1<<this.F1)/f,y=1<<this.F2,m=r.t,I=m-A,C=null==t?c():t;for(i.dlShiftTo(I,C),r.compareTo(C)>=0&&(r.data[r.t++]=1,r.subTo(C,r)),s.ONE.dlShiftTo(A,C),C.subTo(i,i);i.t<A;)i.data[i.t++]=0;for(;--I>=0;){var E=r.data[--m]==d?this.DM:Math.floor(r.data[m]*g+(r.data[m-1]+y)*h);if((r.data[m]+=i.am(0,E,r,I,0,A))<E)for(i.dlShiftTo(I,C),r.subTo(C,r);r.data[m]<--E;)r.subTo(C,r)}null!=t&&(r.drShiftTo(A,t),o!=l&&s.ZERO.subTo(t,t)),r.t=A,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return(this.t>0?1&this.data[0]:this.s)==0},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var r=c(),n=c(),a=t.convert(this),i=p(e)-1;for(a.copyTo(r);--i>=0;)if(t.sqrTo(r,n),(e&1<<i)>0)t.mulTo(n,a,r);else{var o=r;r=n,n=o}return t.revert(r)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var t,r,n=(1<<t)-1,a=!1,i="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(r=this.data[o]>>s)>0&&(a=!0,i=A(r));o>=0;)s<t?r=(this.data[o]&(1<<s)-1)<<t-s|this.data[--o]>>(s+=this.DB-t):(r=this.data[o]>>(s-=t)&n,s<=0&&(s+=this.DB,--o)),r>0&&(a=!0),a&&(i+=A(r));return a?i:"0"},s.prototype.negate=function(){var e=c();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=c();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new h(t),this.exp(e,r)},s.ZERO=f(0),s.ONE=f(1),E.prototype.convert=v,E.prototype.revert=v,E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},E.prototype.sqrTo=function(e,t){e.squareTo(t)},B.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(0>e.compareTo(this.m))return e;var t=c();return e.copyTo(t),this.reduce(t),t},B.prototype.revert=function(e){return e},B.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},B.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},B.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],b=67108864/S[S.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=f(r),a=c(),i=c(),o="";for(this.divRemTo(n,a,i);a.signum()>0;)o=(r+i.intValue()).toString(e).substr(1)+o,a.divRemTo(n,a,i);return i.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),a=!1,i=0,o=0,c=0;c<e.length;++c){var l=d(e,c);if(l<0){"-"==e.charAt(c)&&0==this.signum()&&(a=!0);continue}o=t*o+l,++i>=r&&(this.dMultiply(n),this.dAddOffset(o,0),i=0,o=0)}i>0&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(o,0)),a&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,r){if("number"==typeof t){if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this)}else{var n=[],a=7&e;n.length=(e>>3)+1,t.nextBytes(n),a>0?n[0]&=(1<<a)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(e,t,r){var n,a,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(a=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(a,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},s.prototype.changeBit=function(e,t){var r=s.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},s.prototype.addTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,r){var n,a=Math.min(this.t+e.t,t);for(r.s=0,r.t=a;a>0;)r.data[--a]=0;for(n=r.t-this.t;a<n;++a)r.data[a+this.t]=this.am(0,e.data[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e.data[a],r,a,0,t-a);r.clamp()},s.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0){if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e}return r},s.prototype.millerRabin=function(e){var t,r=this.subtract(s.ONE),n=r.getLowestSetBit();if(n<=0)return!1;for(var a=r.shiftRight(n),i={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do t=new s(this.bitLength(),i);while(0>=t.compareTo(s.ONE)||t.compareTo(r)>=0);var c=t.modPow(a,this);if(0!=c.compareTo(s.ONE)&&0!=c.compareTo(r)){for(var l=1;l++<n&&0!=c.compareTo(r);)if(0==(c=c.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=c.compareTo(r))return!1}}return!0},s.prototype.clone=function(){var e=c();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return -1}else if(1==this.t)return this.data[0];else if(0==this.t)return 0;return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var r,n=this.DB-e*this.DB%8,a=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[a++]=r|this.s<<this.DB-n);e>=0;)n<8?r=(this.data[e]&(1<<n)-1)<<8-n|this.data[--e]>>(n+=this.DB-8):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(128&r)!=0&&(r|=-256),0==a&&(128&this.s)!=(128&r)&&++a,(a>0||r!=this.s)&&(t[a++]=r);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return 0>this.compareTo(e)?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=c();return this.bitwiseTo(e,y,t),t},s.prototype.or=function(e){var t=c();return this.bitwiseTo(e,m,t),t},s.prototype.xor=function(e){var t=c();return this.bitwiseTo(e,I,t),t},s.prototype.andNot=function(e){var t=c();return this.bitwiseTo(e,C,t),t},s.prototype.not=function(){for(var e=c(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=c();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=c();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+function(e){if(0==e)return -1;var t=0;return(65535&e)==0&&(e>>=16,t+=16),(255&e)==0&&(e>>=8,t+=8),(15&e)==0&&(e>>=4,t+=4),(3&e)==0&&(e>>=2,t+=2),(1&e)==0&&++t,t}(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=function(e){for(var t=0;0!=e;)e&=e-1,++t;return t}(this.data[r]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:(this.data[t]&1<<e%this.DB)!=0},s.prototype.setBit=function(e){return this.changeBit(e,m)},s.prototype.clearBit=function(e){return this.changeBit(e,C)},s.prototype.flipBit=function(e){return this.changeBit(e,I)},s.prototype.add=function(e){var t=c();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=c();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=c();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=c();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=c();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=c(),r=c();return this.divRemTo(e,t,r),[t,r]},s.prototype.modPow=function(e,t){var r,n,a=e.bitLength(),i=f(1);if(a<=0)return i;r=a<18?1:a<48?3:a<144?4:a<768?5:6,n=a<8?new g(t):t.isEven()?new B(t):new h(t);var o=[],s=3,l=r-1,u=(1<<r)-1;if(o[1]=n.convert(this),r>1){var A=c();for(n.sqrTo(o[1],A);s<=u;)o[s]=c(),n.mulTo(A,o[s-2],o[s]),s+=2}var d,y,m=e.t-1,I=!0,C=c();for(a=p(e.data[m])-1;m>=0;){for(a>=l?d=e.data[m]>>a-l&u:(d=(e.data[m]&(1<<a+1)-1)<<l-a,m>0&&(d|=e.data[m-1]>>this.DB+a-l)),s=r;(1&d)==0;)d>>=1,--s;if((a-=s)<0&&(a+=this.DB,--m),I)o[d].copyTo(i),I=!1;else{for(;s>1;)n.sqrTo(i,C),n.sqrTo(C,i),s-=2;s>0?n.sqrTo(i,C):(y=i,i=C,C=y),n.mulTo(C,o[d],i)}for(;m>=0&&(e.data[m]&1<<a)==0;)n.sqrTo(i,C),y=i,i=C,C=y,--a<0&&(a=this.DB-1,--m)}return n.revert(i)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var r=e.clone(),n=this.clone(),a=f(1),i=f(0),o=f(0),c=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&i.isEven()||(a.addTo(this,a),i.subTo(e,i)),a.rShiftTo(1,a)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&a.subTo(o,a),i.subTo(c,i)):(n.subTo(r,n),t&&o.subTo(a,o),c.subTo(i,c))}return 0!=n.compareTo(s.ONE)?s.ZERO:c.compareTo(e)>=0?c.subtract(e):0>c.signum()&&(c.addTo(e,c),0>c.signum())?c.add(e):c},s.prototype.pow=function(e){return this.exp(e,new E)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(0>t.compareTo(r)){var n=t;t=r,r=n}var a=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(a<i&&(i=a),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},s.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=S[S.length-1]){for(t=0;t<S.length;++t)if(r.data[0]==S[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<S.length;){for(var n=S[t],a=t+1;a<S.length&&n<b;)n*=S[a++];for(n=r.modInt(n);t<a;)if(n%S[t++]==0)return!1}return r.millerRabin(e)}},96366:function(e,t,r){var n=r(3832);r(97116),r(49563),r(15764),e.exports=n.kem=n.kem||{};var a=n.jsbn.BigInteger;function i(e,t,r,a){e.generate=function(e,i){for(var o=new n.util.ByteBuffer,s=Math.ceil(i/a)+r,c=new n.util.ByteBuffer,l=r;l<s;++l){c.putInt32(l),t.start(),t.update(e+c.getBytes());var u=t.digest();o.putBytes(u.getBytes(a))}return o.truncate(o.length()-i),o.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,i={};return i.encrypt=function(t,i){var o,s=Math.ceil(t.n.bitLength()/8);do o=new a(n.util.bytesToHex(r.getBytesSync(s)),16).mod(t.n);while(0>=o.compareTo(a.ONE));var c=s-(o=n.util.hexToBytes(o.toString(16))).length;return c>0&&(o=n.util.fillString("\x00",c)+o),{encapsulation:t.encrypt(o,"NONE"),key:e.generate(o,i)}},i.decrypt=function(t,r,n){var a=t.decrypt(r,"NONE");return e.generate(a,n)},i},n.kem.kdf1=function(e,t){i(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){i(this,e,1,t||e.digestLength)}},84145:function(e,t,r){var n,a=r(3832);r(97116),e.exports=a.log=a.log||{},a.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},o=[],s=null;a.log.LEVEL_LOCKED=2,a.log.NO_LEVEL_CHECK=4,a.log.INTERPOLATE=8;for(var c=0;c<a.log.levels.length;++c){var l=a.log.levels[c];i[l]={index:c,name:l.toUpperCase()}}a.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<o.length;++r){var n=o[r];n.flags&a.log.NO_LEVEL_CHECK?n.f(e):t<=i[n.level].index&&n.f(n,e)}},a.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},a.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=a.util.format.apply(this,t)}},a.log.prepareStandardFull=function(e){"standardFull"in e||(a.log.prepareStandard(e),e.standardFull=e.standard)};for(var u=["error","warning","info","debug","verbose"],c=0;c<u.length;++c)!function(e){a.log[e]=function(t,r){var n=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:t,message:r,arguments:n};a.log.logMessage(i)}}(u[c]);if(a.log.makeLogger=function(e){var t={flags:0,f:e};return a.log.setLevel(t,"none"),t},a.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&a.log.LEVEL_LOCKED)){for(var n=0;n<a.log.levels.length;++n)if(t==a.log.levels[n]){e.level=t,r=!0;break}}return r},a.log.lock=function(e,t){void 0===t||t?e.flags|=a.log.LEVEL_LOCKED:e.flags&=~a.log.LEVEL_LOCKED},a.log.addLogger=function(e){o.push(e)},"undefined"!=typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug){var A={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){a.log.prepareStandard(t);var r=A[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};n=a.log.makeLogger(d)}else{var d=function(e,t){a.log.prepareStandardFull(t),console.log(t.standardFull)};n=a.log.makeLogger(d)}a.log.setLevel(n,"debug"),a.log.addLogger(n),s=n}else console={log:function(){}};if(null!==s&&"undefined"!=typeof window&&window.location){var f=new URL(window.location.href).searchParams;f.has("console.level")&&a.log.setLevel(s,f.get("console.level").slice(-1)[0]),f.has("console.lock")&&"true"==f.get("console.lock").slice(-1)[0]&&a.log.lock(s)}a.log.consoleLogger=s},43389:function(e,t,r){e.exports=r(28991),r(25063),r(137),r(41668),r(63219)},28991:function(e,t,r){var n=r(3832);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},25063:function(e,t,r){var n=r(3832);r(28991),r(97116);var a=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=a,a.create=function(){l||function(){i=String.fromCharCode(128)+n.util.fillString("\x00",64),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));l=!0}();var e=null,t=n.util.createBuffer(),r=Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,i=0;i<r;++i)a.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a},a.start(),a.update=function(i,o){"utf8"===o&&(i=n.util.encodeUtf8(i));var s=i.length;a.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=s[1],s[1]=s[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var s=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;o.putBytes(i.substr(0,a.blockLength-s));for(var c,l=0,A=a.fullMessageLength.length-1;A>=0;--A)l=(c=8*a.fullMessageLength[A]+l)/4294967296>>>0,o.putInt32Le(c>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};u(d,r,o);var f=n.util.createBuffer();return f.putInt32Le(d.h0),f.putInt32Le(d.h1),f.putInt32Le(d.h2),f.putInt32Le(d.h3),f},a};var i=null,o=null,s=null,c=null,l=!1;function u(e,t,r){for(var n,a,i,l,u,A,d,f=r.length();f>=64;){for(d=0,a=e.h0,i=e.h1,l=e.h2,u=e.h3;d<16;++d)t[d]=r.getInt32Le(),n=a+(u^i&(l^u))+c[d]+t[d],A=s[d],a=u,u=l,l=i,i+=n<<A|n>>>32-A;for(;d<32;++d)n=a+(l^u&(i^l))+c[d]+t[o[d]],A=s[d],a=u,u=l,l=i,i+=n<<A|n>>>32-A;for(;d<48;++d)n=a+(i^l^u)+c[d]+t[o[d]],A=s[d],a=u,u=l,l=i,i+=n<<A|n>>>32-A;for(;d<64;++d)n=a+(l^(i|~u))+c[d]+t[o[d]],A=s[d],a=u,u=l,l=i,i+=n<<A|n>>>32-A;e.h0=e.h0+a|0,e.h1=e.h1+i|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,f-=64}}},86971:function(e,t,r){var n=r(3832);r(83453),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},83453:function(e,t,r){var n=r(3832);r(97116),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var a=new n.util.ByteBuffer,i=Math.ceil(r/e.digestLength),o=0;o<i;o++){var s=new n.util.ByteBuffer;s.putInt32(o),e.start(),e.update(t+s.getBytes()),a.putBuffer(e.digest())}return a.truncate(a.length()-r),a.getBytes()}}}},66270:function(e,t,r){var n=r(3832);n.pki=n.pki||{};var a=e.exports=n.pki.oids=n.oids=n.oids||{};function i(e,t){a[e]=t,a[t]=e}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("1.3.14.3.2.29","sha1WithRSASignature"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("2.16.840.1.101.3.4.2.4","sha224"),i("2.16.840.1.101.3.4.2.5","sha512-224"),i("2.16.840.1.101.3.4.2.6","sha512-256"),i("1.2.840.113549.2.2","md2"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.4","surname"),i("2.5.4.5","serialNumber"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.12","title"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("2.5.4.42","givenName"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),a["2.5.29.1"]="authorityKeyIdentifier",a["2.5.29.2"]="keyAttributes",a["2.5.29.3"]="certificatePolicies",a["2.5.29.4"]="keyUsageRestriction",a["2.5.29.5"]="policyMapping",a["2.5.29.6"]="subtreesConstraint",a["2.5.29.7"]="subjectAltName",a["2.5.29.8"]="issuerAltName",a["2.5.29.9"]="subjectDirectoryAttributes",a["2.5.29.10"]="basicConstraints",a["2.5.29.11"]="nameConstraints",a["2.5.29.12"]="policyConstraints",a["2.5.29.13"]="basicConstraints",i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),a["2.5.29.16"]="privateKeyUsagePeriod",i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),a["2.5.29.20"]="cRLNumber",a["2.5.29.21"]="cRLReason",a["2.5.29.22"]="expirationDate",a["2.5.29.23"]="instructionCode",a["2.5.29.24"]="invalidityDate",a["2.5.29.25"]="cRLDistributionPoints",a["2.5.29.26"]="issuingDistributionPoint",a["2.5.29.27"]="deltaCRLIndicator",a["2.5.29.28"]="issuingDistributionPoint",a["2.5.29.29"]="certificateIssuer",a["2.5.29.30"]="nameConstraints",i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),a["2.5.29.33"]="policyMappings",a["2.5.29.34"]="policyConstraints",i("2.5.29.35","authorityKeyIdentifier"),a["2.5.29.36"]="policyConstraints",i("2.5.29.37","extKeyUsage"),a["2.5.29.46"]="freshestCRL",a["2.5.29.54"]="inhibitAnyPolicy",i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},97450:function(e,t,r){var n=r(3832);if(r(8925),r(3068),r(33480),r(28991),r(66270),r(98960),r(26953),r(49563),r(69372),r(28095),r(97116),void 0===a)var a=n.jsbn.BigInteger;var i=n.asn1,o=n.pki=n.pki||{};e.exports=o.pbe=n.pbe=n.pbe||{};var s=o.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},u={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function A(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=o.oids[i.derToOid(e)])){var r=Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return f(t)}function f(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw Error("Unknown hash algorithm: "+e);return t[e].create()}o.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var a=n.random.getBytesSync(r.saltSize),c=r.count,l=i.integerToDer(c);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){switch(r.algorithm){case"aes128":d=16,h=16,y=s["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":d=24,h=16,y=s["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":d=32,h=16,y=s["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":d=8,h=8,y=s.desCBC,m=n.des.createEncryptionCipher;break;default:var u,A,d,p,g,h,y,m,I=Error("Cannot encrypt private key. Unknown encryption algorithm.");throw I.algorithm=r.algorithm,I}var C="hmacWith"+r.prfAlgorithm.toUpperCase(),E=f(C),v=n.pkcs5.pbkdf2(t,a,c,d,E),B=n.random.getBytesSync(h),S=m(v);S.start(B),S.update(i.toDer(e)),S.finish(),g=S.output.getBytes();var b=(u=d,A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,a),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,l.getBytes())]),"hmacWithSHA1"!==C&&A.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(u.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids[C]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),A);p=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.pkcs5PBKDF2).getBytes()),b]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(y).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B)])])])}else if("3des"===r.algorithm){d=24;var Q=new n.util.ByteBuffer(a),v=o.pbe.generatePkcs12Key(t,Q,1,c,d),B=o.pbe.generatePkcs12Key(t,Q,2,c,d),S=n.des.createEncryptionCipher(v);S.start(B),S.update(i.toDer(e)),S.finish(),g=S.output.getBytes(),p=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,a),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,l.getBytes())])])}else{var I=Error("Cannot encrypt private key. Unknown encryption algorithm.");throw I.algorithm=r.algorithm,I}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[p,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,g)])},o.decryptPrivateKeyInfo=function(e,t){var r=null,a={},s=[];if(!i.validate(e,c,a,s)){var l=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var u=i.derToOid(a.encryptionOid),A=o.pbe.getCipher(u,a.encryptionParams,t),d=n.util.createBuffer(a.encryptedData);return A.update(d),A.finish()&&(r=i.fromDer(A.output)),r},o.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},o.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(t.body)},o.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var a,s,c,l,u=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));return u=o.encryptPrivateKeyInfo(u,t,r),o.encryptedPrivateKeyToPem(u)}switch(r.algorithm){case"aes128":a="AES-128-CBC",c=16,s=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":a="AES-192-CBC",c=24,s=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":a="AES-256-CBC",c=32,s=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":a="DES-EDE3-CBC",c=24,s=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":a="DES-CBC",c=8,s=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var A=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw A.algorithm=r.algorithm,A}var d=l(n.pbe.opensslDeriveBytes(t,s.substr(0,8),c));d.start(s),d.update(i.toDer(o.privateKeyToAsn1(e))),d.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:a,parameters:n.util.bytesToHex(s).toUpperCase()},body:d.output.getBytes()};return n.pem.encode(f)},o.decryptRsaPrivateKey=function(e,t){var r=null,a=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==a.type&&"PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type){var s=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(a.procType&&"ENCRYPTED"===a.procType.type){switch(a.dekInfo.algorithm){case"DES-CBC":c=8,l=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":c=24,l=n.des.createDecryptionCipher;break;case"AES-128-CBC":c=16,l=n.aes.createDecryptionCipher;break;case"AES-192-CBC":c=24,l=n.aes.createDecryptionCipher;break;case"AES-256-CBC":c=32,l=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":c=5,l=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":c=8,l=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":c=16,l=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var c,l,s=Error('Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".');throw s.algorithm=a.dekInfo.algorithm,s}var u=n.util.hexToBytes(a.dekInfo.parameters),A=l(n.pbe.opensslDeriveBytes(t,u.substr(0,8),c));if(A.start(u),A.update(n.util.createBuffer(a.body)),!A.finish())return r;r=A.output.getBytes()}else r=a.body;return null!==(r="ENCRYPTED PRIVATE KEY"===a.type?o.decryptPrivateKeyInfo(i.fromDer(r),t):i.fromDer(r))&&(r=o.privateKeyFromAsn1(r)),r},o.pbe.generatePkcs12Key=function(e,t,r,a,i,o){if(null==o){if(!("sha1"in n.md))throw Error('"sha1" hash algorithm unavailable.');o=n.md.sha1.create()}var s,c,l=o.digestLength,u=o.blockLength,A=new n.util.ByteBuffer,d=new n.util.ByteBuffer;if(null!=e){for(c=0;c<e.length;c++)d.putInt16(e.charCodeAt(c));d.putInt16(0)}var f=d.length(),p=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,u);var h=u*Math.ceil(p/u),y=new n.util.ByteBuffer;for(c=0;c<h;c++)y.putByte(t.at(c%p));var m=u*Math.ceil(f/u),I=new n.util.ByteBuffer;for(c=0;c<m;c++)I.putByte(d.at(c%f));var C=y;C.putBuffer(I);for(var E=Math.ceil(i/l),v=1;v<=E;v++){var B=new n.util.ByteBuffer;B.putBytes(g.bytes()),B.putBytes(C.bytes());for(var S=0;S<a;S++)o.start(),o.update(B.getBytes()),B=o.digest();var b=new n.util.ByteBuffer;for(c=0;c<u;c++)b.putByte(B.at(c%l));var Q=Math.ceil(p/u)+Math.ceil(f/u),T=new n.util.ByteBuffer;for(s=0;s<Q;s++){var w=new n.util.ByteBuffer(C.getBytes(u)),N=511;for(c=b.length()-1;c>=0;c--)N>>=8,N+=b.at(c)+w.at(c),w.setAt(c,255&N);T.putBuffer(w)}C=T,A.putBuffer(B)}return A.truncate(A.length()-i),A},o.pbe.getCipher=function(e,t,r){switch(e){case o.oids.pkcs5PBES2:return o.pbe.getCipherForPBES2(e,t,r);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},o.pbe.getCipherForPBES2=function(e,t,r){var a,s,c={},u=[];if(!i.validate(t,l,c,u)){var A=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw A.errors=u,A}if((e=i.derToOid(c.kdfOid))!==o.oids.pkcs5PBKDF2){var A=Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw A.oid=e,A.supportedOids=["pkcs5PBKDF2"],A}if((e=i.derToOid(c.encOid))!==o.oids["aes128-CBC"]&&e!==o.oids["aes192-CBC"]&&e!==o.oids["aes256-CBC"]&&e!==o.oids["des-EDE3-CBC"]&&e!==o.oids.desCBC){var A=Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw A.oid=e,A.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],A}var f=c.kdfSalt,p=n.util.createBuffer(c.kdfIterationCount);switch(p=p.getInt(p.length()<<3),o.oids[e]){case"aes128-CBC":a=16,s=n.aes.createDecryptionCipher;break;case"aes192-CBC":a=24,s=n.aes.createDecryptionCipher;break;case"aes256-CBC":a=32,s=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":a=24,s=n.des.createDecryptionCipher;break;case"desCBC":a=8,s=n.des.createDecryptionCipher}var g=d(c.prfOid),h=n.pkcs5.pbkdf2(r,f,p,a,g),y=c.encIv,m=s(h);return m.start(y),m},o.pbe.getCipherForPKCS12PBE=function(e,t,r){var a,s,c,l={},A=[];if(!i.validate(t,u,l,A)){var f=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw f.errors=A,f}var p=n.util.createBuffer(l.salt),g=n.util.createBuffer(l.iterations);switch(g=g.getInt(g.length()<<3),e){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:a=24,s=8,c=n.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:a=5,s=8,c=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var f=Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw f.oid=e,f}var h=d(l.prfOid),y=o.pbe.generatePkcs12Key(r,p,1,g,a,h);return h.start(),c(y,o.pbe.generatePkcs12Key(r,p,2,g,s,h))},o.pbe.opensslDeriveBytes=function(e,t,r,a){if(null==a){if(!("md5"in n.md))throw Error('"md5" hash algorithm unavailable.');a=n.md.md5.create()}null===t&&(t="");for(var i=[A(a,e+t)],o=16,s=1;o<r;++s,o+=16)i.push(A(a,i[s-1]+e+t));return i.join("").substr(0,r)}},98960:function(e,t,r){var n,a=r(62678).Buffer,i=r(3832);r(36607),r(28991),r(97116);var o=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(n=r(25819)),e.exports=i.pbkdf2=o.pbkdf2=function(e,t,r,o,s,c){if("function"==typeof s&&(c=s,s=null),i.util.isNodejs&&!i.options.usePureJavaScript&&n.pbkdf2&&(null===s||"object"!=typeof s)&&(n.pbkdf2Sync.length>4||!s||"sha1"===s))return("string"!=typeof s&&(s="sha1"),e=a.from(e,"binary"),t=a.from(t,"binary"),c)?4===n.pbkdf2Sync.length?n.pbkdf2(e,t,r,o,function(e,t){if(e)return c(e);c(null,t.toString("binary"))}):n.pbkdf2(e,t,r,o,s,function(e,t){if(e)return c(e);c(null,t.toString("binary"))}):4===n.pbkdf2Sync.length?n.pbkdf2Sync(e,t,r,o).toString("binary"):n.pbkdf2Sync(e,t,r,o,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in i.md.algorithms))throw Error("Unknown hash algorithm: "+s);s=i.md[s].create()}var l=s.digestLength;if(o>4294967295*l){var u=Error("Derived key is too long.");if(c)return c(u);throw u}var A=Math.ceil(o/l),d=o-(A-1)*l,f=i.hmac.create();f.start(s,e);var p="";if(!c){for(var g=1;g<=A;++g){f.start(null,null),f.update(t),f.update(i.util.int32ToBytes(g)),y=I=f.digest().getBytes();for(var h=2;h<=r;++h)f.start(null,null),f.update(I),m=f.digest().getBytes(),y=i.util.xorBytes(y,m,l),I=m;p+=g<A?y:y.substr(0,d)}return p}var y,m,I,h,g=1;(function e(){if(g>A)return c(null,p);f.start(null,null),f.update(t),f.update(i.util.int32ToBytes(g)),y=I=f.digest().getBytes(),h=2,function t(){if(h<=r)return f.start(null,null),f.update(I),m=f.digest().getBytes(),y=i.util.xorBytes(y,m,l),I=m,++h,i.util.setImmediate(t);p+=g<A?y:y.substr(0,d),++g,e()}()})()}},26953:function(e,t,r){var n=r(3832);r(97116);var a=e.exports=n.pem=n.pem||{};function i(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},a=0;a<e.values.length;++a)r.push(e.values[a].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";for(var i=0,o=-1,a=0;a<t.length;++a,++i)if(i>65&&-1!==o){var s=t[o];","===s?(++o,t=t.substr(0,o)+"\r\n "+t.substr(o)):t=t.substr(0,o)+"\r\n"+s+t.substr(o+1),i=a-o-1,o=-1,++a}else(" "===t[a]||"	"===t[a]||","===t[a])&&(o=a);return t}a.encode=function(e,t){t=t||{};var r,a="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(a+=i(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(a+=i(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),a+=i(r)),e.headers)for(var o=0;o<e.headers.length;++o)a+=i(e.headers[o]);return e.procType&&(a+="\r\n"),a+=n.util.encode64(e.body,t.maxline||64)+"\r\n-----END "+e.type+"-----\r\n"},a.decode=function(e){for(var t,r=[],a=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=a.exec(e);){var s=t[1];"NEW CERTIFICATE REQUEST"===s&&(s="CERTIFICATE REQUEST");var c={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var l=t[2].split(o),u=0;t&&u<l.length;){for(var A=l[u].replace(/\s+$/,""),d=u+1;d<l.length;++d){var f=l[d];if(!/\s/.test(f[0]))break;A+=f,u=d}if(t=A.match(i)){for(var p={name:t[1],values:[]},g=t[2].split(","),h=0;h<g.length;++h)p.values.push(g[h].replace(/^\s+/,""));if(c.procType){if(c.contentDomain||"Content-Domain"!==p.name){if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}}else c.contentDomain=g[0]||""}else{if("Proc-Type"!==p.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++u}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw Error("Invalid PEM formatted message.");return r}},18936:function(e,t,r){var n=r(3832);r(97116),r(49563),r(137);var a=e.exports=n.pkcs1=n.pkcs1||{};function i(e,t,r){r||(r=n.md.sha1.create());for(var a="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(e+s),a+=r.digest().getBytes()}return a.substring(0,t)}a.encode_rsa_oaep=function(e,t,r){"string"==typeof r?(a=r,o=arguments[3]||void 0,s=arguments[4]||void 0):r&&(a=r.label||void 0,o=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),c||(c=s);var a,o,s,c,l=Math.ceil(e.n.bitLength()/8),u=l-2*s.digestLength-2;if(t.length>u){var A=Error("RSAES-OAEP input message length is too long.");throw A.length=t.length,A.maxLength=u,A}a||(a=""),s.update(a,"raw");for(var d=s.digest(),f="",p=u-t.length,g=0;g<p;g++)f+="\x00";var h=d.getBytes()+f+"\x01"+t;if(o){if(o.length!==s.digestLength){var A=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw A.seedLength=o.length,A.digestLength=s.digestLength,A}}else o=n.random.getBytes(s.digestLength);var y=i(o,l-s.digestLength-1,c),m=n.util.xorBytes(h,y,h.length),I=i(m,s.digestLength,c);return"\x00"+n.util.xorBytes(o,I,o.length)+m},a.decode_rsa_oaep=function(e,t,r){"string"==typeof r?(a=r,o=arguments[3]||void 0):r&&(a=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a,o,s,c=Math.ceil(e.n.bitLength()/8);if(t.length!==c){var l=Error("RSAES-OAEP encoded message length is invalid.");throw l.length=t.length,l.expectedLength=c,l}if(void 0===o?o=n.md.sha1.create():o.start(),s||(s=o),c<2*o.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var u=o.digest().getBytes(),A=t.charAt(0),d=t.substring(1,o.digestLength+1),f=t.substring(1+o.digestLength),p=i(f,o.digestLength,s),g=i(n.util.xorBytes(d,p,d.length),c-o.digestLength-1,s),h=n.util.xorBytes(f,g,f.length),y=h.substring(0,o.digestLength),l="\x00"!==A,m=0;m<o.digestLength;++m)l|=u.charAt(m)!==y.charAt(m);for(var I=1,C=o.digestLength,E=o.digestLength;E<h.length;E++){var v=h.charCodeAt(E),B=1&v^1;l|=v&(I?65534:0),I&=B,C+=I}if(l||1!==h.charCodeAt(C))throw Error("Invalid RSAES-OAEP padding.");return h.substring(C+1)}},55147:function(e,t,r){var n=r(3832);r(3068),r(36607),r(66270),r(95496),r(97450),r(49563),r(28095),r(137),r(97116),r(25414);var a=n.asn1,i=n.pki,o=e.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},u={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},A={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(e,t,r,n){for(var a=[],i=0;i<e.length;i++)for(var o=0;o<e[i].safeBags.length;o++){var s=e[i].safeBags[o];if(void 0===n||s.type===n){if(null===t){a.push(s);continue}void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&a.push(s)}}return a}function f(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var p={};if(!a.validate(e,c,p,[])){var g=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw g.errors=g,g}var h={version:p.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=d(h.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=d(h.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=d(h.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return d(h.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(h.safeContents,"localKeyId",e,t)}};if(3!==p.version.charCodeAt(0)){var g=Error("PKCS#12 PFX of version other than 3 not supported.");throw g.version=p.version.charCodeAt(0),g}if(a.derToOid(p.contentType)!==i.oids.data){var g=Error("Only PKCS#12 PFX in password integrity mode supported.");throw g.oid=a.derToOid(p.contentType),g}var y=p.content.value[0];if(y.tagClass!==a.Class.UNIVERSAL||y.type!==a.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=f(y),p.mac){var m=null,I=0,C=a.derToOid(p.macAlgorithm);switch(C){case i.oids.sha1:m=n.md.sha1.create(),I=20;break;case i.oids.sha256:m=n.md.sha256.create(),I=32;break;case i.oids.sha384:m=n.md.sha384.create(),I=48;break;case i.oids.sha512:m=n.md.sha512.create(),I=64;break;case i.oids.md5:m=n.md.md5.create(),I=16}if(null===m)throw Error("PKCS#12 uses unsupported MAC algorithm: "+C);var E=new n.util.ByteBuffer(p.macSalt),v="macIterations"in p?parseInt(n.util.bytesToHex(p.macIterations),16):1,B=o.generateKey(r,E,3,v,I,m),S=n.hmac.create();if(S.start(m,B),S.update(y.value),S.getMac().getBytes()!==p.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,o){if((t=a.fromDer(t,r)).tagClass!==a.Class.UNIVERSAL||t.type!==a.Type.SEQUENCE||!0!==t.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<t.value.length;c++){var d=t.value[c],p={},g=[];if(!a.validate(d,s,p,g)){var h=Error("Cannot read ContentInfo.");throw h.errors=g,h}var y={encrypted:!1},m=null,I=p.content.value[0];switch(a.derToOid(p.contentType)){case i.oids.data:if(I.tagClass!==a.Class.UNIVERSAL||I.type!==a.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");m=f(I).value;break;case i.oids.encryptedData:m=function(e,t){var r={},o=[];if(!a.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,o)){var s=Error("Cannot read EncryptedContentInfo.");throw s.errors=o,s}var c=a.derToOid(r.contentType);if(c!==i.oids.data){var s=Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=c,s}c=a.derToOid(r.encAlgorithm);var l=i.pbe.getCipher(c,r.encParameter,t),u=f(r.encryptedContentAsn1),A=n.util.createBuffer(u.value);if(l.update(A),!l.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}(I,o),y.encrypted=!0;break;default:var h=Error("Unsupported PKCS#12 contentType.");throw h.contentType=a.derToOid(p.contentType),h}y.safeBags=function(e,t,r){if(!t&&0===e.length)return[];if((e=a.fromDer(e,t)).tagClass!==a.Class.UNIVERSAL||e.type!==a.Type.SEQUENCE||!0!==e.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<e.value.length;o++){var s,c,d=e.value[o],f={},p=[];if(!a.validate(d,l,f,p)){var g=Error("Cannot read SafeBag.");throw g.errors=p,g}var h={type:a.derToOid(f.bagId),attributes:function(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},o=[];if(!a.validate(e[r],u,n,o)){var s=Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=o,s}var c=a.derToOid(n.oid);if(void 0!==i.oids[c]){t[i.oids[c]]=[];for(var l=0;l<n.values.length;++l)t[i.oids[c]].push(n.values[l].value)}}return t}(f.bagAttributes)};n.push(h);var y=f.bagValue.value[0];switch(h.type){case i.oids.pkcs8ShroudedKeyBag:if(null===(y=i.decryptPrivateKeyInfo(y,r)))throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{h.key=i.privateKeyFromAsn1(y)}catch(e){h.key=null,h.asn1=y}continue;case i.oids.certBag:s=A,c=function(){if(a.derToOid(f.certId)!==i.oids.x509Certificate){var e=Error("Unsupported certificate type, only X.509 supported.");throw e.oid=a.derToOid(f.certId),e}var r=a.fromDer(f.cert,t);try{h.cert=i.certificateFromAsn1(r,!0)}catch(e){h.cert=null,h.asn1=r}};break;default:var g=Error("Unsupported PKCS#12 SafeBag type.");throw g.oid=h.type,g}if(void 0!==s&&!a.validate(y,s,f,p)){var g=Error("Cannot read PKCS#12 "+s.name);throw g.errors=p,g}c()}return n}(m,r,o),e.safeContents.push(y)}}(h,y.value,t,r),h},o.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var c,l,u=s.localKeyId;if(null!==u)u=n.util.hexToBytes(u);else if(s.generateLocalKeyId){if(t){var A=n.util.isArray(t)?t[0]:t;"string"==typeof A&&(A=i.certificateFromPem(A));var d=n.md.sha1.create();d.update(a.toDer(i.certificateToAsn1(A)).getBytes()),u=d.digest().getBytes()}else u=n.random.getBytes(20)}var f=[];null!==u&&f.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,u)])])),"friendlyName"in s&&f.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,s.friendlyName)])])),f.length>0&&(c=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,f));var p=[],g=[];null!==t&&(g=n.util.isArray(t)?t:[t]);for(var h=[],y=0;y<g.length;++y){"string"==typeof(t=g[y])&&(t=i.certificateFromPem(t));var m=0===y?c:void 0,I=i.certificateToAsn1(t),C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(I).getBytes())])])]),m]);h.push(C)}if(h.length>0){var E=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,h),v=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(E).getBytes())])]);p.push(v)}var B=null;if(null!==e){var S=i.wrapRsaPrivateKey(i.privateKeyToAsn1(e));B=null===r?a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[S]),c]):a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(S,r,s)]),c]);var b=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[B]),Q=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(b).getBytes())])]);p.push(Q)}var T=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,p);if(s.useMac){var d=n.md.sha1.create(),w=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),N=s.count,e=o.generateKey(r,w,3,N,20),k=n.hmac.create();k.start(d,e),k.update(a.toDer(T).getBytes());var D=k.getMac();l=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,D.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,w.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(N).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(T).getBytes())])]),l])},o.generateKey=n.pbe.generatePkcs12Key},79437:function(e,t,r){var n=r(3832);r(8925),r(3068),r(33480),r(66270),r(26953),r(95496),r(49563),r(97116),r(25414);var a=n.asn1,i=e.exports=n.pkcs7=n.pkcs7||{};function o(e){var t;if(e.type===n.pki.oids.contentType)t=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var s=Date.parse(o);o=isNaN(s)?13===o.length?a.utcTimeToDate(o):a.generalizedTimeToDate(o):new Date(s)}t=o>=r&&o<i?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(o)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(o))}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[t])])}function s(e,t,r){var i={};if(!a.validate(t,r,i,[])){var o=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(a.derToOid(i.contentType)!==n.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var s="";if(n.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==a.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=i.encryptedContent[c].value}else s=i.encryptedContent;e.encryptedContent={algorithm:a.derToOid(i.encAlgorithm),parameter:n.util.createBuffer(i.encParameter.value),content:n.util.createBuffer(s)}}if(i.content){var s="";if(n.util.isArray(i.content))for(var c=0;c<i.content.length;++c){if(i.content[c].type!==a.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=i.content[c].value}else s=i.content;e.content=n.util.createBuffer(s)}return e.version=i.version.charCodeAt(0),e.rawCapture=i,i}function c(e){if(void 0===e.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw Error("Symmetric decryption failed.");e.content=t.output}}i.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=a.fromDer(t.body);return i.messageFromAsn1(o)},i.messageToPem=function(e,t){var r={type:"PKCS7",body:a.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},i.messageFromAsn1=function(e){var t,r={},o=[];if(!a.validate(e,i.asn1.contentInfoValidator,r,o)){var s=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=o,s}var c=a.derToOid(r.contentType);switch(c){case n.pki.oids.envelopedData:t=i.createEnvelopedData();break;case n.pki.oids.encryptedData:t=i.createEncryptedData();break;case n.pki.oids.signedData:t=i.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return t.fromAsn1(r.content.value[0]),t},i.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(s(e,t,i.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,a=0;a<r.length;++a)e.certificates.push(n.pki.certificateFromAsn1(r[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var i=[],o=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&o.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,t)),i.length>0&&o.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,i)),o.value[0].value.push(a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.signerInfos)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var r=t.issuer,a=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=n.pki.certificateFromPem(i)),r=i.issuer.attributes,a=i.serialNumber}var o=t.key;if(!o)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=n.pki.privateKeyFromPem(o));var s=t.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var l=!1,u=!1,A=0;A<c.length;++A){var d=c[A];if(!l&&d.type===n.pki.oids.contentType){if(l=!0,u)break;continue}if(!u&&d.type===n.pki.oids.messageDigest){if(u=!0,l)break;continue}}if(!l||!u)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:r,serialNumber:a,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(t){if(t=t||{},("object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(n.pki.oids.data).getBytes())]),"content"in e)){var r;e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,r)]))}0!==e.signers.length&&function(t){if(!(r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0]))throw Error("Could not sign PKCS#7 message; there is no content to sign.");var r,i=a.derToOid(e.contentInfo.value[0].value),s=a.toDer(r);for(var c in s.getByte(),a.getBerValueLength(s),s=s.getBytes(),t)t[c].start().update(s);for(var l=new Date,u=0;u<e.signers.length;++u){var A=e.signers[u];if(0===A.authenticatedAttributes.length){if(i!==n.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{A.authenticatedAttributesAsn1=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[]),f=0;f<A.authenticatedAttributes.length;++f){var p=A.authenticatedAttributes[f];p.type===n.pki.oids.messageDigest?p.value=t[A.digestAlgorithm].digest():p.type!==n.pki.oids.signingTime||p.value||(p.value=l),d.value.push(o(p)),A.authenticatedAttributesAsn1.value.push(o(p))}s=a.toDer(d).getBytes(),A.md.start().update(s)}A.signature=A.key.sign(A.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.digestAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<e.unauthenticatedAttributes.length;++i){var s=e.unauthenticatedAttributes[i];r.values.push(o(s))}t.value.push(r)}return t}(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var i=e.signers[r],o=i.digestAlgorithm;o in t||(t[o]=n.md[n.pki.oids[o]].create()),0===i.authenticatedAttributes.length?i.md=t[o]:i.md=n.md[n.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return t}())},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){s(e,t,i.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),c(e)}}},i.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=s(e,t,i.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(function(e){var t={},r=[];if(!a.validate(e,i.asn1.recipientInfoValidator,t,r)){var o=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=r,o}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:a.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){var t;return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,function(e){for(var t,r=[],i=0;i<e.length;++i)r.push((t=e[i],a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}(e.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,(t=e.encryptedContent,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(n.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.algorithm).getBytes()),t.parameter?a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var a=e.recipients[n],i=a.issuer;if(a.serialNumber===t.serialNumber&&i.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(i[s].type!==r[s].type||i[s].value!==r[s].value){o=!1;break}if(o)return a}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var a=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(a);break;default:throw Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}c(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:a=16,i=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:a=24,i=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:a=32,i=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:a=24,i=8,o=n.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(a));else if(t.length()!=a)throw Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+a+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(i));var a,i,o,s=o(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var c=0;c<e.recipients.length;++c){var l=e.recipients[c];if(void 0===l.encryptedContent.content){if(l.encryptedContent.algorithm===n.pki.oids.rsaEncryption)l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);else throw Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}}}},95496:function(e,t,r){var n=r(3832);r(3068),r(97116);var a=n.asn1,i=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=i;var o={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=o;var s={name:"EncryptedContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},i.encryptedDataValidator={name:"EncryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var c={name:"SignerInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},4742:function(e,t,r){var n=r(3832);r(3068),r(66270),r(97450),r(26953),r(98960),r(55147),r(96007),r(28095),r(97116),r(25414);var a=n.asn1,i=e.exports=n.pki=n.pki||{};i.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},i.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");var o=a.fromDer(t.body);return i.privateKeyFromAsn1(o)},i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:a.toDer(i.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:a.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},29654:function(e,t,r){var n=r(3832);r(97116),r(15764),r(49563),function(){if(n.prime){e.exports=n.prime;return}var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],i=new r(null);i.fromInt(30);var o=function(e,t){return e|t};function s(e,t,r,i){var o,s=c(e,t),l=(o=s.bitLength())<=100?27:o<=150?18:o<=200?15:o<=250?12:o<=300?9:o<=350?8:o<=400?7:o<=500?6:o<=600?5:o<=800?4:o<=1250?3:2;"millerRabinTests"in r&&(l=r.millerRabinTests);var u=10;"maxBlockTime"in r&&(u=r.maxBlockTime),function e(t,r,i,o,s,l,u){var A=+new Date;do{if(t.bitLength()>r&&(t=c(r,i)),t.isProbablePrime(s))return u(null,t);t.dAddOffset(a[o++%8],0)}while(l<0||+new Date-A<l);n.util.setImmediate(function(){e(t,r,i,o,s,l,u)})}(s,e,t,0,l,u,i)}function c(e,t){var n=new r(e,t),a=e-1;return n.testBit(a)||n.bitwiseTo(r.ONE.shiftLeft(a),o,n),n.dAddOffset(31-n.mod(i).byteValue(),0),n}t.generateProbablePrime=function(e,t,a){"function"==typeof t&&(a=t,t={});var i,o,l,u=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof u&&(u={name:u}),u.options=u.options||{};var A=t.prng||n.random;if("PRIMEINC"===u.name)return i={nextBytes:function(e){for(var t=A.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},o=u.options,l=a,"workers"in o?function(e,t,a,i){if("undefined"==typeof Worker)return s(e,t,a,i);var o=c(e,t),l=a.workers,u=a.workLoad||100,A=30*u/8,d=a.workerScript||"forge/prime.worker.js";if(-1===l)return n.util.estimateCores(function(e,t){e&&(t=2),l=t-1,f()});function f(){l=Math.max(1,l);for(var n=[],a=0;a<l;++a)n[a]=new Worker(d);for(var s=l,a=0;a<l;++a)n[a].addEventListener("message",p);var f=!1;function p(a){if(!f){--s;var l=a.data;if(l.found){for(var d=0;d<n.length;++d)n[d].terminate();return f=!0,i(null,new r(l.prime,16))}o.bitLength()>e&&(o=c(e,t));var p=o.toString(16);a.target.postMessage({hex:p,workLoad:u}),o.dAddOffset(A,0)}}}f()}(e,i,o,l):s(e,i,o,l);throw Error("Invalid prime generation algorithm: "+u.name)}}()},74933:function(e,t,r){var n=r(24112),a=r(3832);r(97116);var i=null;!a.util.isNodejs||a.options.usePureJavaScript||n.versions["node-webkit"]||(i=r(25819)),(e.exports=a.prng=a.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=Array(32),o=0;o<32;++o)n[o]=r.create();function s(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var a=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(a),t.generated=0}function c(e){var t=null,r=a.util.globalScope,n=r.crypto||r.msCrypto;n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)});var i=a.util.createBuffer();if(t)for(;i.length()<e;){var o=Math.max(1,Math.min(e-i.length(),65536)/4),s=new Uint32Array(Math.floor(o));try{t(s);for(var c=0;c<s.length;++c)i.putInt32(s[c])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var l,u,A,d=Math.floor(65536*Math.random());i.length()<e;){d=4294967295&(u=(2147483647&(u=16807*(65535&d)+(((32767&(l=16807*(d>>16)))<<16)+(l>>15))))+(u>>31));for(var c=0;c<3;++c)A=d>>>(c<<3)^Math.floor(256*Math.random()),i.putByte(255&A)}return i.getBytes(e)}return t.pools=n,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,c=t.plugin.formatSeed,l=a.util.createBuffer();t.key=null,function u(A){if(A)return r(A);if(l.length()>=e)return r(null,l.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return a.util.nextTick(function(){(function(e){if(t.pools[0].messageLength>=32)return s(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,function(r,n){if(r)return e(r);t.collect(n),s(),e()})})(u)});var d=n(t.key,t.seed);t.generated+=d.length,l.putBytes(d),t.key=o(n(t.key,i(t.seed))),t.seed=c(n(t.key,t.seed)),a.util.setImmediate(u)}()},t.generateSync=function(e){var r=t.plugin.cipher,n=t.plugin.increment,i=t.plugin.formatKey,o=t.plugin.formatSeed;t.key=null;for(var c=a.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&function(){if(t.pools[0].messageLength>=32)return s();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),s()}();var l=r(t.key,t.seed);t.generated+=l.length,c.putBytes(l),t.key=i(r(t.key,n(t.seed))),t.seed=o(r(t.key,t.seed))}return c.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,function(e,r){if(e)return t(e);t(null,r.toString())})},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",a=0;a<r;a+=8)n+=String.fromCharCode(e>>a&255);t.collect(n)},t.registerWorker=function(e){e===self?t.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})})},t}},96007:function(e,t,r){var n=r(3832);r(49563),r(97116),(e.exports=n.pss=n.pss||{}).create=function(e){3==arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,a=e.mgf,i=r.digestLength,o=e.salt||null;if("string"==typeof o&&(o=n.util.createBuffer(o)),"saltLength"in e)t=e.saltLength;else if(null!==o)t=o.length();else throw Error("Salt length not specified or specific salt not given.");if(null!==o&&o.length()!==t)throw Error("Given salt length does not match length of given salt.");var s=e.prng||n.random,c={};return c.encode=function(e,c){var l,u,A=c-1,d=Math.ceil(A/8),f=e.digest().getBytes();if(d<i+t+2)throw Error("Message is too long to encrypt.");u=null===o?s.getBytesSync(t):o.bytes();var p=new n.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(f),p.putBytes(u),r.start(),r.update(p.getBytes());var g=r.digest().getBytes(),h=new n.util.ByteBuffer;h.fillWithByte(0,d-t-i-2),h.putByte(1),h.putBytes(u);var y=h.getBytes(),m=d-i-1,I=a.generate(g,m),C="";for(l=0;l<m;l++)C+=String.fromCharCode(y.charCodeAt(l)^I.charCodeAt(l));return(C=String.fromCharCode(C.charCodeAt(0)&~(65280>>8*d-A&255))+C.substr(1))+g+String.fromCharCode(188)},c.verify=function(e,o,s){var c,l=s-1,u=Math.ceil(l/8);if(o=o.substr(-u),u<i+t+2)throw Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(u-1))throw Error("Encoded message does not end in 0xBC.");var A=u-i-1,d=o.substr(0,A),f=o.substr(A,i),p=65280>>8*u-l&255;if((d.charCodeAt(0)&p)!=0)throw Error("Bits beyond keysize not zero as expected.");var g=a.generate(f,A),h="";for(c=0;c<A;c++)h+=String.fromCharCode(d.charCodeAt(c)^g.charCodeAt(c));h=String.fromCharCode(h.charCodeAt(0)&~p)+h.substr(1);var y=u-i-t-2;for(c=0;c<y;c++)if(0!==h.charCodeAt(c))throw Error("Leftmost octets not zero as expected");if(1!==h.charCodeAt(y))throw Error("Inconsistent PSS signature, 0x01 marker not found");var m=h.substr(-t),I=new n.util.ByteBuffer;return I.fillWithByte(0,8),I.putBytes(e),I.putBytes(m),r.start(),r.update(I.getBytes()),f===r.digest().getBytes()},c}},49563:function(e,t,r){var n=r(3832);r(8925),r(41668),r(74933),r(97116),function(){if(n.random&&n.random.getBytes){e.exports=n.random;return}!function(t){var r={},a=[,,,,],i=n.util.createBuffer();function o(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=[,,,,])[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=[,,,,])[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,a,!1),i.putInt32(a[0]),i.putInt32(a[1]),i.putInt32(a[2]),i.putInt32(a[3]),i.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var s=o(),c=null,l=n.util.globalScope,u=l.crypto||l.msCrypto;if(u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var A="";for(var d in navigator)try{"string"==typeof navigator[d]&&(A+=navigator[d])}catch(e){}s.collect(A),A=null}t&&(t().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),t().keypress(function(e){s.collectInt(e.charCode,8)}))}if(n.random)for(var d in s)n.random[d]=s[d];else n.random=s;n.random.createInstance=o,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)}()},69372:function(e,t,r){var n=r(3832);r(97116);var a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5];e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,i=e,o=e.length(),s=t,c=Math.ceil(s/8);for(r=o;r<128;r++)i.putByte(a[i.at(r-1)+i.at(r-o)&255]);for(i.setAt(128-c,a[i.at(128-c)&255>>(7&s)]),r=127-c;r>=0;r--)i.setAt(r,a[i.at(r+1)^i.at(r+c)]);return i};var o=function(e,t,r){var a,o,s,c,l=!1,u=null,A=null,d=null,f=[];for(s=0,e=n.rc2.expandKey(e,t);s<64;s++)f.push(e.getInt16Le());r?(a=function(e){for(s=0;s<4;s++){var t,r;e[s]+=f[c]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),e[s]=(t=e[s])<<(r=i[s])&65535|(65535&t)>>16-r,c++}},o=function(e){for(s=0;s<4;s++)e[s]+=f[63&e[(s+3)%4]]}):(a=function(e){for(s=3;s>=0;s--){var t,r;e[s]=(65535&(t=e[s]))>>(r=i[s])|t<<16-r&65535,e[s]-=f[c]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),c--}},o=function(e){for(s=3;s>=0;s--)e[s]-=f[63&e[(s+3)%4]]});var p=function(e){var t=[];for(s=0;s<4;s++){var n=u.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}c=r?0:63;for(var a=0;a<e.length;a++)for(var i=0;i<e[a][0];i++)e[a][1](t);for(s=0;s<4;s++)null!==d&&(r?d.putInt16Le(t[s]):t[s]^=d.getInt16Le()),A.putInt16Le(t[s])},g=null;return g={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),l=!1,u=n.util.createBuffer(),A=t||new n.util.createBuffer,d=e,g.output=A},update:function(e){for(l||u.putBuffer(e);u.length()>=8;)p([[5,a],[1,o],[6,a],[1,o],[5,a]])},finish:function(e){var t=!0;if(r){if(e)t=e(8,u,!r);else{var n=8===u.length()?8:8-u.length();u.fillWithByte(n,n)}}if(t&&(l=!0,g.update()),!r&&(t=0===u.length())){if(e)t=e(8,A,!r);else{var a=A.length(),i=A.at(a-1);i>a?t=!1:A.truncate(i)}}return t}}};n.rc2.startEncrypting=function(e,t,r){var a=n.rc2.createEncryptionCipher(e,128);return a.start(t,r),a},n.rc2.createEncryptionCipher=function(e,t){return o(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var a=n.rc2.createDecryptionCipher(e,128);return a.start(t,r),a},n.rc2.createDecryptionCipher=function(e,t){return o(e,t,!1)}},28095:function(e,t,r){var n=r(3832);if(r(3068),r(15764),r(66270),r(18936),r(29654),r(49563),r(97116),void 0===a)var a=n.jsbn.BigInteger;var i=n.util.isNodejs?r(25819):null,o=n.asn1,s=n.util;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var c=n.pki,l=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},A={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p={name:"DigestInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},g=function(e){if(e.algorithm in c.oids)t=c.oids[e.algorithm];else{var t,r=Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=o.oidToDer(t).getBytes(),a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);i.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,n)),i.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var s=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.digest().getBytes());return a.value.push(i),a.value.push(s),o.toDer(a).getBytes()},h=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(a.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(a.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do i=new a(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16);while(i.compareTo(t.n)>=0||!i.gcd(t.n).equals(a.ONE));for(var i,o=(e=e.multiply(i.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);0>o.compareTo(s);)o=o.add(t.p);return o.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s).multiply(i.modInverse(t.n)).mod(t.n)};function y(e,t,r){var a,i=n.util.createBuffer(),o=Math.ceil(t.n.bitLength()/8);if(e.length>o-11){var s=Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=o-11,s}i.putByte(0),i.putByte(r);var c=o-3-e.length;if(0===r||1===r){a=0===r?0:255;for(var l=0;l<c;++l)i.putByte(a)}else for(;c>0;){for(var u=0,A=n.random.getBytes(c),l=0;l<c;++l)0===(a=A.charCodeAt(l))?++u:i.putByte(a);c=u}return i.putByte(0),i.putBytes(e),i}function m(e,t,r,a){var i=Math.ceil(t.n.bitLength()/8),o=n.util.createBuffer(e),s=o.getByte(),c=o.getByte();if(0!==s||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===a)throw Error("Encryption block is invalid.");var l=0;if(0===c){l=i-3-a;for(var u=0;u<l;++u)if(0!==o.getByte())throw Error("Encryption block is invalid.")}else if(1===c)for(l=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++l}else if(2===c)for(l=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++l}if(0!==o.getByte()||l!==i-3-o.length())throw Error("Encryption block is invalid.");return o.getBytes()}function I(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&(128&r.charCodeAt(1))==0||255===r.charCodeAt(0)&&(128&r.charCodeAt(1))==128)?r.substr(1):r}function C(e){return n.util.isNodejs&&"function"==typeof i[e]}function E(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.crypto&&"object"==typeof s.globalScope.crypto.subtle&&"function"==typeof s.globalScope.crypto.subtle[e]}function v(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.msCrypto&&"object"==typeof s.globalScope.msCrypto.subtle&&"function"==typeof s.globalScope.msCrypto.subtle[e]}function B(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),a=0;a<t.length;++a)r[a]=t.charCodeAt(a);return r}c.rsa.encrypt=function(e,t,r){var i,o=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(o=2===r,i=y(e,t,r)):(i=n.util.createBuffer()).putBytes(e);for(var c=h(new a(i.toHex(),16),t,o).toString(16),l=n.util.createBuffer(),u=s-Math.ceil(c.length/2);u>0;)l.putByte(0),--u;return l.putBytes(n.util.hexToBytes(c)),l.getBytes()},c.rsa.decrypt=function(e,t,r,i){var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var s=Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=o,s}var c=new a(n.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw Error("Encrypted message is invalid.");for(var l=h(c,t,r).toString(16),u=n.util.createBuffer(),A=o-Math.ceil(l.length/2);A>0;)u.putByte(0),--A;return(u.putBytes(n.util.hexToBytes(l)),!1!==i)?m(u.getBytes(),t,r):u.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var i,o=(r=r||{}).prng||n.random,s=r.algorithm||"PRIMEINC";if("PRIMEINC"===s)(i={algorithm:s,state:0,bits:e,rng:{nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},eInt:t||65537,e:new a(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt);else throw Error("Invalid key generation algorithm: "+s);return i},c.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r,n=new a(null);n.fromInt(30);for(var i=0,o=function(e,t){return e|t},s=+new Date,u=0;null===e.keys&&(t<=0||u<t);){if(0===e.state){var A,d=null===e.p?e.pBits:e.qBits,f=d-1;0===e.pqState?(e.num=new a(d,e.rng),e.num.testBit(f)||e.num.bitwiseTo(a.ONE.shiftLeft(f),o,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>d?e.pqState=0:e.num.isProbablePrime((A=e.num.bitLength())<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2)?++e.pqState:e.num.dAddOffset(l[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(a.ONE).gcd(e.e).compareTo(a.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)0>e.p.compareTo(e.q)&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(a.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var p=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}u+=(r=+new Date)-s,s=r}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,r,l){if(1==arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(l=e,e=void 0):2==arguments.length?"number"==typeof e?"function"==typeof t?(l=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,l=t,e=void 0,t=void 0):3==arguments.length&&("number"==typeof t?"function"==typeof r&&(l=r,r=void 0):(l=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t)){if(l){if(C("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,r){if(e)return l(e);l(null,{privateKey:c.privateKeyFromPem(r),publicKey:c.publicKeyFromPem(t)})});if(E("generateKey")&&E("exportKey"))return s.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:B(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return s.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){l(e)}).then(function(e){if(e){var t=c.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(e)));l(null,{privateKey:t,publicKey:c.setRsaPublicKey(t.n,t.e)})}});if(v("generateKey")&&v("exportKey")){var u=s.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:B(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);u.oncomplete=function(e){var t=e.target.result,r=s.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=c.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));l(null,{privateKey:r,publicKey:c.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){l(e)}},u.onerror=function(e){l(e)};return}}else if(C("generateKeyPairSync")){var A=i.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(A.privateKey),publicKey:c.publicKeyFromPem(A.publicKey)}}}var d=c.rsa.createKeyPairGenerationState(e,t,r);if(!l)return c.rsa.stepKeyPairGenerationState(d,0),d.keys;(function(e,t,r){"function"==typeof t&&(r=t,t={});var i={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function o(){s(e.pBits,function(t,n){return t?r(t):(e.p=n,null!==e.q)?l(t,e.q):void s(e.qBits,l)})}function s(e,t){n.prime.generateProbablePrime(e,i,t)}function l(t,n){if(t)return r(t);if(e.q=n,0>e.p.compareTo(e.q)){var i=e.p;e.p=e.q,e.q=i}if(0!==e.p.subtract(a.ONE).gcd(e.e).compareTo(a.ONE)){e.p=null,o();return}if(0!==e.q.subtract(a.ONE).gcd(e.e).compareTo(a.ONE)){e.q=null,s(e.qBits,l);return}if(e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(a.ONE)){e.p=e.q=null,o();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,l);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(i.prng=t.prng),o()})(d,r,l)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(e,t,a){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,a)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,!0);return c.rsa.encrypt(i,r,!0)},r.verify=function(e,t,a,i){"string"==typeof a?a=a.toUpperCase():void 0===a&&(a="RSASSA-PKCS1-V1_5"),void 0===i&&(i={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in i||(i._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===a?a={verify:function(e,t){t=m(t,r,!0);var a=o.fromDer(t,{parseAllBytes:i._parseAllDigestBytes}),s={},c=[];if(!o.validate(a,p,s,c)){var l=Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw l.errors=c,l}var u=o.derToOid(s.algorithmIdentifier);if(!(u===n.oids.md2||u===n.oids.md5||u===n.oids.sha1||u===n.oids.sha224||u===n.oids.sha256||u===n.oids.sha384||u===n.oids.sha512||u===n.oids["sha512-224"]||u===n.oids["sha512-256"])){var l=Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw l.oid=u,l}if((u===n.oids.md2||u===n.oids.md5)&&!("parameters"in s))throw Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===s.digest}}:("NONE"===a||"NULL"===a||null===a)&&(a={verify:function(e,t){return e===(t=m(t,r,!0))}});var s=c.rsa.decrypt(t,r,!0,!1);return a.verify(e,s,r.n.bitLength())},r},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,r,a,i,o,s,l){var u={n:e,e:t,d:r,p:a,q:i,dP:o,dQ:s,qInv:l};return u.decrypt=function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var a=c.rsa.decrypt(e,u,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:m};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={decode:function(e){return e}};else throw Error('Unsupported encryption scheme: "'+t+'".');return t.decode(a,u,!1)},u.sign=function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:g},r=1):("NONE"===t||"NULL"===t||null===t)&&(t={encode:function(){return e}},r=1);var n=t.encode(e,u.n.bitLength());return c.rsa.encrypt(n,u,r)},u},c.wrapRsaPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(c.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(e).getBytes())])},c.privateKeyFromAsn1=function(e){var t,r,i,s,l,d,f,p,g={},h=[];if(o.validate(e,u,g,h)&&(e=o.fromDer(n.util.createBuffer(g.privateKey))),g={},h=[],!o.validate(e,A,g,h)){var y=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=h,y}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),i=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrime1).toHex(),l=n.util.createBuffer(g.privateKeyPrime2).toHex(),d=n.util.createBuffer(g.privateKeyExponent1).toHex(),f=n.util.createBuffer(g.privateKeyExponent2).toHex(),p=n.util.createBuffer(g.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new a(t,16),new a(r,16),new a(i,16),new a(s,16),new a(l,16),new a(d,16),new a(f,16),new a(p,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.qInv))])},c.publicKeyFromAsn1=function(e){var t={},r=[];if(o.validate(e,f,t,r)){var i=o.derToOid(t.publicKeyOid);if(i!==c.oids.rsaEncryption){var s=Error("Cannot read public key. Unknown OID.");throw s.oid=i,s}e=t.rsaPublicKey}if(r=[],!o.validate(e,d,t,r)){var s=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var l=n.util.createBuffer(t.publicKeyModulus).toHex(),u=n.util.createBuffer(t.publicKeyExponent).toHex();return c.setRsaPublicKey(new a(l,16),new a(u,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(c.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(e)])])},c.publicKeyToRSAPublicKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,I(e.e))])}},137:function(e,t,r){var n=r(3832);r(28991),r(97116);var a=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=a,a.create=function(){o||(i=String.fromCharCode(128)+n.util.fillString("\x00",64),o=!0);var e=null,t=n.util.createBuffer(),r=Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,i=0;i<r;++i)a.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a},a.start(),a.update=function(i,o){"utf8"===o&&(i=n.util.encodeUtf8(i));var c=i.length;a.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=c[1],c[1]=c[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(i),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var o,c=n.util.createBuffer();c.putBytes(t.bytes());var l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;c.putBytes(i.substr(0,a.blockLength-l));for(var u=8*a.fullMessageLength[0],A=0;A<a.fullMessageLength.length-1;++A)u+=(o=8*a.fullMessageLength[A+1])/4294967296>>>0,c.putInt32(u>>>0),u=o>>>0;c.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(d,r,c);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f},a};var i=null,o=!1;function s(e,t,r){for(var n,a,i,o,s,c,l,u=r.length();u>=64;){for(l=0,a=e.h0,i=e.h1,o=e.h2,s=e.h3,c=e.h4;l<16;++l)n=r.getInt32(),t[l]=n,n=(a<<5|a>>>27)+(s^i&(o^s))+c+1518500249+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;for(;l<20;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(a<<5|a>>>27)+(s^i&(o^s))+c+1518500249+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;for(;l<32;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(a<<5|a>>>27)+(i^o^s)+c+1859775393+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;for(;l<40;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(a<<5|a>>>27)+(i^o^s)+c+1859775393+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;for(;l<60;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(a<<5|a>>>27)+(i&o|s&(i^o))+c+2400959708+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;for(;l<80;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(a<<5|a>>>27)+(i^o^s)+c+3395469782+n,c=s,s=o,o=(i<<30|i>>>2)>>>0,i=a,a=n;e.h0=e.h0+a|0,e.h1=e.h1+i|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+c|0,u-=64}}},41668:function(e,t,r){var n=r(3832);r(28991),r(97116);var a=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=a,a.create=function(){o||(i=String.fromCharCode(128)+n.util.fillString("\x00",64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var e=null,t=n.util.createBuffer(),r=Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,i=0;i<r;++i)a.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a},a.start(),a.update=function(i,o){"utf8"===o&&(i=n.util.encodeUtf8(i));var s=i.length;a.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=s[1],s[1]=s[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var o,s=n.util.createBuffer();s.putBytes(t.bytes());var l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;s.putBytes(i.substr(0,a.blockLength-l));for(var u=8*a.fullMessageLength[0],A=0;A<a.fullMessageLength.length-1;++A)u+=(o=8*a.fullMessageLength[A+1])/4294967296>>>0,s.putInt32(u>>>0),u=o>>>0;s.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(d,r,s);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f.putInt32(d.h5),f.putInt32(d.h6),f.putInt32(d.h7),f},a};var i=null,o=!1,s=null;function c(e,t,r){for(var n,a,i,o,c,l,u,A,d,f,p,g,h,y,m,I=r.length();I>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]|0;for(u=0,A=e.h0,d=e.h1,f=e.h2,p=e.h3,g=e.h4,h=e.h5,y=e.h6,m=e.h7;u<64;++u)o=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),c=y^g&(h^y),i=(A>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10),l=A&d|f&(A^d),n=m+o+c+s[u]+t[u],a=i+l,m=y,y=h,h=g,g=p+n>>>0,p=f,f=d,d=A,A=n+a>>>0;e.h0=e.h0+A|0,e.h1=e.h1+d|0,e.h2=e.h2+f|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+h|0,e.h6=e.h6+y|0,e.h7=e.h7+m|0,I-=64}}},63219:function(e,t,r){var n=r(3832);r(28991),r(97116);var a=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=a;var i=n.sha384=n.sha512.sha384=n.sha512.sha384||{};i.create=function(){return a.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=i,n.sha512.sha256=n.sha512.sha256||{create:function(){return a.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return a.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,a.create=function(e){if(s||(o=String.fromCharCode(128)+n.util.fillString("\x00",128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(l={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in l))throw Error("Invalid SHA-512 algorithm: "+e);for(var t=l[e],r=null,a=n.util.createBuffer(),i=Array(80),A=0;A<80;++A)i[A]=[,,];var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,i=0;i<e;++i)f.fullMessageLength.push(0);a=n.util.createBuffer(),r=Array(t.length);for(var i=0;i<t.length;++i)r[i]=t[i].slice(0);return f},f.start(),f.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var o=e.length;f.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=f.fullMessageLength.length-1;s>=0;--s)f.fullMessageLength[s]+=o[1],o[1]=o[0]+(f.fullMessageLength[s]/4294967296>>>0),f.fullMessageLength[s]=f.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return a.putBytes(e),u(r,i,a),(a.read>2048||0===a.length())&&a.compact(),f},f.digest=function(){var t,s,c=n.util.createBuffer();c.putBytes(a.bytes());var l=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;c.putBytes(o.substr(0,f.blockLength-l));for(var A=8*f.fullMessageLength[0],d=0;d<f.fullMessageLength.length-1;++d)A+=(t=8*f.fullMessageLength[d+1])/4294967296>>>0,c.putInt32(A>>>0),A=t>>>0;c.putInt32(A);for(var p=Array(r.length),d=0;d<r.length;++d)p[d]=r[d].slice(0);u(p,i,c);var g=n.util.createBuffer();s="SHA-512"===e?p.length:"SHA-384"===e?p.length-2:p.length-4;for(var d=0;d<s;++d)g.putInt32(p[d][0]),(d!==s-1||"SHA-512/224"!==e)&&g.putInt32(p[d][1]);return g},f};var o=null,s=!1,c=null,l=null;function u(e,t,r){for(var n,a,i,o,s,l,u,A,d,f,p,g,h,y,m,I,C,E,v,B,S,b,Q,T,w,N,k,D,R,U,L,P,_,F,x,M=r.length();M>=128;){for(R=0;R<16;++R)t[R][0]=r.getInt32()>>>0,t[R][1]=r.getInt32()>>>0;for(;R<80;++R)n=(((U=(P=t[R-2])[0])>>>19|(L=P[1])<<13)^(L>>>29|U<<3)^U>>>6)>>>0,a=((U<<13|L>>>19)^(L<<3|U>>>29)^(U<<26|L>>>6))>>>0,i=(((U=(F=t[R-15])[0])>>>1|(L=F[1])<<31)^(U>>>8|L<<24)^U>>>7)>>>0,o=((U<<31|L>>>1)^(U<<24|L>>>8)^(U<<25|L>>>7))>>>0,_=t[R-7],x=t[R-16],L=a+_[1]+o+x[1],t[R][0]=n+_[0]+i+x[0]+(L/4294967296>>>0)>>>0,t[R][1]=L>>>0;for(R=0,h=e[0][0],y=e[0][1],m=e[1][0],I=e[1][1],C=e[2][0],E=e[2][1],v=e[3][0],B=e[3][1],S=e[4][0],b=e[4][1],Q=e[5][0],T=e[5][1],w=e[6][0],N=e[6][1],k=e[7][0],D=e[7][1];R<80;++R)u=((S>>>14|b<<18)^(S>>>18|b<<14)^(b>>>9|S<<23))>>>0,A=((S<<18|b>>>14)^(S<<14|b>>>18)^(b<<23|S>>>9))>>>0,d=(w^S&(Q^w))>>>0,f=(N^b&(T^N))>>>0,s=((h>>>28|y<<4)^(y>>>2|h<<30)^(y>>>7|h<<25))>>>0,l=((h<<4|y>>>28)^(y<<30|h>>>2)^(y<<25|h>>>7))>>>0,p=(h&m|C&(h^m))>>>0,g=(y&I|E&(y^I))>>>0,L=D+A+f+c[R][1]+t[R][1],n=k+u+d+c[R][0]+t[R][0]+(L/4294967296>>>0)>>>0,a=L>>>0,i=s+p+((L=l+g)/4294967296>>>0)>>>0,o=L>>>0,k=w,D=N,w=Q,N=T,Q=S,T=b,S=v+n+((L=B+a)/4294967296>>>0)>>>0,b=L>>>0,v=C,B=E,C=m,E=I,m=h,I=y,h=n+i+((L=a+o)/4294967296>>>0)>>>0,y=L>>>0;L=e[0][1]+y,e[0][0]=e[0][0]+h+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+I,e[1][0]=e[1][0]+m+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+E,e[2][0]=e[2][0]+C+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+B,e[3][0]=e[3][0]+v+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+b,e[4][0]=e[4][0]+S+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+T,e[5][0]=e[5][0]+Q+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+N,e[6][0]=e[6][0]+w+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+D,e[7][0]=e[7][0]+k+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,M-=128}}},77173:function(e,t,r){var n=r(3832);r(8925),r(36607),r(25063),r(137),r(97116);var a=e.exports=n.ssh=n.ssh||{};function i(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var a=n.util.hexToBytes(r);e.putInt32(a.length),e.putBytes(a)}function o(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}a.privateKeyToPutty=function(e,t,r){var a,c="ssh-rsa",l=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: "+c+"\r\n";u+="Encryption: "+l+"\r\nComment: "+(r=r||"")+"\r\n";var A=n.util.createBuffer();o(A,c),i(A,e.e),i(A,e.n);var d=n.util.encode64(A.bytes(),64),f=Math.floor(d.length/66)+1;u+="Public-Lines: "+f+"\r\n"+d;var p=n.util.createBuffer();if(i(p,e.d),i(p,e.p),i(p,e.q),i(p,e.qInv),t){var g=p.length()+16-1;g-=g%16;var h=s(p.bytes());h.truncate(h.length()-g+p.length()),p.putBuffer(h);var y=n.util.createBuffer();y.putBuffer(s("\x00\x00\x00\x00",t)),y.putBuffer(s("\x00\x00\x00\x01",t));var m=n.aes.createEncryptionCipher(y.truncate(8),"CBC");m.start(n.util.createBuffer().fillWithByte(0,16)),m.update(p.copy()),m.finish();var I=m.output;I.truncate(16),a=n.util.encode64(I.bytes(),64)}else a=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(f=Math.floor(a.length/66)+1)+"\r\n"+a;var C=s("putty-private-key-file-mac-key",t),E=n.util.createBuffer();o(E,c),o(E,l),o(E,r),E.putInt32(A.length()),E.putBuffer(A),E.putInt32(p.length()),E.putBuffer(p);var v=n.hmac.create();return v.start("sha1",C),v.update(E.bytes()),u+="\r\nPrivate-MAC: "+v.digest().toHex()+"\r\n"},a.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var a=n.util.createBuffer();return o(a,r),i(a,e.e),i(a,e.n),r+" "+n.util.encode64(a.bytes())+" "+t},a.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},a.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),a=n.util.createBuffer();o(a,"ssh-rsa"),i(a,e.e),i(a,e.n),r.start(),r.update(a.getBytes());var s=r.digest();if("hex"===t.encoding){var c=s.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw Error('Unknown encoding "'+t.encoding+'".');return s}},84311:function(e,t,r){var n=r(3832);r(3068),r(36607),r(25063),r(26953),r(4742),r(49563),r(137),r(97116);var a=function(e,t,r,a){var i=n.util.createBuffer(),o=e.length>>1,s=o+(1&e.length),c=e.substr(0,s),l=e.substr(o,s),u=n.util.createBuffer(),A=n.hmac.create();r=t+r;var d=Math.ceil(a/16),f=Math.ceil(a/20);A.start("MD5",c);var p=n.util.createBuffer();u.putBytes(r);for(var g=0;g<d;++g)A.start(null,null),A.update(u.getBytes()),u.putBuffer(A.digest()),A.start(null,null),A.update(u.bytes()+r),p.putBuffer(A.digest());A.start("SHA1",l);var h=n.util.createBuffer();u.clear(),u.putBytes(r);for(var g=0;g<f;++g)A.start(null,null),A.update(u.getBytes()),u.putBuffer(A.digest()),A.start(null,null),A.update(u.bytes()+r),h.putBuffer(A.digest());return i.putBytes(n.util.xorBytes(p.getBytes(),h.getBytes(),a)),i},i=function(e,t,r){var a=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,a=!0}catch(e){}return a},o=function(e,t,r){var a=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,a=!0}catch(e){}return a},s=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},c=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},l={};l.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(e){var t=null;for(var r in l.CipherSuites){var n=l.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},l.handleUnexpected=function(e,t){(e.open||e.entity!==l.ConnectionEnd.client)&&e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(l.queue(e,l.createAlert(e,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(e)),e.process()},l.parseHelloMessage=function(e,t,r){var a=null,i=e.entity===l.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var o=t.fragment,c=o.length();if(a={version:{major:o.getByte(),minor:o.getByte()},random:n.util.createBuffer(o.getBytes(32)),session_id:s(o,1),extensions:[]},i?(a.cipher_suite=o.getBytes(2),a.compression_method=o.getByte()):(a.cipher_suites=s(o,2),a.compression_methods=s(o,1)),(c=r-(c-o.length()))>0){for(var u=s(o,2);u.length()>0;)a.extensions.push({type:[u.getByte(),u.getByte()],data:s(u,2)});if(!i)for(var A=0;A<a.extensions.length;++A){var d=a.extensions[A];if(0===d.type[0]&&0===d.type[1])for(var f=s(d.data,2);f.length()>0&&0===f.getByte();)e.session.extensions.server_name.serverNameList.push(s(f,2).getBytes())}}if(e.session.version&&(a.version.major!==e.session.version.major||a.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=l.getCipherSuite(a.cipher_suite);else for(var p=n.util.createBuffer(a.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=l.getCipherSuite(p.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(a.cipher_suite)});i?e.session.compressionMethod=a.compression_method:e.session.compressionMethod=l.CompressionMethod.none}return a},l.createSecurityParameters=function(e,t){var r=e.entity===l.ConnectionEnd.client,n=t.random.bytes(),a=r?e.session.sp.client_random:n,i=r?n:l.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:a,server_random:i}},l.handleServerHello=function(e,t,r){var n=l.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var a=n.session_id.bytes();a.length>0&&a===e.session.id?(e.expect=p,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=u,e.session.resuming=!1,l.createSecurityParameters(e,n)),e.session.id=a,e.process()}},l.handleClientHello=function(e,t,r){var a,i=l.parseHelloMessage(e,t,r);if(!e.fail){var o=i.session_id.bytes(),s=null;if(e.sessionCache&&(null===(s=e.sessionCache.getSession(o))?o="":(s.version.major!==i.version.major||s.version.minor>i.version.minor)&&(s=null,o="")),0===o.length&&(o=n.random.getBytes(32)),e.session.id=o,e.session.clientHelloVersion=i.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var c=1;c<l.SupportedVersions.length&&!((a=l.SupportedVersions[c]).minor<=i.version.minor);++c);e.version={major:a.major,minor:a.minor},e.session.version=e.version}null!==s?(e.expect=E,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?m:I,e.session.resuming=!1,l.createSecurityParameters(e,i)),e.open=!0,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHello(e)})),e.session.resuming?(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))):(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)})),e.fail||(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerKeyExchange(e)})),!1!==e.verifyClient&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateRequest(e)})),l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHelloDone(e)})))),l.flush(e),e.process()}},l.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var a,i,o={certificate_list:s(t.fragment,3)},c=[];try{for(;o.certificate_list.length()>0;)a=s(o.certificate_list,3),i=n.asn1.fromDer(a),a=n.pki.certificateFromAsn1(i,!0),c.push(a)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var u=e.entity===l.ConnectionEnd.client;(u||!0===e.verifyClient)&&0===c.length?e.error(e,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}):0===c.length?e.expect=u?A:I:(u?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],l.verifyCertificateChain(e,c)&&(e.expect=u?A:I)),e.process()},l.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},l.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var a={enc_pre_master_secret:s(t.fragment,2).getBytes()},i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.serverCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(null===i)return e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var o=e.session.sp;o.pre_master_secret=i.decrypt(a.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==o.pre_master_secret.charCodeAt(0)||c.minor!==o.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.")}catch(e){o.pre_master_secret=n.random.getBytes(48)}e.expect=E,null!==e.session.clientCertificate&&(e.expect=C),e.process()},l.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n=t.fragment,a={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=a,e.expect=f,e.process()},l.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var a=t.fragment;a.read-=4;var i=a.bytes();a.read+=4;var o={signature:s(a,2).getBytes()},c=n.util.createBuffer();c.putBuffer(e.session.md5.digest()),c.putBuffer(e.session.sha1.digest()),c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,o.signature,"NONE"))throw Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}e.expect=E,e.process()},l.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(null===e.serverCertificate){var a={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},i=e.verify(e,a.alert.description,0,[]);if(!0!==i)return(i||0===i)&&("object"!=typeof i||n.util.isArray(i)?"number"==typeof i&&(a.alert.description=i):(i.message&&(a.message=i.message),i.alert&&(a.alert.description=i.alert))),e.error(e,a)}null!==e.session.certificateRequest&&(t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)}),l.queue(e,t)),t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createClientKeyExchange(e)}),l.queue(e,t),e.expect=y;var o=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateVerify(e,t)})),l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)})),e.expect=p,l.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return o(e,null);l.getClientSignature(e,o)},l.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=e.entity===l.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=l.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:v,e.process()},l.handleFinished=function(e,t,r){var i=t.fragment;i.read-=4;var o=i.bytes();i.read+=4;var s=t.fragment.getBytes();(i=n.util.createBuffer()).putBuffer(e.session.md5.digest()),i.putBuffer(e.session.sha1.digest());var c=e.entity===l.ConnectionEnd.client;if((i=a(e.session.sp.master_secret,c?"server finished":"client finished",i.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});e.session.md5.update(o),e.session.sha1.update(o),(e.session.resuming&&c||!e.session.resuming&&!c)&&(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))),e.expect=c?h:B,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,l.flush(e),e.isConnected=!0,e.connected(e),e.process()},l.handleAlert=function(e,t){var r,n=t.fragment,a={level:n.getByte(),description:n.getByte()};switch(a.description){case l.Alert.Description.close_notify:r="Connection closed.";break;case l.Alert.Description.unexpected_message:r="Unexpected message.";break;case l.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case l.Alert.Description.decryption_failed:r="Decryption failed.";break;case l.Alert.Description.record_overflow:r="Record overflow.";break;case l.Alert.Description.decompression_failure:r="Decompression failed.";break;case l.Alert.Description.handshake_failure:r="Handshake failure.";break;case l.Alert.Description.bad_certificate:r="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case l.Alert.Description.certificate_expired:r="Certificate expired.";break;case l.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case l.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case l.Alert.Description.access_denied:r="Access denied.";break;case l.Alert.Description.decode_error:r="Decode error.";break;case l.Alert.Description.decrypt_error:r="Decrypt error.";break;case l.Alert.Description.export_restriction:r="Export restriction.";break;case l.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:r="Insufficient security.";break;case l.Alert.Description.internal_error:r="Internal error.";break;case l.Alert.Description.user_canceled:r="User canceled.";break;case l.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(a.description===l.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===l.ConnectionEnd.client?"server":"client",alert:a}),e.process()},l.handleHandshake=function(e,t){var r=t.fragment,a=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,a in x[e.entity][e.expect]?(e.entity!==l.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),a!==l.HandshakeType.hello_request&&a!==l.HandshakeType.certificate_verify&&a!==l.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),x[e.entity][e.expect][a](e,t,i)):l.handleUnexpected(e,t)},l.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},l.handleHeartbeat=function(e,t){var r=t.fragment,a=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(a===l.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();l.queue(e,l.createRecord(e,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,o)})),l.flush(e)}else if(a===l.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(o))}e.process()};var u=1,A=2,d=3,f=4,p=5,g=6,h=7,y=8,m=1,I=2,C=3,E=4,v=5,B=6,S=l.handleUnexpected,b=l.handleChangeCipherSpec,Q=l.handleAlert,T=l.handleHandshake,w=l.handleApplicationData,N=l.handleHeartbeat,k=[];k[l.ConnectionEnd.client]=[[S,Q,T,S,N],[S,Q,T,S,N],[S,Q,T,S,N],[S,Q,T,S,N],[S,Q,T,S,N],[b,Q,S,S,N],[S,Q,T,S,N],[S,Q,T,w,N],[S,Q,T,S,N]],k[l.ConnectionEnd.server]=[[S,Q,T,S,N],[S,Q,T,S,N],[S,Q,T,S,N],[S,Q,T,S,N],[b,Q,S,S,N],[S,Q,T,S,N],[S,Q,T,w,N],[S,Q,T,S,N]];var D=l.handleHelloRequest,R=l.handleServerHello,U=l.handleCertificate,L=l.handleServerKeyExchange,P=l.handleCertificateRequest,_=l.handleServerHelloDone,F=l.handleFinished,x=[];x[l.ConnectionEnd.client]=[[S,S,R,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,U,L,P,_,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,L,P,_,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,S,P,_,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,S,S,_,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[D,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[D,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]];var M=l.handleClientHello,O=l.handleClientKeyExchange,K=l.handleCertificateVerify;x[l.ConnectionEnd.server]=[[S,M,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,U,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,O,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,K,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],l.generateKeys=function(e,t){var r=t.client_random+t.server_random;e.session.resuming||(t.master_secret=a(t.pre_master_secret,"master secret",r,48).bytes(),t.pre_master_secret=null),r=t.server_random+t.client_random;var n=2*t.mac_key_length+2*t.enc_key_length,i=e.version.major===l.Versions.TLS_1_0.major&&e.version.minor===l.Versions.TLS_1_0.minor;i&&(n+=2*t.fixed_iv_length);var o=a(t.master_secret,"key expansion",r,n),s={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return i&&(s.client_write_IV=o.getBytes(t.fixed_iv_length),s.server_write_IV=o.getBytes(t.fixed_iv_length)),s},l.createConnectionState=function(e){var t=e.entity===l.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!e.fail},e.session){var a=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(a),a.keys=l.generateKeys(e,a),n.read.macKey=t?a.keys.server_write_MAC_key:a.keys.client_write_MAC_key,n.write.macKey=t?a.keys.client_write_MAC_key:a.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,a),a.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:n.read.compressFunction=o,n.write.compressFunction=i;break;default:throw Error("Unsupported compression algorithm.")}}return n},l.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},l.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},l.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),l.createRecord(e,{type:l.ContentType.alert,data:r})},l.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var a=e.cipherSuites[r];t.putByte(a.id[0]),t.putByte(a.id[1])}var i=t.length(),o=n.util.createBuffer();o.putByte(l.CompressionMethod.none);var s=o.length(),u=n.util.createBuffer();if(e.virtualHost){var A=n.util.createBuffer();A.putByte(0),A.putByte(0);var d=n.util.createBuffer();d.putByte(0),c(d,2,n.util.createBuffer(e.virtualHost));var f=n.util.createBuffer();c(f,2,d),c(A,2,f),u.putBuffer(A)}var p=u.length();p>0&&(p+=2);var g=e.session.id,h=g.length+1+2+4+28+2+i+1+s+p,y=n.util.createBuffer();return y.putByte(l.HandshakeType.client_hello),y.putInt24(h),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),c(y,1,n.util.createBuffer(g)),c(y,2,t),c(y,1,o),p>0&&c(y,2,u),y},l.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,a=n.util.createBuffer();return a.putByte(l.HandshakeType.server_hello),a.putInt24(r),a.putByte(e.version.major),a.putByte(e.version.minor),a.putBytes(e.session.sp.server_random),c(a,1,n.util.createBuffer(t)),a.putByte(e.session.cipherSuite.id[0]),a.putByte(e.session.cipherSuite.id[1]),a.putByte(e.session.compressionMethod),a},l.createCertificate=function(e){var t,r=e.entity===l.ConnectionEnd.client,a=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,a=e.getCertificate(e,t));var i=n.util.createBuffer();if(null!==a)try{n.util.isArray(a)||(a=[a]);for(var o=null,s=0;s<a.length;++s){var u=n.pem.decode(a[s])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var A=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw A.headerType=u.type,A}if(u.procType&&"ENCRYPTED"===u.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var d=n.util.createBuffer(u.body);null===o&&(o=n.asn1.fromDer(d.bytes(),!1));var f=n.util.createBuffer();c(f,3,d),i.putBuffer(f)}a=n.pki.certificateFromAsn1(o),r?e.session.clientCertificate=a:e.session.serverCertificate=a}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var p=3+i.length(),g=n.util.createBuffer();return g.putByte(l.HandshakeType.certificate),g.putInt24(p),c(g,3,i),g},l.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var a=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,i=n.util.createBuffer();return i.putByte(l.HandshakeType.client_key_exchange),i.putInt24(a),i.putInt16(t.length),i.putBytes(t),i},l.createServerKeyExchange=function(e){return n.util.createBuffer()},l.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.clientCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}null===a?e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):t=a.sign(t,null),r(e,t)},e.getSignature(e,r,t)},l.createCertificateVerify=function(e,t){var r=t.length+2,a=n.util.createBuffer();return a.putByte(l.HandshakeType.certificate_verify),a.putInt24(r),a.putInt16(t.length),a.putBytes(t),a},l.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var a in e.caStore.certs){var i=e.caStore.certs[a],o=n.pki.distinguishedNameToAsn1(i.subject),s=n.asn1.toDer(o);r.putInt16(s.length()),r.putBuffer(s)}var u=1+t.length()+2+r.length(),A=n.util.createBuffer();return A.putByte(l.HandshakeType.certificate_request),A.putInt24(u),c(A,1,t),c(A,2,r),A},l.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(l.HandshakeType.server_hello_done),t.putInt24(0),t},l.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},l.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===l.ConnectionEnd.client;t=a(e.session.sp.master_secret,r?"client finished":"server finished",t.getBytes(),12);var i=n.util.createBuffer();return i.putByte(l.HandshakeType.finished),i.putInt24(t.length()),i.putBuffer(t),i},l.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var a=n.util.createBuffer();a.putByte(e),a.putInt16(r),a.putBytes(t);var i=Math.max(16,a.length()-r-3);return a.putBytes(n.random.getBytes(i)),a},l.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==l.ContentType.handshake&&t.type!==l.ContentType.alert&&t.type!==l.ContentType.change_cipher_spec)){if(t.type===l.ContentType.handshake){var r,a=t.fragment.bytes();e.session.md5.update(a),e.session.sha1.update(a),a=null}if(t.fragment.length()<=l.MaxFragment)r=[t];else{r=[];for(var i=t.fragment.bytes();i.length>l.MaxFragment;)r.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(i.slice(0,l.MaxFragment))})),i=i.slice(l.MaxFragment);i.length>0&&r.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(i)}))}for(var o=0;o<r.length&&!e.fail;++o){var s=r[o];e.state.current.write.update(e,s)&&e.records.push(s)}}},l.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var V=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}},q=function(e){switch(e){case!0:return!0;case l.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}};for(var G in l.verifyCertificateChain=function(e,t){try{var r={};for(var a in e.verifyOptions)r[a]=e.verifyOptions[a];r.verify=function(t,r,a){V(t);var i=e.verify(e,t,r,a);if(!0!==i){if("object"==typeof i&&!n.util.isArray(i)){var o=Error("The application rejected the certificate.");throw o.send=!0,o.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},i.message&&(o.message=i.message),i.alert&&(o.alert.description=i.alert),o}i!==t&&(i=q(i))}return i},n.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var i=t;("object"!=typeof i||n.util.isArray(i))&&(i={send:!0,alert:{level:l.Alert.Level.fatal,description:V(t)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:l.Alert.Level.fatal,description:V(i.error)}),e.error(e,i)}return!e.fail},l.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var a in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(a):delete e[a];r.getSession=function(e){var t=null,a=null;if(e?a=n.util.bytesToHex(e):r.order.length>0&&(a=r.order[0]),null!==a&&a in r.cache){for(var i in t=r.cache[a],delete r.cache[a],r.order)if(r.order[i]===a){r.order.splice(i,1);break}}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=n.util.bytesToHex(e);r.order.push(a),r.cache[a]=t}}return r},l.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var a in r=[],l.CipherSuites)r.push(l.CipherSuites[a]);var i=e.server?l.ConnectionEnd.server:l.ConnectionEnd.client,o=e.sessionCache?l.createSessionCache(e.sessionCache):null,s={version:{major:l.Version.major,minor:l.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===l.ConnectionEnd.client?"client":"server"),r.send&&(l.queue(t,l.createAlert(t,r.alert)),l.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(e){s.version={major:l.Version.major,minor:l.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,l.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=l.createConnectionState(s)},s.reset();var c=function(e,t){var r=t.type-l.ContentType.change_cipher_spec,n=k[e.entity][e.expect];r in n?n[r](e,t):l.handleUnexpected(e,t)},u=function(e){var t=0,r=e.input,a=r.length();if(a<5)t=5-a;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var i=e.record.version.major===e.version.major;i&&e.session&&e.session.version&&(i=e.record.version.minor===e.version.minor),i||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return t},A=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),e.record.ready=!0)),t};return s.handshake=function(e){if(s.entity!==l.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=l.createRandom().getBytes(),s.open=!0,l.queue(s,l.createRecord(s,{type:l.ContentType.handshake,data:l.createClientHello(s)})),l.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=u(s)),s.fail||null===s.record||s.record.ready||(t=A(s)),!s.fail&&null!==s.record&&s.record.ready&&c(s,s.record)),t},s.prepare=function(e){return l.queue(s,l.createRecord(s,{type:l.ContentType.application_data,data:n.util.createBuffer(e)})),l.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,l.queue(s,l.createRecord(s,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,e,t)})),l.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,l.queue(s,l.createAlert(s,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=n.tls=n.tls||{},l)"function"!=typeof l[G]&&(n.tls[G]=l[G]);n.tls.prf_tls1=a,n.tls.hmac_sha1=function(e,t,r){var a=n.hmac.create();a.start("SHA1",e);var i=n.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),a.update(i.getBytes()),a.digest().getBytes()},n.tls.createSessionCache=l.createSessionCache,n.tls.createConnection=l.createConnection},97116:function(e,t,r){var n=r(24112),a=r(62678).Buffer,i=r(3832),o=r(78807),s=e.exports=i.util=i.util||{};function c(e){if(!(8===e||16===e||24===e||32===e))throw Error("Only 8, 16, 24, or 32 bits supported: "+e)}function l(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e)){if(void 0!==a&&e instanceof a)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}}else(e instanceof l||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==n&&n.nextTick,"function"==typeof setImmediate){s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s.nextTick=function(e){return setImmediate(e)};return}if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];s.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),a=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var e=t.slice();t.length=0,e.forEach(function(e){e()})}).observe(i,{attributes:!0});var o=s.setImmediate;s.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),o(e)):(t.push(e),1===t.length&&i.setAttribute("a",a=!a))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==n&&n.versions&&n.versions.node,s.globalScope=s.isNodejs?r.g:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=l,s.ByteStringBuffer=l,s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=s.isArrayBuffer(e),n=s.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var r,n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=n.byteLength-n.byteOffset;this.accommodate(a);var i=new Uint8Array(this.data.buffer,this.write);return i.set(n),this.write+=a,this}if(s.isArrayBuffer(e)){var n=new Uint8Array(e);this.accommodate(n.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(n,this.write),this.write+=n.byteLength,this}if(e instanceof s.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){var n=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(n.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(n),this.write+=n.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),r=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,r,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),r=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,r,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),r=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(r),this;if("utf16"===t)return this.accommodate(2*e.length),r=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(r),this;throw Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},s.xorBytes=function(e,t,r){for(var n="",a="",i="",o=0,s=0;r>0;--r,++o)a=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(n+=i,i="",s=0),i+=String.fromCharCode(a),++s;return n+i},s.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var r,n,a,i="",o="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),a=e.charCodeAt(s++),i+=u.charAt(r>>2)+u.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":i+=u.charAt((15&n)<<2|a>>6)+(isNaN(a)?"=":u.charAt(63&a)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,a,i="",o=0;o<e.length;)t=A[e.charCodeAt(o++)-43],r=A[e.charCodeAt(o++)-43],n=A[e.charCodeAt(o++)-43],a=A[e.charCodeAt(o++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var a=r=r||0,i=0;i<e.length;++i)n[a++]=e.charCodeAt(i);return t?a-r:n},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var a=0,i=r=r||0;for(1&e.length&&(a=1,n[i++]=parseInt(e[0],16));a<e.length;a+=2)n[i++]=parseInt(e.substr(a,2),16);return t?i-r:n},s.binary.base64.encode=function(e,t){for(var r,n,a,i="",o="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],a=e[s++],i+=u.charAt(r>>2)+u.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":i+=u.charAt((15&n)<<2|a>>6)+(isNaN(a)?"=":u.charAt(63&a)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},s.binary.base64.decode=function(e,t,r){var n,a,i,o,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,l=r=r||0;c<e.length;)n=A[e.charCodeAt(c++)-43],a=A[e.charCodeAt(c++)-43],i=A[e.charCodeAt(c++)-43],o=A[e.charCodeAt(c++)-43],s[l++]=n<<2|a>>4,64!==i&&(s[l++]=(15&a)<<4|i>>2,64!==o&&(s[l++]=(3&i)<<6|o));return t?l-r:s.subarray(0,l)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,d,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,d,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,r){e=s.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var a=r=r||0,i=0;i<e.length;++i)n[a++]=e.charCodeAt(i);return t?a-r:n},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var a=new Uint16Array(n.buffer),i=r=r||0,o=r,s=0;s<e.length;++s)a[o++]=e.charCodeAt(s),i+=2;return t?i-r:n},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,r){if(t=s.decode64(e.deflate(s.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},s.inflate=function(e,t,r){var n=e.inflate(s.encode64(t)).rval;return null===n?null:s.decode64(n)};var f=function(e,t,r){if(!e)throw Error("WebStorage not available.");if(null===r?n=e.removeItem(t):(r=s.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var n,a=Error(n.error.message);throw a.id=n.error.id,a.name=n.error.name,a}},p=function(e,t){if(!e)throw Error("WebStorage not available.");var r=e.getItem(t);if(e.init){if(null===r.rval){if(r.error){var n=Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval}return null!==r&&(r=JSON.parse(s.decode64(r))),r},g=function(e,t,r,n){var a=p(e,t);null===a&&(a={}),a[r]=n,f(e,t,a)},h=function(e,t,r){var n=p(e,t);return null!==n&&(n=r in n?n[r]:null),n},y=function(e,t,r){var n=p(e,t);if(null!==n&&r in n){delete n[r];var a=!0;for(var i in n){a=!1;break}a&&(n=null),f(e,t,n)}},m=function(e,t){f(e,t,null)},I=function(e,t,r){var n,a=null;void 0===r&&(r=["web","flash"]);var i=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw Error("Flash local storage not available.");a=e.apply(this,t),i="flash"===n}("web"===n||"both"===n)&&(t[0]=localStorage,a=e.apply(this,t),i=!0)}catch(e){o=e}if(i)break}if(!i)throw o;return a};s.setItem=function(e,t,r,n,a){I(g,arguments,a)},s.getItem=function(e,t,r,n){return I(h,arguments,n)},s.removeItem=function(e,t,r,n){I(y,arguments,n)},s.clearItems=function(e,t,r){I(m,arguments,r)},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,r,n=/%./g,a=0,i=[],o=0;t=n.exec(e);){(r=e.substring(o,n.lastIndex-2)).length>0&&i.push(r),o=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":a<arguments.length?i.push(arguments[a+++1]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+s+"?>")}}return i.push(e.substring(o)),i.join("")},s.formatNumber=function(e,t,r,n){var a=e,i=isNaN(t=Math.abs(t))?2:t,o=void 0===n?".":n,s=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(i),10)+"",l=c.length>3?c.length%3:0;return s+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?(void 0===r?",":r)+Math.abs(a-c).toFixed(i).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return -1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,r=(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t)*2,n=s.createBuffer(),a=0;a<8;++a){if(!e[a]||0===e[a].length){n.fillWithByte(0,r),r=0;continue}var i=s.hexToBytes(e[a]);i.length<2&&n.putByte(0),n.putBytes(i)}return n.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,a=0;a<e.length;a+=2){for(var i=s.bytesToHex(e[a]+e[a+1]);"0"===i[0]&&"0"!==i;)i=i.substr(1);if("0"===i){var o=r[r.length-1],c=t.length;o&&c===o.end+1?(o.end=c,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}t.push(i)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),0===l.start&&t.unshift(""),7===l.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}).toString(),")()"],{type:"application/javascript"}));(function e(n,a,i){if(0===a){var o=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,s.cores)}(function(e,t){for(var n=[],a=[],i=0;i<e;++i){var o=new Worker(r);o.addEventListener("message",function(r){if(a.push(r.data),a.length===e){for(var i=0;i<e;++i)n[i].terminate();t(null,a)}}),n.push(o)}for(var i=0;i<e;++i)n[i].postMessage(i)})(i,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var a=t[n],i=r[n]=[],o=0;o<e;++o)if(n!==o){var s=t[o];(a.st>s.st&&a.st<s.et||s.st>a.st&&s.st<a.et)&&i.push(o)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(i,r)),e(n,a-1,i)})})([],5,16)}},25414:function(e,t,r){var n=r(3832);r(8925),r(3068),r(33480),r(28991),r(86971),r(66270),r(26953),r(96007),r(28095),r(97116);var a=n.asn1,i=e.exports=n.pki=n.pki||{},o=i.oids,s={};s.CN=o.commonName,s.commonName="CN",s.C=o.countryName,s.countryName="C",s.L=o.localityName,s.localityName="L",s.ST=o.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=o.organizationName,s.organizationName="O",s.OU=o.organizationalUnitName,s.organizationalUnitName="OU",s.E=o.emailAddress,s.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},u={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},A={name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[A,{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,a=0;null===n&&a<e.attributes.length;++a)r=e.attributes[a],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}i.RDNAttributesAsArray=function(e,t){for(var r,n,i,c=[],l=0;l<e.value.length;++l){r=e.value[l];for(var u=0;u<r.value.length;++u)i={},n=r.value[u],i.type=a.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in o&&(i.name=o[i.type],i.name in s&&(i.shortName=s[i.name])),t&&(t.update(i.type),t.update(i.value)),c.push(i)}return c},i.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],c=a.derToOid(n.value[0].value),l=n.value[1].value,u=0;u<l.length;++u){var A={};if(A.type=c,A.value=l[u].value,A.valueTagClass=l[u].type,A.type in o&&(A.name=o[A.type],A.name in s&&(A.shortName=s[A.name])),A.type===o.extensionRequest){A.extensions=[];for(var d=0;d<A.value.length;++d)A.extensions.push(i.certificateExtensionFromAsn1(A.value[d]))}t.push(A)}return t};var p=function(e,t,r){var n={};if(e!==o["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var i={},s=[];if(!a.validate(t,u,i,s)){var c=Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=s,c}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=a.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=a.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=a.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n},g=function(e){switch(o[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return n.md.sha1.create();case"md5WithRSAEncryption":return n.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return n.md.sha256.create();case"sha384WithRSAEncryption":return n.md.sha384.create();case"sha512WithRSAEncryption":return n.md.sha512.create();default:var t=Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},h=function(e){var t,r,a,i=e.certificate;switch(i.signatureOid){case o.sha1WithRSAEncryption:case o.sha1WithRSASignature:break;case o["RSASSA-PSS"]:if(void 0===(r=o[i.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[r]){var s=Error("Unsupported MGF hash function.");throw s.oid=i.signatureParameters.mgf.hash.algorithmOid,s.name=r,s}if(void 0===(a=o[i.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[a]){var s=Error("Unsupported MGF function.");throw s.oid=i.signatureParameters.mgf.algorithmOid,s.name=a,s}if(a=n.mgf[a].create(n.md[r].create()),void 0===(r=o[i.signatureParameters.hash.algorithmOid])||void 0===n.md[r]){var s=Error("Unsupported RSASSA-PSS hash function.");throw s.oid=i.signatureParameters.hash.algorithmOid,s.name=r,s}t=n.pss.create(n.md[r].create(),a,i.signatureParameters.saltLength)}return i.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,r,i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),o=e.attributes,s=0;s<o.length;++s){var c=(t=o[s]).value,l=a.Type.PRINTABLESTRING;"valueTagClass"in t&&(l=t.valueTagClass)===a.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.type).getBytes()),a.create(a.Class.UNIVERSAL,l,!1,c)])]),i.value.push(r)}return i}function m(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in i.oids?t.name=i.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=i.oids[s[t.shortName]])),void 0===t.type){if(t.name&&t.name in i.oids)t.type=i.oids[t.name];else{var n=Error("Attribute type not specified.");throw n.attribute=t,n}}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===o.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=a.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var c=0;c<t.extensions.length;++c)t.value.push(i.certificateExtensionToAsn1(I(t.extensions[c])))}if(void 0===t.value){var n=Error("Attribute value not specified.");throw n.attribute=t,n}}}function I(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in i.oids&&(e.name=i.oids[e.id]),void 0===e.id){if(e.name&&e.name in i.oids)e.id=i.oids[e.name];else{var r=Error("Extension ID not specified.");throw r.extension=e,r}}if(void 0!==e.value)return e;if("keyUsage"===e.name){var s=0,c=0,l=0;e.digitalSignature&&(c|=128,s=7),e.nonRepudiation&&(c|=64,s=6),e.keyEncipherment&&(c|=32,s=5),e.dataEncipherment&&(c|=16,s=4),e.keyAgreement&&(c|=8,s=3),e.keyCertSign&&(c|=4,s=2),e.cRLSign&&(c|=2,s=1),e.encipherOnly&&(c|=1,s=0),e.decipherOnly&&(l|=128,s=7);var u=String.fromCharCode(s);0!==l?u+=String.fromCharCode(c)+String.fromCharCode(l):0!==c&&(u+=String.fromCharCode(c)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,u)}else if("basicConstraints"===e.name)e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var A=e.value.value;for(var d in e)!0===e[d]&&(d in o?A.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o[d]).getBytes())):-1!==d.indexOf(".")&&A.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(d).getBytes())))}else if("nsCertType"===e.name){var s=0,c=0;e.client&&(c|=128,s=7),e.server&&(c|=64,s=6),e.email&&(c|=32,s=5),e.objsign&&(c|=16,s=4),e.reserved&&(c|=8,s=3),e.sslCA&&(c|=4,s=2),e.emailCA&&(c|=2,s=1),e.objCA&&(c|=1,s=0);var u=String.fromCharCode(s);0!==c&&(u+=String.fromCharCode(c)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,u)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var f,p=0;p<e.altNames.length;++p){var u=(f=e.altNames[p]).value;if(7===f.type&&f.ip){if(null===(u=n.util.bytesFromIP(f.ip))){var r=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===f.type&&(u=f.oid?a.oidToDer(a.oidToDer(f.oid)):a.oidToDer(u));e.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,f.type,!1,u))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw Error('Invalid "nsComment" content.');e.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var g=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=g.toHex(),e.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,g.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var A=e.value.value;if(e.keyIdentifier){var h=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;A.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var m=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];A.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var I=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);A.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,I))}}else if("cRLDistributionPoints"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var f,A=e.value.value,C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),E=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]),p=0;p<e.altNames.length;++p){var u=(f=e.altNames[p]).value;if(7===f.type&&f.ip){if(null===(u=n.util.bytesFromIP(f.ip))){var r=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===f.type&&(u=f.oid?a.oidToDer(a.oidToDer(f.oid)):a.oidToDer(u));E.value.push(a.create(a.Class.CONTEXT_SPECIFIC,f.type,!1,u))}C.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[E])),A.push(C)}if(void 0===e.value){var r=Error("Extension value not specified.");throw r.extension=e,r}return e}function C(e,t){if(e===o["RSASSA-PSS"]){var r=[];return void 0!==t.hash.algorithmOid&&r.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,r)}return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}i.certificateFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var s=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var c=a.fromDer(o.body,r);return i.certificateFromAsn1(c,t)},i.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:a.toDer(i.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");var o=a.fromDer(t.body);return i.publicKeyFromAsn1(o)},i.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:a.toDer(i.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:a.toDer(i.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.getPublicKeyFingerprint=function(e,t){var r,o=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=a.toDer(i.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=a.toDer(i.publicKeyToAsn1(e)).getBytes();break;default:throw Error('Unknown fingerprint type "'+t.type+'".')}o.start(),o.update(r);var s=o.digest();if("hex"===t.encoding){var c=s.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw Error('Unknown encoding "'+t.encoding+'".');return s},i.certificationRequestFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==o.type){var s=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");var c=a.fromDer(o.body,r);return i.certificationRequestFromAsn1(c,t)},i.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:a.toDer(i.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){m(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)I(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,a=0;null===n&&a<e.extensions.length;++a)r=e.extensions[a],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=o[e.md.algorithm+"WithRSAEncryption"];if(!s){var c=Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=i.getTBSCertificate(e);var l=a.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,o=e.subject,s=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=o.attributes,s.actualIssuer=n.attributes,s}var c=t.md;if(null===c){c=g({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||i.getTBSCertificate(t),u=a.toDer(l);c.update(u.getBytes())}return null!==c&&(r=h({certificate:e,md:c,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,a=t.subject;if(n.hash&&a.hash)r=n.hash===a.hash;else if(n.attributes.length===a.attributes.length){r=!0;for(var i,o,s=0;r&&s<n.attributes.length;++s)i=n.attributes[s],o=a.attributes[s],(i.type!==o.type||i.value!==o.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=o.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var a=e.extensions[r];if(a.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(a.subjectKeyIdentifier)===i}}return!1},e},i.certificateFromAsn1=function(e,t){var r={},o=[];if(!a.validate(e,l,r,o)){var s=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=o,s}if(a.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var c=i.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=n.util.createBuffer(r.certSerialNumber);c.serialNumber=u.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=p(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var A=[];if(void 0!==r.certValidity1UTCTime&&A.push(a.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&A.push(a.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&A.push(a.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&A.push(a.generalizedTimeToDate(r.certValidity4GeneralizedTime)),A.length>2)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(A.length<2)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=A[0],c.validity.notAfter=A[1],c.tbsCertificate=r.tbsCertificate,t){c.md=g({signatureOid:c.signatureOid,type:"certificate"});var d=a.toDer(c.tbsCertificate);c.md.update(d.getBytes())}var h=n.md.sha1.create(),y=a.toDer(r.certIssuer);h.update(y.getBytes()),c.issuer.getField=function(e){return f(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=i.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=h.digest().toHex();var I=n.md.sha1.create(),C=a.toDer(r.certSubject);return I.update(C.getBytes()),c.subject.getField=function(e){return f(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=i.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=I.digest().toHex(),r.certExtensions?c.extensions=i.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},i.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],a=0;a<n.value.length;++a)t.push(i.certificateExtensionFromAsn1(n.value[a]));return t},i.certificateExtensionFromAsn1=function(e){var t={};if(t.id=a.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===a.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in o){if(t.name=o[t.id],"keyUsage"===t.name){var r=a.fromDer(t.value),i=0,s=0;r.value.length>1&&(i=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(128&i)==128,t.nonRepudiation=(64&i)==64,t.keyEncipherment=(32&i)==32,t.dataEncipherment=(16&i)==16,t.keyAgreement=(8&i)==8,t.keyCertSign=(4&i)==4,t.cRLSign=(2&i)==2,t.encipherOnly=(1&i)==1,t.decipherOnly=(128&s)==128}else if("basicConstraints"===t.name){var r=a.fromDer(t.value);r.value.length>0&&r.value[0].type===a.Type.BOOLEAN?t.cA=0!==r.value[0].value.charCodeAt(0):t.cA=!1;var c=null;r.value.length>0&&r.value[0].type===a.Type.INTEGER?c=r.value[0].value:r.value.length>1&&(c=r.value[1].value),null!==c&&(t.pathLenConstraint=a.derToInteger(c))}else if("extKeyUsage"===t.name)for(var r=a.fromDer(t.value),l=0;l<r.value.length;++l){var u=a.derToOid(r.value[l].value);u in o?t[o[u]]=!0:t[u]=!0}else if("nsCertType"===t.name){var r=a.fromDer(t.value),i=0;r.value.length>1&&(i=r.value.charCodeAt(1)),t.client=(128&i)==128,t.server=(64&i)==64,t.email=(32&i)==32,t.objsign=(16&i)==16,t.reserved=(8&i)==8,t.sslCA=(4&i)==4,t.emailCA=(2&i)==2,t.objCA=(1&i)==1}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.altNames=[];for(var A,r=a.fromDer(t.value),d=0;d<r.value.length;++d){var f={type:(A=r.value[d]).type,value:A.value};switch(t.altNames.push(f),A.type){case 1:case 2:case 6:break;case 7:f.ip=n.util.bytesToIP(A.value);break;case 8:f.oid=a.derToOid(A.value)}}}else if("subjectKeyIdentifier"===t.name){var r=a.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(r.value)}}return t},i.certificationRequestFromAsn1=function(e,t){var r={},o=[];if(!a.validate(e,d,r,o)){var s=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=o,s}if(a.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var c=i.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=p(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){c.md=g({signatureOid:c.signatureOid,type:"certification request"});var l=a.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var u=n.md.sha1.create();return c.subject.getField=function(e){return f(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=i.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),c.subject.hash=u.digest().toHex(),c.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return f(c,e)},c.addAttribute=function(e){m([e]),c.attributes.push(e)},c.attributes=i.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},i.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=o[e.md.algorithm+"WithRSAEncryption"];if(!s){var c=Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=i.getCertificationRequestInfo(e);var l=a.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){r=g({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||i.getCertificationRequestInfo(e),o=a.toDer(n);r.update(o.getBytes())}return null!==r&&(t=h({certificate:e,md:r,signature:e.signature})),t},e};var E=new Date("1950-01-01T00:00:00Z"),v=new Date("2050-01-01T00:00:00Z");function B(e){return e>=E&&e<v?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(e))}i.getTBSCertificate=function(e){var t=B(e.validity.notBefore),r=B(e.validity.notAfter),o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.siginfo.algorithmOid).getBytes()),C(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,r]),y(e.subject),i.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&o.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\x00"+e.issuer.uniqueId)])),e.subject.uniqueId&&o.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\x00"+e.subject.uniqueId)])),e.extensions.length>0&&o.value.push(i.certificateExtensionsToAsn1(e.extensions)),o},i.getCertificationRequestInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),y(e.subject),i.publicKeyToAsn1(e.publicKey),function(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,i=0;i<r.length;++i){var o=r[i],s=o.value,c=a.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===a.Type.UTF8&&(s=n.util.encodeUtf8(s));var l=!1;"valueConstructed"in o&&(l=o.valueConstructed);var u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,c,l,s)])]);t.value.push(u)}return t}(e)])},i.distinguishedNameToAsn1=function(e){return y(e)},i.certificateToAsn1=function(e){var t=e.tbsCertificate||i.getTBSCertificate(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),C(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\x00"+e.signature)])},i.certificateExtensionsToAsn1=function(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),r=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(i.certificateExtensionToAsn1(e[n]));return t},i.certificateExtensionToAsn1=function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.id).getBytes())),e.critical&&t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=a.toDer(r).getBytes()),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,r)),t},i.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||i.getCertificationRequestInfo(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),C(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\x00"+e.signature)])},i.createCaStore=function(e){var t={certs:{}};function r(e){return o(e),t.certs[e.hash]||null}function o(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=i.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e)){if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e}},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var o=a.toDer(i.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s)if(o===a.toDer(i.certificateToAsn1(t[s])).getBytes())return!0;return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var a=t.certs[r];if(n.util.isArray(a))for(var i=0;i<a.length;++i)e.push(a[i]);else e.push(a)}return e},t.removeCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))return null;var s,c=r(e.subject);if(!n.util.isArray(c))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var l=a.toDer(i.certificateToAsn1(e)).getBytes(),u=0;u<c.length;++u)l===a.toDer(i.certificateToAsn1(c[u])).getBytes()&&(s=c[u],c.splice(u,1));return 0===c.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var c=e[s];t.addCertificate(c)}return t},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var a=(t=t.slice(0)).slice(0),o=r.validityCheckDate;void 0===o&&(o=new Date);var s=!0,c=null,l=0;do{var u=t.shift(),A=null,d=!1;if(o&&(o<u.validity.notBefore||o>u.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:o}),null===c){if(null===(A=t[0]||e.getIssuer(u))&&u.isIssuer(u)&&(d=!0,A=u),A){var f=A;n.util.isArray(f)||(f=[f]);for(var p=!1;!p&&f.length>0;){A=f.shift();try{p=A.verify(u)}catch(e){}}p||(c={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}null!==c||A&&!d||e.hasCertificate(u)||(c={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(null===c&&A&&!u.isIssuer(A)&&(c={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),null===c)for(var g={keyUsage:!0,basicConstraints:!0},h=0;null===c&&h<u.extensions.length;++h){var y=u.extensions[h];!y.critical||y.name in g||(c={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(null===c&&(!s||0===t.length&&(!A||d))){var m=u.getExtension("basicConstraints"),I=u.getExtension("keyUsage");null===I||I.keyCertSign&&null!==m||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate}),null!==c||null===m||m.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),null===c&&null!==I&&"pathLenConstraint"in m&&l-1>m.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}var C=null===c||c.error,E=r.verify?r.verify(C,l,a):C;if(!0===E)c=null;else throw!0===C&&(c={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(E||0===E)&&("object"!=typeof E||n.util.isArray(E)?"string"==typeof E&&(c.error=E):(E.message&&(c.message=E.message),E.error&&(c.error=E.error))),c;s=!1,++l}while(t.length>0);return!0}},69921:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,A=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,I=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case A:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case h:case g:case c:return e;default:return t}}case a:return t}}}function v(e){return E(e)===A}t.AsyncMode=u,t.ConcurrentMode=A,t.ContextConsumer=l,t.ContextProvider=c,t.Element=n,t.ForwardRef=d,t.Fragment=i,t.Lazy=h,t.Memo=g,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return v(e)||E(e)===u},t.isConcurrentMode=v,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===h},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===A||e===s||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||e.$$typeof===I||e.$$typeof===C||e.$$typeof===y)},t.typeOf=E},59864:function(e,t,r){"use strict";e.exports=r(69921)},9473:function(e,t,r){"use strict";r.d(t,{zt:function(){return I},I0:function(){return v},v9:function(){return h}});var n=r(61688),a=r(52798),i=r(73935);let o=function(e){e()},s=()=>o;var c=r(67294);let l=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{},A=function(){var e;if(!c.createContext)return{};let t=null!=(e=u[l])?e:u[l]=new Map,r=t.get(c.createContext);return r||(r=c.createContext(null),t.set(c.createContext,r)),r}();function d(e=A){return function(){return(0,c.useContext)(e)}}let f=d(),p=()=>{throw Error("uSES not initialized!")},g=(e,t)=>e===t,h=function(e=A){let t=e===A?f:d(e);return function(e,r={}){let{equalityFn:n=g,stabilityCheck:a,noopCheck:i}="function"==typeof r?{equalityFn:r}:r,{store:o,subscription:s,getServerState:l,stabilityCheck:u,noopCheck:A}=t();(0,c.useRef)(!0);let d=(0,c.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,a]),f=p(s.addNestedSub,o.getState,l||o.getState,d,n);return(0,c.useDebugValue)(f),f}}();r(8679),r(72973);let y={notify(){},get:()=>[]},m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect;var I=function({store:e,context:t,children:r,serverState:n,stabilityCheck:a="once",noopCheck:i="once"}){let o=c.useMemo(()=>{let t=function(e,t){let r;let n=y,a=0,i=!1;function o(){u.onStateChange&&u.onStateChange()}function c(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=s(),t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=y)}let u={addNestedSub:function(e){c();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,c())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return u}(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:a,noopCheck:i}},[e,n,a,i]),l=c.useMemo(()=>e.getState(),[e]);return m(()=>{let{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[o,l]),c.createElement((t||A).Provider,{value:o},r)};function C(e=A){let t=e===A?f:d(e);return function(){let{store:e}=t();return e}}let E=C(),v=function(e=A){let t=e===A?E:C(e);return function(){return t().dispatch}}();p=a.useSyncExternalStoreWithSelector,n.useSyncExternalStore,o=i.unstable_batchedUpdates},88359:function(e,t){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},72973:function(e,t,r){"use strict";r(88359)},53250:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(67294),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,o=n.useEffect,s=n.useLayoutEffect,c=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return s(function(){a.value=r,a.getSnapshot=t,l(a)&&u({inst:a})},[e,r,t]),o(function(){return l(a)&&u({inst:a}),e(function(){l(a)&&u({inst:a})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},50139:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(67294),a=r(61688),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useSyncExternalStore,s=n.useRef,c=n.useEffect,l=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var A=s(null);if(null===A.current){var d={hasValue:!1,value:null};A.current=d}else d=A.current;var f=o(e,(A=l(function(){function e(e){if(!c){if(c=!0,o=e,e=n(e),void 0!==a&&d.hasValue){var t=d.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?t:(o=e,s=r)}var o,s,c=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,a]))[0],A[1]);return c(function(){d.hasValue=!0,d.value=f},[f]),u(f),f}},61688:function(e,t,r){"use strict";e.exports=r(53250)},52798:function(e,t,r){"use strict";e.exports=r(50139)},6855:function(){},8866:function(){},91156:function(){},93939:function(){},44970:function(){},85341:function(){},63315:function(){},65995:function(){},97684:function(){},62678:function(){},25819:function(){},24112:function(){},11208:function(){},4942:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(83997);function a(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},83997:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(71002);function a(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==(0,n.Z)(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},71002:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(23837),t(12937)}),_N_E=e.O()}]);